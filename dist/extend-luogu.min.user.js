// ==UserScript==
// @name           extend-luogu
// @namespace      http://tampermonkey.net/
// @description    Make luogu more powerful.
// @description:zh 使洛谷拥有更多功能
// @icon           https://raw.fastgit.org/extend-luogu/extend-luogu/main/favicon.ico
// @icon64         https://exlg.cc/img/logo.png
// @homepage       https://exlg.cc
// @version        6.7.5
//
// @match          https://*.luogu.com.cn/*
// @match          https://*.luogu.org/*
// @match          https://www.bilibili.com/robots.txt?*
// @match          https://service-ig5px5gh-1305163805.sh.apigw.tencentcs.com/release/APIGWHtmlDemo-1615602121
// @match          https://service-nd5kxeo3-1305163805.sh.apigw.tencentcs.com/release/exlg-nextgen
// @match          https://extend-luogu.github.io/exlg-setting-new/*
// @match          https://dash.exlg.cc/*
// @include        http://localhost:1634/*
//
// @connect        tencentcs.com
// @connect        xn--fx-ex2c330n.ml
// @connect        bens.rotriw.com
// @connect        codeforces.com
// @connect        codeforces.ml
// @connect        codeforc.es
// @connect        kenkoooo.com
// @connect        api.github.com
// @connect        exlg.piterator.com
// @connect        luogu-captcha-bypass.piterator.com
// @connect        exlgcs.jin-dan.site
// @connect        localhost
//
// @require        https://cdn.luogu.com.cn/js/jquery-2.1.1.min.js
//
// @resource       colorpicker https://extend-luogu.github.io/exlg-color-picker/dist/xncolorpicker.min.js
// @resource       colorpicker_old https://www.jq22.com/demo/xncolorpicker-main202101270059/dist/xncolorpicker.min.js
// @resource       pickr_resource https://unpkg.com/@simonwep/pickr@1.8.2/dist/pickr.min.js
// @resource       pickr_resource_css https://unpkg.com/@simonwep/pickr@1.8.2/dist/themes/nano.min.css
// @resource       roboto https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap
// @resource       material_icons https://fonts.googleapis.com/icon?family=Material+Icons
// @resource       material_icons_outlined https://fonts.googleapis.com/icon?family=Material+Icons+Outlined
//
// @grant          GM_addStyle
// @grant          GM_getValue
// @grant          GM_setValue
// @grant          GM_deleteValue
// @grant          GM_listValues
// @grant          GM_setClipboard
// @grant          GM_xmlhttpRequest
// @grant          GM_getResourceText
// @grant          unsafeWindow
// ==/UserScript==

;
(()=>{var ew=Object.create;var l0=Object.defineProperty;var tw=Object.getOwnPropertyDescriptor;var rw=Object.getOwnPropertyNames;var nw=Object.getPrototypeOf,iw=Object.prototype.hasOwnProperty;var Q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ow=(t,e)=>{for(var r in e)l0(t,r,{get:e[r],enumerable:!0})},aw=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rw(e))!iw.call(t,i)&&i!==r&&l0(t,i,{get:()=>e[i],enumerable:!(n=tw(e,i))||n.enumerable});return t};var Qi=(t,e,r)=>(r=t!=null?ew(nw(t)):{},aw(e||!t||!t.__esModule?l0(r,"default",{value:t,enumerable:!0}):r,t));var u0=Q(Po=>{function xm(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function sw(t,e,r){}function lw(t,e,r){}var uw=/javascript\s*\:/img;function cw(t,e){return uw.test(e)?"":e}Po.whiteList=xm();Po.getDefaultWhiteList=xm;Po.onAttr=sw;Po.onIgnoreAttr=lw;Po.safeAttrValue=cw});var c0=Q((c$,wm)=>{wm.exports={indexOf:function(t,e){var r,n;if(Array.prototype.indexOf)return t.indexOf(e);for(r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},forEach:function(t,e,r){var n,i;if(Array.prototype.forEach)return t.forEach(e,r);for(n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}}});var km=Q((d$,vm)=>{var es=c0();function dw(t,e){t=es.trimRight(t),t[t.length-1]!==";"&&(t+=";");var r=t.length,n=!1,i=0,o=0,a="";function s(){if(!n){var c=es.trim(t.slice(i,o)),d=c.indexOf(":");if(d!==-1){var f=es.trim(c.slice(0,d)),h=es.trim(c.slice(d+1));if(f){var p=e(i,a.length,f,h,c);p&&(a+=p+"; ")}}}i=o+1}for(;o<r;o++){var l=t[o];if(l==="/"&&t[o+1]==="*"){var u=t.indexOf("*/",o+2);if(u===-1)break;o=u+1,i=o+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||s():l===`
`&&s()}return es.trim(a)}vm.exports=dw});var _m=Q((h$,Sm)=>{var Dl=u0(),fw=km(),f$=c0();function Dm(t){return t==null}function hw(t){var e={};for(var r in t)e[r]=t[r];return e}function Cm(t){t=hw(t||{}),t.whiteList=t.whiteList||Dl.whiteList,t.onAttr=t.onAttr||Dl.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||Dl.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||Dl.safeAttrValue,this.options=t}Cm.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,n=r.whiteList,i=r.onAttr,o=r.onIgnoreAttr,a=r.safeAttrValue,s=fw(t,function(l,u,c,d,f){var h=n[c],p=!1;if(h===!0?p=h:typeof h=="function"?p=h(d):h instanceof RegExp&&(p=h.test(d)),p!==!0&&(p=!1),d=a(c,d),!!d){var m={position:u,sourcePosition:l,source:f,isWhite:p};if(p){var b=i(c,d,m);return Dm(b)?c+":"+d:b}else{var b=o(c,d,m);if(!Dm(b))return b}}});return s};Sm.exports=Cm});var Sl=Q((Cl,f0)=>{var Em=u0(),Mm=_m();function pw(t,e){var r=new Mm(e);return r.process(t)}Cl=f0.exports=pw;Cl.FilterCSS=Mm;for(d0 in Em)Cl[d0]=Em[d0];var d0;typeof window<"u"&&(window.filterCSS=f0.exports)});var _l=Q((p$,Am)=>{Am.exports={indexOf:function(t,e){var r,n;if(Array.prototype.indexOf)return t.indexOf(e);for(r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},forEach:function(t,e,r){var n,i;if(Array.prototype.forEach)return t.forEach(e,r);for(n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,r=e.exec(t);return r?r.index:-1}}});var h0=Q(st=>{var mw=Sl().FilterCSS,gw=Sl().getDefaultWhiteList,Ml=_l();function Om(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var zm=new mw;function bw(t,e,r){}function yw(t,e,r){}function xw(t,e,r){}function ww(t,e,r){}function Nm(t){return t.replace(kw,"&lt;").replace(Dw,"&gt;")}function vw(t,e,r,n){if(r=Pm(r),e==="href"||e==="src"){if(r=Ml.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(e==="background"){if(El.lastIndex=0,El.test(r))return""}else if(e==="style"){if(Tm.lastIndex=0,Tm.test(r)||(Fm.lastIndex=0,Fm.test(r)&&(El.lastIndex=0,El.test(r))))return"";n!==!1&&(n=n||zm,r=n.process(r))}return r=jm(r),r}var kw=/</g,Dw=/>/g,Cw=/"/g,Sw=/&quot;/g,_w=/&#([a-zA-Z0-9]*);?/gim,Ew=/&colon;?/gim,Mw=/&newline;?/gim,El=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Tm=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Fm=/u\s*r\s*l\s*\(.*/gi;function Im(t){return t.replace(Cw,"&quot;")}function Lm(t){return t.replace(Sw,'"')}function Bm(t){return t.replace(_w,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function $m(t){return t.replace(Ew,":").replace(Mw," ")}function Rm(t){for(var e="",r=0,n=t.length;r<n;r++)e+=t.charCodeAt(r)<32?" ":t.charAt(r);return Ml.trim(e)}function Pm(t){return t=Lm(t),t=Bm(t),t=$m(t),t=Rm(t),t}function jm(t){return t=Im(t),t=Nm(t),t}function Aw(){return""}function Tw(t,e){typeof e!="function"&&(e=function(){});var r=!Array.isArray(t);function n(a){return r?!0:Ml.indexOf(t,a)!==-1}var i=[],o=!1;return{onIgnoreTag:function(a,s,l){if(n(a))if(l.isClosing){var u="[/removed]",c=l.position+u.length;return i.push([o!==!1?o:l.position,c]),o=!1,u}else return o||(o=l.position),"[removed]";else return e(a,s,l)},remove:function(a){var s="",l=0;return Ml.forEach(i,function(u){s+=a.slice(l,u[0]),l=u[1]}),s+=a.slice(l),s}}}function Fw(t){for(var e="",r=0;r<t.length;){var n=t.indexOf("<!--",r);if(n===-1){e+=t.slice(r);break}e+=t.slice(r,n);var i=t.indexOf("-->",n);if(i===-1)break;r=i+3}return e}function Ow(t){var e=t.split("");return e=e.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),e.join("")}st.whiteList=Om();st.getDefaultWhiteList=Om;st.onTag=bw;st.onIgnoreTag=yw;st.onTagAttr=xw;st.onIgnoreTagAttr=ww;st.safeAttrValue=vw;st.escapeHtml=Nm;st.escapeQuote=Im;st.unescapeQuote=Lm;st.escapeHtmlEntities=Bm;st.escapeDangerHtml5Entities=$m;st.clearNonPrintableCharacter=Rm;st.friendlyAttrValue=Pm;st.escapeAttrValue=jm;st.onIgnoreTagStripAll=Aw;st.StripTagBody=Tw;st.stripCommentTag=Fw;st.stripBlankChar=Ow;st.cssFilter=zm;st.getDefaultCSSWhiteList=gw});var m0=Q(p0=>{var bi=_l();function zw(t){var e=bi.spaceIndex(t),r;return e===-1?r=t.slice(1,-1):r=t.slice(1,e+1),r=bi.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function Nw(t){return t.slice(0,2)==="</"}function Iw(t,e,r){"use strict";var n="",i=0,o=!1,a=!1,s=0,l=t.length,u="",c="";e:for(s=0;s<l;s++){var d=t.charAt(s);if(o===!1){if(d==="<"){o=s;continue}}else if(a===!1){if(d==="<"){n+=r(t.slice(i,s)),o=s,i=s;continue}if(d===">"){n+=r(t.slice(i,o)),c=t.slice(o,s+1),u=zw(c),n+=e(o,n.length,u,c,Nw(c)),i=s+1,o=!1;continue}if(d==='"'||d==="'")for(var f=1,h=t.charAt(s-f);h.trim()===""||h==="=";){if(h==="="){a=d;continue e}h=t.charAt(s-++f)}}else if(d===a){a=!1;continue}}return i<t.length&&(n+=r(t.substr(i))),n}var Lw=/[^a-zA-Z0-9\\_:.-]/gim;function Bw(t,e){"use strict";var r=0,n=0,i=[],o=!1,a=t.length;function s(f,h){if(f=bi.trim(f),f=f.replace(Lw,"").toLowerCase(),!(f.length<1)){var p=e(f,h||"");p&&i.push(p)}}for(var l=0;l<a;l++){var u=t.charAt(l),c,d;if(o===!1&&u==="="){o=t.slice(r,l),r=l+1,n=t.charAt(r)==='"'||t.charAt(r)==="'"?r:Rw(t,l+1);continue}if(o!==!1&&l===n){if(d=t.indexOf(u,l+1),d===-1)break;c=bi.trim(t.slice(n+1,d)),s(o,c),o=!1,l=d,r=l+1;continue}if(/\s|\n|\t/.test(u))if(t=t.replace(/\s|\n|\t/g," "),o===!1)if(d=$w(t,l),d===-1){c=bi.trim(t.slice(r,l)),s(c),o=!1,r=l+1;continue}else{l=d-1;continue}else if(d=Pw(t,l-1),d===-1){c=bi.trim(t.slice(r,l)),c=qm(c),s(o,c),o=!1,r=l+1;continue}else continue}return r<t.length&&(o===!1?s(t.slice(r)):s(o,qm(bi.trim(t.slice(r))))),bi.trim(i.join(" "))}function $w(t,e){for(;e<t.length;e++){var r=t[e];if(r!==" ")return r==="="?e:-1}}function Rw(t,e){for(;e<t.length;e++){var r=t[e];if(r!==" ")return r==="'"||r==='"'?e:-1}}function Pw(t,e){for(;e>0;e--){var r=t[e];if(r!==" ")return r==="="?e:-1}}function jw(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function qm(t){return jw(t)?t.substr(1,t.length-2):t}p0.parseTag=Iw;p0.parseAttr=Bw});var Um=Q((b$,Wm)=>{var qw=Sl().FilterCSS,Zr=h0(),Hm=m0(),Hw=Hm.parseTag,Vw=Hm.parseAttr,Tl=_l();function Al(t){return t==null}function Ww(t){var e=Tl.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=Tl.trim(t.slice(e+1,-1));var r=t[t.length-1]==="/";return r&&(t=Tl.trim(t.slice(0,-1))),{html:t,closing:r}}function Uw(t){var e={};for(var r in t)e[r]=t[r];return e}function Gw(t){var e={};for(var r in t)Array.isArray(t[r])?e[r.toLowerCase()]=t[r].map(function(n){return n.toLowerCase()}):e[r.toLowerCase()]=t[r];return e}function Vm(t){t=Uw(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Zr.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=Gw(t.whiteList||t.allowList):t.whiteList=Zr.whiteList,t.onTag=t.onTag||Zr.onTag,t.onTagAttr=t.onTagAttr||Zr.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Zr.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Zr.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Zr.safeAttrValue,t.escapeHtml=t.escapeHtml||Zr.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new qw(t.css))}Vm.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,n=r.whiteList,i=r.onTag,o=r.onIgnoreTag,a=r.onTagAttr,s=r.onIgnoreTagAttr,l=r.safeAttrValue,u=r.escapeHtml,c=e.cssFilter;r.stripBlankChar&&(t=Zr.stripBlankChar(t)),r.allowCommentTag||(t=Zr.stripCommentTag(t));var d=!1;r.stripIgnoreTagBody&&(d=Zr.StripTagBody(r.stripIgnoreTagBody,o),o=d.onIgnoreTag);var f=Hw(t,function(h,p,m,b,x){var k={sourcePosition:h,position:p,isClosing:x,isWhite:Object.prototype.hasOwnProperty.call(n,m)},D=i(m,b,k);if(!Al(D))return D;if(k.isWhite){if(k.isClosing)return"</"+m+">";var z=Ww(b),O=n[m],E=Vw(z.html,function(T,N){var R=Tl.indexOf(O,T)!==-1,X=a(m,T,N,R);return Al(X)?R?(N=l(m,T,N,c),N?T+'="'+N+'"':T):(X=s(m,T,N,R),Al(X)?void 0:X):X});return b="<"+m,E&&(b+=" "+E),z.closing&&(b+=" /"),b+=">",b}else return D=o(m,b,k),Al(D)?u(b):D},u);return d&&(f=d.remove(f)),f};Wm.exports=Vm});var Xm=Q((jo,Fl)=>{var Gm=h0(),Km=m0(),Jm=Um();function Zm(t,e){var r=new Jm(e);return r.process(t)}jo=Fl.exports=Zm;jo.filterXSS=Zm;jo.FilterXSS=Jm;(function(){for(var t in Gm)jo[t]=Gm[t];for(var e in Km)jo[e]=Km[e]})();typeof window<"u"&&(window.filterXSS=Fl.exports);function Kw(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}Kw()&&(self.filterXSS=Fl.exports)});var Ed=Q((bj,e4)=>{e4.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var u4=Q((yj,l4)=>{"use strict";var ku=Object.prototype.hasOwnProperty,s4=Object.prototype.toString,t4=Object.defineProperty,r4=Object.getOwnPropertyDescriptor,n4=function(e){return typeof Array.isArray=="function"?Array.isArray(e):s4.call(e)==="[object Array]"},i4=function(e){if(!e||s4.call(e)!=="[object Object]")return!1;var r=ku.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&ku.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||ku.call(e,i)},o4=function(e,r){t4&&r.name==="__proto__"?t4(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},a4=function(e,r){if(r==="__proto__")if(ku.call(e,r)){if(r4)return r4(e,r).value}else return;return e[r]};l4.exports=function t(){var e,r,n,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=a4(s,r),i=a4(e,r),s!==i&&(c&&i&&(i4(i)||(o=n4(i)))?(o?(o=!1,a=n&&n4(n)?n:[]):a=n&&i4(n)?n:{},o4(s,{name:r,newValue:t(c,a,i)})):typeof i<"u"&&o4(s,{name:r,newValue:i}));return s}});var cp=Q((BZ,Z5)=>{var iF=typeof global=="object"&&global&&global.Object===Object&&global;Z5.exports=iF});var di=Q(($Z,X5)=>{var oF=cp(),aF=typeof self=="object"&&self&&self.Object===Object&&self,sF=oF||aF||Function("return this")();X5.exports=sF});var Jc=Q((RZ,Y5)=>{var lF=di(),uF=lF.Symbol;Y5.exports=uF});var e8=Q((PZ,Q5)=>{function cF(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}Q5.exports=cF});var i8=Q((jZ,n8)=>{var t8=Jc(),r8=Object.prototype,dF=r8.hasOwnProperty,fF=r8.toString,fl=t8?t8.toStringTag:void 0;function hF(t){var e=dF.call(t,fl),r=t[fl];try{t[fl]=void 0;var n=!0}catch{}var i=fF.call(t);return n&&(e?t[fl]=r:delete t[fl]),i}n8.exports=hF});var a8=Q((qZ,o8)=>{var pF=Object.prototype,mF=pF.toString;function gF(t){return mF.call(t)}o8.exports=gF});var qa=Q((HZ,u8)=>{var s8=Jc(),bF=i8(),yF=a8(),xF="[object Null]",wF="[object Undefined]",l8=s8?s8.toStringTag:void 0;function vF(t){return t==null?t===void 0?wF:xF:l8&&l8 in Object(t)?bF(t):yF(t)}u8.exports=vF});var dp=Q((VZ,c8)=>{function kF(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}c8.exports=kF});var fp=Q((WZ,d8)=>{var DF=qa(),CF=dp(),SF="[object AsyncFunction]",_F="[object Function]",EF="[object GeneratorFunction]",MF="[object Proxy]";function AF(t){if(!CF(t))return!1;var e=DF(t);return e==_F||e==EF||e==SF||e==MF}d8.exports=AF});var h8=Q((UZ,f8)=>{var TF=di(),FF=TF["__core-js_shared__"];f8.exports=FF});var g8=Q((GZ,m8)=>{var hp=h8(),p8=function(){var t=/[^.]+$/.exec(hp&&hp.keys&&hp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function OF(t){return!!p8&&p8 in t}m8.exports=OF});var pp=Q((KZ,b8)=>{var zF=Function.prototype,NF=zF.toString;function IF(t){if(t!=null){try{return NF.call(t)}catch{}try{return t+""}catch{}}return""}b8.exports=IF});var x8=Q((JZ,y8)=>{var LF=fp(),BF=g8(),$F=dp(),RF=pp(),PF=/[\\^$.*+?()[\]{}|]/g,jF=/^\[object .+?Constructor\]$/,qF=Function.prototype,HF=Object.prototype,VF=qF.toString,WF=HF.hasOwnProperty,UF=RegExp("^"+VF.call(WF).replace(PF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GF(t){if(!$F(t)||BF(t))return!1;var e=LF(t)?UF:jF;return e.test(RF(t))}y8.exports=GF});var v8=Q((ZZ,w8)=>{function KF(t,e){return t?.[e]}w8.exports=KF});var Ha=Q((XZ,k8)=>{var JF=x8(),ZF=v8();function XF(t,e){var r=ZF(t,e);return JF(r)?r:void 0}k8.exports=XF});var C8=Q((YZ,D8)=>{var YF=Ha(),QF=di(),eO=YF(QF,"DataView");D8.exports=eO});var _8=Q((QZ,S8)=>{var tO=Ha(),rO=di(),nO=tO(rO,"Map");S8.exports=nO});var M8=Q((eX,E8)=>{var iO=Ha(),oO=di(),aO=iO(oO,"Promise");E8.exports=aO});var T8=Q((tX,A8)=>{var sO=Ha(),lO=di(),uO=sO(lO,"Set");A8.exports=uO});var O8=Q((rX,F8)=>{var cO=Ha(),dO=di(),fO=cO(dO,"WeakMap");F8.exports=fO});var P8=Q((nX,R8)=>{var mp=C8(),gp=_8(),bp=M8(),yp=T8(),xp=O8(),$8=qa(),Va=pp(),z8="[object Map]",hO="[object Object]",N8="[object Promise]",I8="[object Set]",L8="[object WeakMap]",B8="[object DataView]",pO=Va(mp),mO=Va(gp),gO=Va(bp),bO=Va(yp),yO=Va(xp),zo=$8;(mp&&zo(new mp(new ArrayBuffer(1)))!=B8||gp&&zo(new gp)!=z8||bp&&zo(bp.resolve())!=N8||yp&&zo(new yp)!=I8||xp&&zo(new xp)!=L8)&&(zo=function(t){var e=$8(t),r=e==hO?t.constructor:void 0,n=r?Va(r):"";if(n)switch(n){case pO:return B8;case mO:return z8;case gO:return N8;case bO:return I8;case yO:return L8}return e});R8.exports=zo});var wp=Q((iX,j8)=>{var xO=9007199254740991;function wO(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xO}j8.exports=wO});var vp=Q((oX,q8)=>{var vO=fp(),kO=wp();function DO(t){return t!=null&&kO(t.length)&&!vO(t)}q8.exports=DO});var kp=Q((aX,H8)=>{var CO=Array.isArray;H8.exports=CO});var hl=Q((sX,V8)=>{function SO(t){return t!=null&&typeof t=="object"}V8.exports=SO});var U8=Q((lX,W8)=>{var _O=qa(),EO=kp(),MO=hl(),AO="[object String]";function TO(t){return typeof t=="string"||!EO(t)&&MO(t)&&_O(t)==AO}W8.exports=TO});var K8=Q((uX,G8)=>{function FO(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}G8.exports=FO});var Z8=Q((cX,J8)=>{function OO(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}J8.exports=OO});var Y8=Q((dX,X8)=>{function zO(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}X8.exports=zO});var e7=Q((fX,Q8)=>{function NO(t){return t.split("")}Q8.exports=NO});var r7=Q((hX,t7)=>{var IO="\\ud800-\\udfff",LO="\\u0300-\\u036f",BO="\\ufe20-\\ufe2f",$O="\\u20d0-\\u20ff",RO=LO+BO+$O,PO="\\ufe0e\\ufe0f",jO="\\u200d",qO=RegExp("["+jO+IO+RO+PO+"]");function HO(t){return qO.test(t)}t7.exports=HO});var c7=Q((pX,u7)=>{var n7="\\ud800-\\udfff",VO="\\u0300-\\u036f",WO="\\ufe20-\\ufe2f",UO="\\u20d0-\\u20ff",GO=VO+WO+UO,KO="\\ufe0e\\ufe0f",JO="["+n7+"]",Dp="["+GO+"]",Cp="\\ud83c[\\udffb-\\udfff]",ZO="(?:"+Dp+"|"+Cp+")",i7="[^"+n7+"]",o7="(?:\\ud83c[\\udde6-\\uddff]){2}",a7="[\\ud800-\\udbff][\\udc00-\\udfff]",XO="\\u200d",s7=ZO+"?",l7="["+KO+"]?",YO="(?:"+XO+"(?:"+[i7,o7,a7].join("|")+")"+l7+s7+")*",QO=l7+s7+YO,ez="(?:"+[i7+Dp+"?",Dp,o7,a7,JO].join("|")+")",tz=RegExp(Cp+"(?="+Cp+")|"+ez+QO,"g");function rz(t){return t.match(tz)||[]}u7.exports=rz});var f7=Q((mX,d7)=>{var nz=e7(),iz=r7(),oz=c7();function az(t){return iz(t)?oz(t):nz(t)}d7.exports=az});var p7=Q((gX,h7)=>{function sz(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}h7.exports=sz});var g7=Q((bX,m7)=>{var lz=p7();function uz(t,e){return lz(e,function(r){return t[r]})}m7.exports=uz});var y7=Q((yX,b7)=>{function cz(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}b7.exports=cz});var w7=Q((xX,x7)=>{var dz=qa(),fz=hl(),hz="[object Arguments]";function pz(t){return fz(t)&&dz(t)==hz}x7.exports=pz});var C7=Q((wX,D7)=>{var v7=w7(),mz=hl(),k7=Object.prototype,gz=k7.hasOwnProperty,bz=k7.propertyIsEnumerable,yz=v7(function(){return arguments}())?v7:function(t){return mz(t)&&gz.call(t,"callee")&&!bz.call(t,"callee")};D7.exports=yz});var _7=Q((vX,S7)=>{function xz(){return!1}S7.exports=xz});var T7=Q((pl,Wa)=>{var wz=di(),vz=_7(),A7=typeof pl=="object"&&pl&&!pl.nodeType&&pl,E7=A7&&typeof Wa=="object"&&Wa&&!Wa.nodeType&&Wa,kz=E7&&E7.exports===A7,M7=kz?wz.Buffer:void 0,Dz=M7?M7.isBuffer:void 0,Cz=Dz||vz;Wa.exports=Cz});var O7=Q((kX,F7)=>{var Sz=9007199254740991,_z=/^(?:0|[1-9]\d*)$/;function Ez(t,e){var r=typeof t;return e=e??Sz,!!e&&(r=="number"||r!="symbol"&&_z.test(t))&&t>-1&&t%1==0&&t<e}F7.exports=Ez});var N7=Q((DX,z7)=>{var Mz=qa(),Az=wp(),Tz=hl(),Fz="[object Arguments]",Oz="[object Array]",zz="[object Boolean]",Nz="[object Date]",Iz="[object Error]",Lz="[object Function]",Bz="[object Map]",$z="[object Number]",Rz="[object Object]",Pz="[object RegExp]",jz="[object Set]",qz="[object String]",Hz="[object WeakMap]",Vz="[object ArrayBuffer]",Wz="[object DataView]",Uz="[object Float32Array]",Gz="[object Float64Array]",Kz="[object Int8Array]",Jz="[object Int16Array]",Zz="[object Int32Array]",Xz="[object Uint8Array]",Yz="[object Uint8ClampedArray]",Qz="[object Uint16Array]",eN="[object Uint32Array]",Qe={};Qe[Uz]=Qe[Gz]=Qe[Kz]=Qe[Jz]=Qe[Zz]=Qe[Xz]=Qe[Yz]=Qe[Qz]=Qe[eN]=!0;Qe[Fz]=Qe[Oz]=Qe[Vz]=Qe[zz]=Qe[Wz]=Qe[Nz]=Qe[Iz]=Qe[Lz]=Qe[Bz]=Qe[$z]=Qe[Rz]=Qe[Pz]=Qe[jz]=Qe[qz]=Qe[Hz]=!1;function tN(t){return Tz(t)&&Az(t.length)&&!!Qe[Mz(t)]}z7.exports=tN});var L7=Q((CX,I7)=>{function rN(t){return function(e){return t(e)}}I7.exports=rN});var $7=Q((ml,Ua)=>{var nN=cp(),B7=typeof ml=="object"&&ml&&!ml.nodeType&&ml,gl=B7&&typeof Ua=="object"&&Ua&&!Ua.nodeType&&Ua,iN=gl&&gl.exports===B7,Sp=iN&&nN.process,oN=function(){try{var t=gl&&gl.require&&gl.require("util").types;return t||Sp&&Sp.binding&&Sp.binding("util")}catch{}}();Ua.exports=oN});var q7=Q((SX,j7)=>{var aN=N7(),sN=L7(),R7=$7(),P7=R7&&R7.isTypedArray,lN=P7?sN(P7):aN;j7.exports=lN});var V7=Q((_X,H7)=>{var uN=y7(),cN=C7(),dN=kp(),fN=T7(),hN=O7(),pN=q7(),mN=Object.prototype,gN=mN.hasOwnProperty;function bN(t,e){var r=dN(t),n=!r&&cN(t),i=!r&&!n&&fN(t),o=!r&&!n&&!i&&pN(t),a=r||n||i||o,s=a?uN(t.length,String):[],l=s.length;for(var u in t)(e||gN.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hN(u,l)))&&s.push(u);return s}H7.exports=bN});var U7=Q((EX,W7)=>{var yN=Object.prototype;function xN(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||yN;return t===r}W7.exports=xN});var K7=Q((MX,G7)=>{function wN(t,e){return function(r){return t(e(r))}}G7.exports=wN});var Z7=Q((AX,J7)=>{var vN=K7(),kN=vN(Object.keys,Object);J7.exports=kN});var Y7=Q((TX,X7)=>{var DN=U7(),CN=Z7(),SN=Object.prototype,_N=SN.hasOwnProperty;function EN(t){if(!DN(t))return CN(t);var e=[];for(var r in Object(t))_N.call(t,r)&&r!="constructor"&&e.push(r);return e}X7.exports=EN});var ey=Q((FX,Q7)=>{var MN=V7(),AN=Y7(),TN=vp();function FN(t){return TN(t)?MN(t):AN(t)}Q7.exports=FN});var ry=Q((OX,ty)=>{var ON=g7(),zN=ey();function NN(t){return t==null?[]:ON(t,zN(t))}ty.exports=NN});var oy=Q((zX,iy)=>{var ny=Jc(),IN=e8(),LN=P8(),BN=vp(),$N=U8(),RN=K8(),PN=Z8(),jN=Y8(),qN=f7(),HN=ry(),VN="[object Map]",WN="[object Set]",_p=ny?ny.iterator:void 0;function UN(t){if(!t)return[];if(BN(t))return $N(t)?qN(t):IN(t);if(_p&&t[_p])return RN(t[_p]());var e=LN(t),r=e==VN?PN:e==WN?jN:HN;return r(t)}iy.exports=UN});var ay=Q((NX,GN)=>{GN.exports={"100":"💯","1234":"🔢",umbrella_with_rain_drops:"☔",coffee:"☕",aries:"♈",taurus:"♉",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓",anchor:"⚓",white_check_mark:"✅",sparkles:"✨",question:"❓",grey_question:"❔",grey_exclamation:"❕",exclamation:"❗",heavy_exclamation_mark:"❗",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",hash:"#️⃣",keycap_star:"*️⃣",zero:"0️⃣",one:"1️⃣",two:"2️⃣",three:"3️⃣",four:"4️⃣",five:"5️⃣",six:"6️⃣",seven:"7️⃣",eight:"8️⃣",nine:"9️⃣",copyright:"©️",registered:"®️",mahjong:"🀄",black_joker:"🃏",a:"🅰️",b:"🅱️",o2:"🅾️",parking:"🅿️",ab:"🆎",cl:"🆑",cool:"🆒",free:"🆓",id:"🆔",new:"🆕",ng:"🆖",ok:"🆗",sos:"🆘",up:"🆙",vs:"🆚","flag-ac":"🇦🇨","flag-ad":"🇦🇩","flag-ae":"🇦🇪","flag-af":"🇦🇫","flag-ag":"🇦🇬","flag-ai":"🇦🇮","flag-al":"🇦🇱","flag-am":"🇦🇲","flag-ao":"🇦🇴","flag-aq":"🇦🇶","flag-ar":"🇦🇷","flag-as":"🇦🇸","flag-at":"🇦🇹","flag-au":"🇦🇺","flag-aw":"🇦🇼","flag-ax":"🇦🇽","flag-az":"🇦🇿","flag-ba":"🇧🇦","flag-bb":"🇧🇧","flag-bd":"🇧🇩","flag-be":"🇧🇪","flag-bf":"🇧🇫","flag-bg":"🇧🇬","flag-bh":"🇧🇭","flag-bi":"🇧🇮","flag-bj":"🇧🇯","flag-bl":"🇧🇱","flag-bm":"🇧🇲","flag-bn":"🇧🇳","flag-bo":"🇧🇴","flag-bq":"🇧🇶","flag-br":"🇧🇷","flag-bs":"🇧🇸","flag-bt":"🇧🇹","flag-bv":"🇧🇻","flag-bw":"🇧🇼","flag-by":"🇧🇾","flag-bz":"🇧🇿","flag-ca":"🇨🇦","flag-cc":"🇨🇨","flag-cd":"🇨🇩","flag-cf":"🇨🇫","flag-cg":"🇨🇬","flag-ch":"🇨🇭","flag-ci":"🇨🇮","flag-ck":"🇨🇰","flag-cl":"🇨🇱","flag-cm":"🇨🇲",cn:"🇨🇳","flag-cn":"🇨🇳","flag-co":"🇨🇴","flag-cp":"🇨🇵","flag-cr":"🇨🇷","flag-cu":"🇨🇺","flag-cv":"🇨🇻","flag-cw":"🇨🇼","flag-cx":"🇨🇽","flag-cy":"🇨🇾","flag-cz":"🇨🇿",de:"🇩🇪","flag-de":"🇩🇪","flag-dg":"🇩🇬","flag-dj":"🇩🇯","flag-dk":"🇩🇰","flag-dm":"🇩🇲","flag-do":"🇩🇴","flag-dz":"🇩🇿","flag-ea":"🇪🇦","flag-ec":"🇪🇨","flag-ee":"🇪🇪","flag-eg":"🇪🇬","flag-eh":"🇪🇭","flag-er":"🇪🇷",es:"🇪🇸","flag-es":"🇪🇸","flag-et":"🇪🇹","flag-eu":"🇪🇺","flag-fi":"🇫🇮","flag-fj":"🇫🇯","flag-fk":"🇫🇰","flag-fm":"🇫🇲","flag-fo":"🇫🇴",fr:"🇫🇷","flag-fr":"🇫🇷","flag-ga":"🇬🇦",gb:"🇬🇧",uk:"🇬🇧","flag-gb":"🇬🇧","flag-gd":"🇬🇩","flag-ge":"🇬🇪","flag-gf":"🇬🇫","flag-gg":"🇬🇬","flag-gh":"🇬🇭","flag-gi":"🇬🇮","flag-gl":"🇬🇱","flag-gm":"🇬🇲","flag-gn":"🇬🇳","flag-gp":"🇬🇵","flag-gq":"🇬🇶","flag-gr":"🇬🇷","flag-gs":"🇬🇸","flag-gt":"🇬🇹","flag-gu":"🇬🇺","flag-gw":"🇬🇼","flag-gy":"🇬🇾","flag-hk":"🇭🇰","flag-hm":"🇭🇲","flag-hn":"🇭🇳","flag-hr":"🇭🇷","flag-ht":"🇭🇹","flag-hu":"🇭🇺","flag-ic":"🇮🇨","flag-id":"🇮🇩","flag-ie":"🇮🇪","flag-il":"🇮🇱","flag-im":"🇮🇲","flag-in":"🇮🇳","flag-io":"🇮🇴","flag-iq":"🇮🇶","flag-ir":"🇮🇷","flag-is":"🇮🇸",it:"🇮🇹","flag-it":"🇮🇹","flag-je":"🇯🇪","flag-jm":"🇯🇲","flag-jo":"🇯🇴",jp:"🇯🇵","flag-jp":"🇯🇵","flag-ke":"🇰🇪","flag-kg":"🇰🇬","flag-kh":"🇰🇭","flag-ki":"🇰🇮","flag-km":"🇰🇲","flag-kn":"🇰🇳","flag-kp":"🇰🇵",kr:"🇰🇷","flag-kr":"🇰🇷","flag-kw":"🇰🇼","flag-ky":"🇰🇾","flag-kz":"🇰🇿","flag-la":"🇱🇦","flag-lb":"🇱🇧","flag-lc":"🇱🇨","flag-li":"🇱🇮","flag-lk":"🇱🇰","flag-lr":"🇱🇷","flag-ls":"🇱🇸","flag-lt":"🇱🇹","flag-lu":"🇱🇺","flag-lv":"🇱🇻","flag-ly":"🇱🇾","flag-ma":"🇲🇦","flag-mc":"🇲🇨","flag-md":"🇲🇩","flag-me":"🇲🇪","flag-mf":"🇲🇫","flag-mg":"🇲🇬","flag-mh":"🇲🇭","flag-mk":"🇲🇰","flag-ml":"🇲🇱","flag-mm":"🇲🇲","flag-mn":"🇲🇳","flag-mo":"🇲🇴","flag-mp":"🇲🇵","flag-mq":"🇲🇶","flag-mr":"🇲🇷","flag-ms":"🇲🇸","flag-mt":"🇲🇹","flag-mu":"🇲🇺","flag-mv":"🇲🇻","flag-mw":"🇲🇼","flag-mx":"🇲🇽","flag-my":"🇲🇾","flag-mz":"🇲🇿","flag-na":"🇳🇦","flag-nc":"🇳🇨","flag-ne":"🇳🇪","flag-nf":"🇳🇫","flag-ng":"🇳🇬","flag-ni":"🇳🇮","flag-nl":"🇳🇱","flag-no":"🇳🇴","flag-np":"🇳🇵","flag-nr":"🇳🇷","flag-nu":"🇳🇺","flag-nz":"🇳🇿","flag-om":"🇴🇲","flag-pa":"🇵🇦","flag-pe":"🇵🇪","flag-pf":"🇵🇫","flag-pg":"🇵🇬","flag-ph":"🇵🇭","flag-pk":"🇵🇰","flag-pl":"🇵🇱","flag-pm":"🇵🇲","flag-pn":"🇵🇳","flag-pr":"🇵🇷","flag-ps":"🇵🇸","flag-pt":"🇵🇹","flag-pw":"🇵🇼","flag-py":"🇵🇾","flag-qa":"🇶🇦","flag-re":"🇷🇪","flag-ro":"🇷🇴","flag-rs":"🇷🇸",ru:"🇷🇺","flag-ru":"🇷🇺","flag-rw":"🇷🇼","flag-sa":"🇸🇦","flag-sb":"🇸🇧","flag-sc":"🇸🇨","flag-sd":"🇸🇩","flag-se":"🇸🇪","flag-sg":"🇸🇬","flag-sh":"🇸🇭","flag-si":"🇸🇮","flag-sj":"🇸🇯","flag-sk":"🇸🇰","flag-sl":"🇸🇱","flag-sm":"🇸🇲","flag-sn":"🇸🇳","flag-so":"🇸🇴","flag-sr":"🇸🇷","flag-ss":"🇸🇸","flag-st":"🇸🇹","flag-sv":"🇸🇻","flag-sx":"🇸🇽","flag-sy":"🇸🇾","flag-sz":"🇸🇿","flag-ta":"🇹🇦","flag-tc":"🇹🇨","flag-td":"🇹🇩","flag-tf":"🇹🇫","flag-tg":"🇹🇬","flag-th":"🇹🇭","flag-tj":"🇹🇯","flag-tk":"🇹🇰","flag-tl":"🇹🇱","flag-tm":"🇹🇲","flag-tn":"🇹🇳","flag-to":"🇹🇴","flag-tr":"🇹🇷","flag-tt":"🇹🇹","flag-tv":"🇹🇻","flag-tw":"🇹🇼","flag-tz":"🇹🇿","flag-ua":"🇺🇦","flag-ug":"🇺🇬","flag-um":"🇺🇲","flag-un":"🇺🇳",us:"🇺🇸","flag-us":"🇺🇸","flag-uy":"🇺🇾","flag-uz":"🇺🇿","flag-va":"🇻🇦","flag-vc":"🇻🇨","flag-ve":"🇻🇪","flag-vg":"🇻🇬","flag-vi":"🇻🇮","flag-vn":"🇻🇳","flag-vu":"🇻🇺","flag-wf":"🇼🇫","flag-ws":"🇼🇸","flag-xk":"🇽🇰","flag-ye":"🇾🇪","flag-yt":"🇾🇹","flag-za":"🇿🇦","flag-zm":"🇿🇲","flag-zw":"🇿🇼",koko:"🈁",sa:"🈂️",u7121:"🈚",u6307:"🈯",u7981:"🈲",u7a7a:"🈳",u5408:"🈴",u6e80:"🈵",u6709:"🈶",u6708:"🈷️",u7533:"🈸",u5272:"🈹",u55b6:"🈺",ideograph_advantage:"🉐",accept:"🉑",cyclone:"🌀",foggy:"🌁",closed_umbrella:"🌂",night_with_stars:"🌃",sunrise_over_mountains:"🌄",sunrise:"🌅",city_sunset:"🌆",city_sunrise:"🌇",rainbow:"🌈",bridge_at_night:"🌉",ocean:"🌊",volcano:"🌋",milky_way:"🌌",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",globe_with_meridians:"🌐",new_moon:"🌑",waxing_crescent_moon:"🌒",first_quarter_moon:"🌓",moon:"🌔",waxing_gibbous_moon:"🌔",full_moon:"🌕",waning_gibbous_moon:"🌖",last_quarter_moon:"🌗",waning_crescent_moon:"🌘",crescent_moon:"🌙",new_moon_with_face:"🌚",first_quarter_moon_with_face:"🌛",last_quarter_moon_with_face:"🌜",full_moon_with_face:"🌝",sun_with_face:"🌞",star2:"🌟",stars:"🌠",thermometer:"🌡️",mostly_sunny:"🌤️",sun_small_cloud:"🌤️",barely_sunny:"🌥️",sun_behind_cloud:"🌥️",partly_sunny_rain:"🌦️",sun_behind_rain_cloud:"🌦️",rain_cloud:"🌧️",snow_cloud:"🌨️",lightning:"🌩️",lightning_cloud:"🌩️",tornado:"🌪️",tornado_cloud:"🌪️",fog:"🌫️",wind_blowing_face:"🌬️",hotdog:"🌭",taco:"🌮",burrito:"🌯",chestnut:"🌰",seedling:"🌱",evergreen_tree:"🌲",deciduous_tree:"🌳",palm_tree:"🌴",cactus:"🌵",hot_pepper:"🌶️",tulip:"🌷",cherry_blossom:"🌸",rose:"🌹",hibiscus:"🌺",sunflower:"🌻",blossom:"🌼",corn:"🌽",ear_of_rice:"🌾",herb:"🌿",four_leaf_clover:"🍀",maple_leaf:"🍁",fallen_leaf:"🍂",leaves:"🍃",mushroom:"🍄",tomato:"🍅",eggplant:"🍆",grapes:"🍇",melon:"🍈",watermelon:"🍉",tangerine:"🍊",lemon:"🍋",banana:"🍌",pineapple:"🍍",apple:"🍎",green_apple:"🍏",pear:"🍐",peach:"🍑",cherries:"🍒",strawberry:"🍓",hamburger:"🍔",pizza:"🍕",meat_on_bone:"🍖",poultry_leg:"🍗",rice_cracker:"🍘",rice_ball:"🍙",rice:"🍚",curry:"🍛",ramen:"🍜",spaghetti:"🍝",bread:"🍞",fries:"🍟",sweet_potato:"🍠",dango:"🍡",oden:"🍢",sushi:"🍣",fried_shrimp:"🍤",fish_cake:"🍥",icecream:"🍦",shaved_ice:"🍧",ice_cream:"🍨",doughnut:"🍩",cookie:"🍪",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",custard:"🍮",honey_pot:"🍯",cake:"🍰",bento:"🍱",stew:"🍲",fried_egg:"🍳",cooking:"🍳",fork_and_knife:"🍴",tea:"🍵",sake:"🍶",wine_glass:"🍷",cocktail:"🍸",tropical_drink:"🍹",beer:"🍺",beers:"🍻",baby_bottle:"🍼",knife_fork_plate:"🍽️",champagne:"🍾",popcorn:"🍿",ribbon:"🎀",gift:"🎁",birthday:"🎂",jack_o_lantern:"🎃",christmas_tree:"🎄",santa:"🎅",fireworks:"🎆",sparkler:"🎇",balloon:"🎈",tada:"🎉",confetti_ball:"🎊",tanabata_tree:"🎋",crossed_flags:"🎌",bamboo:"🎍",dolls:"🎎",flags:"🎏",wind_chime:"🎐",rice_scene:"🎑",school_satchel:"🎒",mortar_board:"🎓",medal:"🎖️",reminder_ribbon:"🎗️",studio_microphone:"🎙️",level_slider:"🎚️",control_knobs:"🎛️",film_frames:"🎞️",admission_tickets:"🎟️",carousel_horse:"🎠",ferris_wheel:"🎡",roller_coaster:"🎢",fishing_pole_and_fish:"🎣",microphone:"🎤",movie_camera:"🎥",cinema:"🎦",headphones:"🎧",art:"🎨",tophat:"🎩",circus_tent:"🎪",ticket:"🎫",clapper:"🎬",performing_arts:"🎭",video_game:"🎮",dart:"🎯",slot_machine:"🎰","8ball":"🎱",game_die:"🎲",bowling:"🎳",flower_playing_cards:"🎴",musical_note:"🎵",notes:"🎶",saxophone:"🎷",guitar:"🎸",musical_keyboard:"🎹",trumpet:"🎺",violin:"🎻",musical_score:"🎼",running_shirt_with_sash:"🎽",tennis:"🎾",ski:"🎿",basketball:"🏀",checkered_flag:"🏁",snowboarder:"🏂","woman-running":"🏃‍♀️","man-running":"🏃‍♂️",runner:"🏃‍♂️",running:"🏃‍♂️","woman-surfing":"🏄‍♀️","man-surfing":"🏄‍♂️",surfer:"🏄‍♂️",sports_medal:"🏅",trophy:"🏆",horse_racing:"🏇",football:"🏈",rugby_football:"🏉","woman-swimming":"🏊‍♀️","man-swimming":"🏊‍♂️",swimmer:"🏊‍♂️","woman-lifting-weights":"🏋️‍♀️","man-lifting-weights":"🏋️‍♂️",weight_lifter:"🏋️‍♂️","woman-golfing":"🏌️‍♀️","man-golfing":"🏌️‍♂️",golfer:"🏌️‍♂️",racing_motorcycle:"🏍️",racing_car:"🏎️",cricket_bat_and_ball:"🏏",volleyball:"🏐",field_hockey_stick_and_ball:"🏑",ice_hockey_stick_and_puck:"🏒",table_tennis_paddle_and_ball:"🏓",snow_capped_mountain:"🏔️",camping:"🏕️",beach_with_umbrella:"🏖️",building_construction:"🏗️",house_buildings:"🏘️",cityscape:"🏙️",derelict_house_building:"🏚️",classical_building:"🏛️",desert:"🏜️",desert_island:"🏝️",national_park:"🏞️",stadium:"🏟️",house:"🏠",house_with_garden:"🏡",office:"🏢",post_office:"🏣",european_post_office:"🏤",hospital:"🏥",bank:"🏦",atm:"🏧",hotel:"🏨",love_hotel:"🏩",convenience_store:"🏪",school:"🏫",department_store:"🏬",factory:"🏭",izakaya_lantern:"🏮",lantern:"🏮",japanese_castle:"🏯",european_castle:"🏰","rainbow-flag":"🏳️‍🌈",transgender_flag:"🏳️‍⚧️",waving_white_flag:"🏳️",pirate_flag:"🏴‍☠️","flag-england":"🏴󠁧󠁢󠁥󠁮󠁧󠁿","flag-scotland":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","flag-wales":"🏴󠁧󠁢󠁷󠁬󠁳󠁿",waving_black_flag:"🏴",rosette:"🏵️",label:"🏷️",badminton_racquet_and_shuttlecock:"🏸",bow_and_arrow:"🏹",amphora:"🏺","skin-tone-2":"🏻","skin-tone-3":"🏼","skin-tone-4":"🏽","skin-tone-5":"🏾","skin-tone-6":"🏿",rat:"🐀",mouse2:"🐁",ox:"🐂",water_buffalo:"🐃",cow2:"🐄",tiger2:"🐅",leopard:"🐆",rabbit2:"🐇",black_cat:"🐈‍⬛",cat2:"🐈",dragon:"🐉",crocodile:"🐊",whale2:"🐋",snail:"🐌",snake:"🐍",racehorse:"🐎",ram:"🐏",goat:"🐐",sheep:"🐑",monkey:"🐒",rooster:"🐓",chicken:"🐔",service_dog:"🐕‍🦺",dog2:"🐕",pig2:"🐖",boar:"🐗",elephant:"🐘",octopus:"🐙",shell:"🐚",bug:"🐛",ant:"🐜",bee:"🐝",honeybee:"🐝",ladybug:"🐞",lady_beetle:"🐞",fish:"🐟",tropical_fish:"🐠",blowfish:"🐡",turtle:"🐢",hatching_chick:"🐣",baby_chick:"🐤",hatched_chick:"🐥",bird:"🐦",penguin:"🐧",koala:"🐨",poodle:"🐩",dromedary_camel:"🐪",camel:"🐫",dolphin:"🐬",flipper:"🐬",mouse:"🐭",cow:"🐮",tiger:"🐯",rabbit:"🐰",cat:"🐱",dragon_face:"🐲",whale:"🐳",horse:"🐴",monkey_face:"🐵",dog:"🐶",pig:"🐷",frog:"🐸",hamster:"🐹",wolf:"🐺",polar_bear:"🐻‍❄️",bear:"🐻",panda_face:"🐼",pig_nose:"🐽",feet:"🐾",paw_prints:"🐾",chipmunk:"🐿️",eyes:"👀","eye-in-speech-bubble":"👁️‍🗨️",eye:"👁️",ear:"👂",nose:"👃",lips:"👄",tongue:"👅",point_up_2:"👆",point_down:"👇",point_left:"👈",point_right:"👉",facepunch:"👊",punch:"👊",wave:"👋",ok_hand:"👌","+1":"👍",thumbsup:"👍","-1":"👎",thumbsdown:"👎",clap:"👏",open_hands:"👐",crown:"👑",womans_hat:"👒",eyeglasses:"👓",necktie:"👔",shirt:"👕",tshirt:"👕",jeans:"👖",dress:"👗",kimono:"👘",bikini:"👙",womans_clothes:"👚",purse:"👛",handbag:"👜",pouch:"👝",mans_shoe:"👞",shoe:"👞",athletic_shoe:"👟",high_heel:"👠",sandal:"👡",boot:"👢",footprints:"👣",bust_in_silhouette:"👤",busts_in_silhouette:"👥",boy:"👦",girl:"👧","male-farmer":"👨‍🌾","male-cook":"👨‍🍳",man_feeding_baby:"👨‍🍼","male-student":"👨‍🎓","male-singer":"👨‍🎤","male-artist":"👨‍🎨","male-teacher":"👨‍🏫","male-factory-worker":"👨‍🏭","man-boy-boy":"👨‍👦‍👦","man-boy":"👨‍👦","man-girl-boy":"👨‍👧‍👦","man-girl-girl":"👨‍👧‍👧","man-girl":"👨‍👧","man-man-boy":"👨‍👨‍👦","man-man-boy-boy":"👨‍👨‍👦‍👦","man-man-girl":"👨‍👨‍👧","man-man-girl-boy":"👨‍👨‍👧‍👦","man-man-girl-girl":"👨‍👨‍👧‍👧","man-woman-boy":"👨‍👩‍👦",family:"👨‍👩‍👦","man-woman-boy-boy":"👨‍👩‍👦‍👦","man-woman-girl":"👨‍👩‍👧","man-woman-girl-boy":"👨‍👩‍👧‍👦","man-woman-girl-girl":"👨‍👩‍👧‍👧","male-technologist":"👨‍💻","male-office-worker":"👨‍💼","male-mechanic":"👨‍🔧","male-scientist":"👨‍🔬","male-astronaut":"👨‍🚀","male-firefighter":"👨‍🚒",man_with_probing_cane:"👨‍🦯",red_haired_man:"👨‍🦰",curly_haired_man:"👨‍🦱",bald_man:"👨‍🦲",white_haired_man:"👨‍🦳",man_in_motorized_wheelchair:"👨‍🦼",man_in_manual_wheelchair:"👨‍🦽","male-doctor":"👨‍⚕️","male-judge":"👨‍⚖️","male-pilot":"👨‍✈️","man-heart-man":"👨‍❤️‍👨","man-kiss-man":"👨‍❤️‍💋‍👨",man:"👨","female-farmer":"👩‍🌾","female-cook":"👩‍🍳",woman_feeding_baby:"👩‍🍼","female-student":"👩‍🎓","female-singer":"👩‍🎤","female-artist":"👩‍🎨","female-teacher":"👩‍🏫","female-factory-worker":"👩‍🏭","woman-boy-boy":"👩‍👦‍👦","woman-boy":"👩‍👦","woman-girl-boy":"👩‍👧‍👦","woman-girl-girl":"👩‍👧‍👧","woman-girl":"👩‍👧","woman-woman-boy":"👩‍👩‍👦","woman-woman-boy-boy":"👩‍👩‍👦‍👦","woman-woman-girl":"👩‍👩‍👧","woman-woman-girl-boy":"👩‍👩‍👧‍👦","woman-woman-girl-girl":"👩‍👩‍👧‍👧","female-technologist":"👩‍💻","female-office-worker":"👩‍💼","female-mechanic":"👩‍🔧","female-scientist":"👩‍🔬","female-astronaut":"👩‍🚀","female-firefighter":"👩‍🚒",woman_with_probing_cane:"👩‍🦯",red_haired_woman:"👩‍🦰",curly_haired_woman:"👩‍🦱",bald_woman:"👩‍🦲",white_haired_woman:"👩‍🦳",woman_in_motorized_wheelchair:"👩‍🦼",woman_in_manual_wheelchair:"👩‍🦽","female-doctor":"👩‍⚕️","female-judge":"👩‍⚖️","female-pilot":"👩‍✈️","woman-heart-man":"👩‍❤️‍👨","woman-heart-woman":"👩‍❤️‍👩","woman-kiss-man":"👩‍❤️‍💋‍👨","woman-kiss-woman":"👩‍❤️‍💋‍👩",woman:"👩",man_and_woman_holding_hands:"👫",woman_and_man_holding_hands:"👫",couple:"👫",two_men_holding_hands:"👬",men_holding_hands:"👬",two_women_holding_hands:"👭",women_holding_hands:"👭","female-police-officer":"👮‍♀️","male-police-officer":"👮‍♂️",cop:"👮‍♂️","women-with-bunny-ears-partying":"👯‍♀️","woman-with-bunny-ears-partying":"👯‍♀️",dancers:"👯‍♀️","men-with-bunny-ears-partying":"👯‍♂️","man-with-bunny-ears-partying":"👯‍♂️",woman_with_veil:"👰‍♀️",man_with_veil:"👰‍♂️",bride_with_veil:"👰","blond-haired-woman":"👱‍♀️","blond-haired-man":"👱‍♂️",person_with_blond_hair:"👱‍♂️",man_with_gua_pi_mao:"👲","woman-wearing-turban":"👳‍♀️","man-wearing-turban":"👳‍♂️",man_with_turban:"👳‍♂️",older_man:"👴",older_woman:"👵",baby:"👶","female-construction-worker":"👷‍♀️","male-construction-worker":"👷‍♂️",construction_worker:"👷‍♂️",princess:"👸",japanese_ogre:"👹",japanese_goblin:"👺",ghost:"👻",angel:"👼",alien:"👽",space_invader:"👾",imp:"👿",skull:"💀","woman-tipping-hand":"💁‍♀️",information_desk_person:"💁‍♀️","man-tipping-hand":"💁‍♂️","female-guard":"💂‍♀️","male-guard":"💂‍♂️",guardsman:"💂‍♂️",dancer:"💃",lipstick:"💄",nail_care:"💅","woman-getting-massage":"💆‍♀️",massage:"💆‍♀️","man-getting-massage":"💆‍♂️","woman-getting-haircut":"💇‍♀️",haircut:"💇‍♀️","man-getting-haircut":"💇‍♂️",barber:"💈",syringe:"💉",pill:"💊",kiss:"💋",love_letter:"💌",ring:"💍",gem:"💎",couplekiss:"💏",bouquet:"💐",couple_with_heart:"💑",wedding:"💒",heartbeat:"💓",broken_heart:"💔",two_hearts:"💕",sparkling_heart:"💖",heartpulse:"💗",cupid:"💘",blue_heart:"💙",green_heart:"💚",yellow_heart:"💛",purple_heart:"💜",gift_heart:"💝",revolving_hearts:"💞",heart_decoration:"💟",diamond_shape_with_a_dot_inside:"💠",bulb:"💡",anger:"💢",bomb:"💣",zzz:"💤",boom:"💥",collision:"💥",sweat_drops:"💦",droplet:"💧",dash:"💨",hankey:"💩",poop:"💩",shit:"💩",muscle:"💪",dizzy:"💫",speech_balloon:"💬",thought_balloon:"💭",white_flower:"💮",moneybag:"💰",currency_exchange:"💱",heavy_dollar_sign:"💲",credit_card:"💳",yen:"💴",dollar:"💵",euro:"💶",pound:"💷",money_with_wings:"💸",chart:"💹",seat:"💺",computer:"💻",briefcase:"💼",minidisc:"💽",floppy_disk:"💾",cd:"💿",dvd:"📀",file_folder:"📁",open_file_folder:"📂",page_with_curl:"📃",page_facing_up:"📄",date:"📅",calendar:"📆",card_index:"📇",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",bar_chart:"📊",clipboard:"📋",pushpin:"📌",round_pushpin:"📍",paperclip:"📎",straight_ruler:"📏",triangular_ruler:"📐",bookmark_tabs:"📑",ledger:"📒",notebook:"📓",notebook_with_decorative_cover:"📔",closed_book:"📕",book:"📖",open_book:"📖",green_book:"📗",blue_book:"📘",orange_book:"📙",books:"📚",name_badge:"📛",scroll:"📜",memo:"📝",pencil:"📝",telephone_receiver:"📞",pager:"📟",fax:"📠",satellite_antenna:"📡",loudspeaker:"📢",mega:"📣",outbox_tray:"📤",inbox_tray:"📥",package:"📦","e-mail":"📧",incoming_envelope:"📨",envelope_with_arrow:"📩",mailbox_closed:"📪",mailbox:"📫",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",postbox:"📮",postal_horn:"📯",newspaper:"📰",iphone:"📱",calling:"📲",vibration_mode:"📳",mobile_phone_off:"📴",no_mobile_phones:"📵",signal_strength:"📶",camera:"📷",camera_with_flash:"📸",video_camera:"📹",tv:"📺",radio:"📻",vhs:"📼",film_projector:"📽️",prayer_beads:"📿",twisted_rightwards_arrows:"🔀",repeat:"🔁",repeat_one:"🔂",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",low_brightness:"🔅",high_brightness:"🔆",mute:"🔇",speaker:"🔈",sound:"🔉",loud_sound:"🔊",battery:"🔋",electric_plug:"🔌",mag:"🔍",mag_right:"🔎",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",lock:"🔒",unlock:"🔓",bell:"🔔",no_bell:"🔕",bookmark:"🔖",link:"🔗",radio_button:"🔘",back:"🔙",end:"🔚",on:"🔛",soon:"🔜",top:"🔝",underage:"🔞",keycap_ten:"🔟",capital_abcd:"🔠",abcd:"🔡",symbols:"🔣",abc:"🔤",fire:"🔥",flashlight:"🔦",wrench:"🔧",hammer:"🔨",nut_and_bolt:"🔩",hocho:"🔪",knife:"🔪",gun:"🔫",microscope:"🔬",telescope:"🔭",crystal_ball:"🔮",six_pointed_star:"🔯",beginner:"🔰",trident:"🔱",black_square_button:"🔲",white_square_button:"🔳",red_circle:"🔴",large_blue_circle:"🔵",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹",small_red_triangle:"🔺",small_red_triangle_down:"🔻",arrow_up_small:"🔼",arrow_down_small:"🔽",om_symbol:"🕉️",dove_of_peace:"🕊️",kaaba:"🕋",mosque:"🕌",synagogue:"🕍",menorah_with_nine_branches:"🕎",clock1:"🕐",clock2:"🕑",clock3:"🕒",clock4:"🕓",clock5:"🕔",clock6:"🕕",clock7:"🕖",clock8:"🕗",clock9:"🕘",clock10:"🕙",clock11:"🕚",clock12:"🕛",clock130:"🕜",clock230:"🕝",clock330:"🕞",clock430:"🕟",clock530:"🕠",clock630:"🕡",clock730:"🕢",clock830:"🕣",clock930:"🕤",clock1030:"🕥",clock1130:"🕦",clock1230:"🕧",candle:"🕯️",mantelpiece_clock:"🕰️",hole:"🕳️",man_in_business_suit_levitating:"🕴️","female-detective":"🕵️‍♀️","male-detective":"🕵️‍♂️",sleuth_or_spy:"🕵️‍♂️",dark_sunglasses:"🕶️",spider:"🕷️",spider_web:"🕸️",joystick:"🕹️",man_dancing:"🕺",linked_paperclips:"🖇️",lower_left_ballpoint_pen:"🖊️",lower_left_fountain_pen:"🖋️",lower_left_paintbrush:"🖌️",lower_left_crayon:"🖍️",raised_hand_with_fingers_splayed:"🖐️",middle_finger:"🖕",reversed_hand_with_middle_finger_extended:"🖕","spock-hand":"🖖",black_heart:"🖤",desktop_computer:"🖥️",printer:"🖨️",three_button_mouse:"🖱️",trackball:"🖲️",frame_with_picture:"🖼️",card_index_dividers:"🗂️",card_file_box:"🗃️",file_cabinet:"🗄️",wastebasket:"🗑️",spiral_note_pad:"🗒️",spiral_calendar_pad:"🗓️",compression:"🗜️",old_key:"🗝️",rolled_up_newspaper:"🗞️",dagger_knife:"🗡️",speaking_head_in_silhouette:"🗣️",left_speech_bubble:"🗨️",right_anger_bubble:"🗯️",ballot_box_with_ballot:"🗳️",world_map:"🗺️",mount_fuji:"🗻",tokyo_tower:"🗼",statue_of_liberty:"🗽",japan:"🗾",moyai:"🗿",grinning:"😀",grin:"😁",joy:"😂",smiley:"😃",smile:"😄",sweat_smile:"😅",laughing:"😆",satisfied:"😆",innocent:"😇",smiling_imp:"😈",wink:"😉",blush:"😊",yum:"😋",relieved:"😌",heart_eyes:"😍",sunglasses:"😎",smirk:"😏",neutral_face:"😐",expressionless:"😑",unamused:"😒",sweat:"😓",pensive:"😔",confused:"😕",confounded:"😖",kissing:"😗",kissing_heart:"😘",kissing_smiling_eyes:"😙",kissing_closed_eyes:"😚",stuck_out_tongue:"😛",stuck_out_tongue_winking_eye:"😜",stuck_out_tongue_closed_eyes:"😝",disappointed:"😞",worried:"😟",angry:"😠",rage:"😡",cry:"😢",persevere:"😣",triumph:"😤",disappointed_relieved:"😥",frowning:"😦",anguished:"😧",fearful:"😨",weary:"😩",sleepy:"😪",tired_face:"😫",grimacing:"😬",sob:"😭",face_exhaling:"😮‍💨",open_mouth:"😮",hushed:"😯",cold_sweat:"😰",scream:"😱",astonished:"😲",flushed:"😳",sleeping:"😴",face_with_spiral_eyes:"😵‍💫",dizzy_face:"😵",face_in_clouds:"😶‍🌫️",no_mouth:"😶",mask:"😷",smile_cat:"😸",joy_cat:"😹",smiley_cat:"😺",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",pouting_cat:"😾",crying_cat_face:"😿",scream_cat:"🙀",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",upside_down_face:"🙃",face_with_rolling_eyes:"🙄","woman-gesturing-no":"🙅‍♀️",no_good:"🙅‍♀️","man-gesturing-no":"🙅‍♂️","woman-gesturing-ok":"🙆‍♀️",ok_woman:"🙆‍♀️","man-gesturing-ok":"🙆‍♂️","woman-bowing":"🙇‍♀️","man-bowing":"🙇‍♂️",bow:"🙇‍♂️",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊","woman-raising-hand":"🙋‍♀️",raising_hand:"🙋‍♀️","man-raising-hand":"🙋‍♂️",raised_hands:"🙌","woman-frowning":"🙍‍♀️",person_frowning:"🙍‍♀️","man-frowning":"🙍‍♂️","woman-pouting":"🙎‍♀️",person_with_pouting_face:"🙎‍♀️","man-pouting":"🙎‍♂️",pray:"🙏",rocket:"🚀",helicopter:"🚁",steam_locomotive:"🚂",railway_car:"🚃",bullettrain_side:"🚄",bullettrain_front:"🚅",train2:"🚆",metro:"🚇",light_rail:"🚈",station:"🚉",tram:"🚊",train:"🚋",bus:"🚌",oncoming_bus:"🚍",trolleybus:"🚎",busstop:"🚏",minibus:"🚐",ambulance:"🚑",fire_engine:"🚒",police_car:"🚓",oncoming_police_car:"🚔",taxi:"🚕",oncoming_taxi:"🚖",car:"🚗",red_car:"🚗",oncoming_automobile:"🚘",blue_car:"🚙",truck:"🚚",articulated_lorry:"🚛",tractor:"🚜",monorail:"🚝",mountain_railway:"🚞",suspension_railway:"🚟",mountain_cableway:"🚠",aerial_tramway:"🚡",ship:"🚢","woman-rowing-boat":"🚣‍♀️","man-rowing-boat":"🚣‍♂️",rowboat:"🚣‍♂️",speedboat:"🚤",traffic_light:"🚥",vertical_traffic_light:"🚦",construction:"🚧",rotating_light:"🚨",triangular_flag_on_post:"🚩",door:"🚪",no_entry_sign:"🚫",smoking:"🚬",no_smoking:"🚭",put_litter_in_its_place:"🚮",do_not_litter:"🚯",potable_water:"🚰","non-potable_water":"🚱",bike:"🚲",no_bicycles:"🚳","woman-biking":"🚴‍♀️","man-biking":"🚴‍♂️",bicyclist:"🚴‍♂️","woman-mountain-biking":"🚵‍♀️","man-mountain-biking":"🚵‍♂️",mountain_bicyclist:"🚵‍♂️","woman-walking":"🚶‍♀️","man-walking":"🚶‍♂️",walking:"🚶‍♂️",no_pedestrians:"🚷",children_crossing:"🚸",mens:"🚹",womens:"🚺",restroom:"🚻",baby_symbol:"🚼",toilet:"🚽",wc:"🚾",shower:"🚿",bath:"🛀",bathtub:"🛁",passport_control:"🛂",customs:"🛃",baggage_claim:"🛄",left_luggage:"🛅",couch_and_lamp:"🛋️",sleeping_accommodation:"🛌",shopping_bags:"🛍️",bellhop_bell:"🛎️",bed:"🛏️",place_of_worship:"🛐",octagonal_sign:"🛑",shopping_trolley:"🛒",hindu_temple:"🛕",hut:"🛖",elevator:"🛗",hammer_and_wrench:"🛠️",shield:"🛡️",oil_drum:"🛢️",motorway:"🛣️",railway_track:"🛤️",motor_boat:"🛥️",small_airplane:"🛩️",airplane_departure:"🛫",airplane_arriving:"🛬",satellite:"🛰️",passenger_ship:"🛳️",scooter:"🛴",motor_scooter:"🛵",canoe:"🛶",sled:"🛷",flying_saucer:"🛸",skateboard:"🛹",auto_rickshaw:"🛺",pickup_truck:"🛻",roller_skate:"🛼",large_orange_circle:"🟠",large_yellow_circle:"🟡",large_green_circle:"🟢",large_purple_circle:"🟣",large_brown_circle:"🟤",large_red_square:"🟥",large_blue_square:"🟦",large_orange_square:"🟧",large_yellow_square:"🟨",large_green_square:"🟩",large_purple_square:"🟪",large_brown_square:"🟫",pinched_fingers:"🤌",white_heart:"🤍",brown_heart:"🤎",pinching_hand:"🤏",zipper_mouth_face:"🤐",money_mouth_face:"🤑",face_with_thermometer:"🤒",nerd_face:"🤓",thinking_face:"🤔",face_with_head_bandage:"🤕",robot_face:"🤖",hugging_face:"🤗",the_horns:"🤘",sign_of_the_horns:"🤘",call_me_hand:"🤙",raised_back_of_hand:"🤚","left-facing_fist":"🤛","right-facing_fist":"🤜",handshake:"🤝",crossed_fingers:"🤞",hand_with_index_and_middle_fingers_crossed:"🤞",i_love_you_hand_sign:"🤟",face_with_cowboy_hat:"🤠",clown_face:"🤡",nauseated_face:"🤢",rolling_on_the_floor_laughing:"🤣",drooling_face:"🤤",lying_face:"🤥","woman-facepalming":"🤦‍♀️","man-facepalming":"🤦‍♂️",face_palm:"🤦",sneezing_face:"🤧",face_with_raised_eyebrow:"🤨",face_with_one_eyebrow_raised:"🤨","star-struck":"🤩",grinning_face_with_star_eyes:"🤩",zany_face:"🤪",grinning_face_with_one_large_and_one_small_eye:"🤪",shushing_face:"🤫",face_with_finger_covering_closed_lips:"🤫",face_with_symbols_on_mouth:"🤬",serious_face_with_symbols_covering_mouth:"🤬",face_with_hand_over_mouth:"🤭",smiling_face_with_smiling_eyes_and_hand_covering_mouth:"🤭",face_vomiting:"🤮",face_with_open_mouth_vomiting:"🤮",exploding_head:"🤯",shocked_face_with_exploding_head:"🤯",pregnant_woman:"🤰","breast-feeding":"🤱",palms_up_together:"🤲",selfie:"🤳",prince:"🤴",woman_in_tuxedo:"🤵‍♀️",man_in_tuxedo:"🤵‍♂️",person_in_tuxedo:"🤵",mrs_claus:"🤶",mother_christmas:"🤶","woman-shrugging":"🤷‍♀️","man-shrugging":"🤷‍♂️",shrug:"🤷","woman-cartwheeling":"🤸‍♀️","man-cartwheeling":"🤸‍♂️",person_doing_cartwheel:"🤸","woman-juggling":"🤹‍♀️","man-juggling":"🤹‍♂️",juggling:"🤹",fencer:"🤺","woman-wrestling":"🤼‍♀️","man-wrestling":"🤼‍♂️",wrestlers:"🤼","woman-playing-water-polo":"🤽‍♀️","man-playing-water-polo":"🤽‍♂️",water_polo:"🤽","woman-playing-handball":"🤾‍♀️","man-playing-handball":"🤾‍♂️",handball:"🤾",diving_mask:"🤿",wilted_flower:"🥀",drum_with_drumsticks:"🥁",clinking_glasses:"🥂",tumbler_glass:"🥃",spoon:"🥄",goal_net:"🥅",first_place_medal:"🥇",second_place_medal:"🥈",third_place_medal:"🥉",boxing_glove:"🥊",martial_arts_uniform:"🥋",curling_stone:"🥌",lacrosse:"🥍",softball:"🥎",flying_disc:"🥏",croissant:"🥐",avocado:"🥑",cucumber:"🥒",bacon:"🥓",potato:"🥔",carrot:"🥕",baguette_bread:"🥖",green_salad:"🥗",shallow_pan_of_food:"🥘",stuffed_flatbread:"🥙",egg:"🥚",glass_of_milk:"🥛",peanuts:"🥜",kiwifruit:"🥝",pancakes:"🥞",dumpling:"🥟",fortune_cookie:"🥠",takeout_box:"🥡",chopsticks:"🥢",bowl_with_spoon:"🥣",cup_with_straw:"🥤",coconut:"🥥",broccoli:"🥦",pie:"🥧",pretzel:"🥨",cut_of_meat:"🥩",sandwich:"🥪",canned_food:"🥫",leafy_green:"🥬",mango:"🥭",moon_cake:"🥮",bagel:"🥯",smiling_face_with_3_hearts:"🥰",yawning_face:"🥱",smiling_face_with_tear:"🥲",partying_face:"🥳",woozy_face:"🥴",hot_face:"🥵",cold_face:"🥶",ninja:"🥷",disguised_face:"🥸",pleading_face:"🥺",sari:"🥻",lab_coat:"🥼",goggles:"🥽",hiking_boot:"🥾",womans_flat_shoe:"🥿",crab:"🦀",lion_face:"🦁",scorpion:"🦂",turkey:"🦃",unicorn_face:"🦄",eagle:"🦅",duck:"🦆",bat:"🦇",shark:"🦈",owl:"🦉",fox_face:"🦊",butterfly:"🦋",deer:"🦌",gorilla:"🦍",lizard:"🦎",rhinoceros:"🦏",shrimp:"🦐",squid:"🦑",giraffe_face:"🦒",zebra_face:"🦓",hedgehog:"🦔",sauropod:"🦕","t-rex":"🦖",cricket:"🦗",kangaroo:"🦘",llama:"🦙",peacock:"🦚",hippopotamus:"🦛",parrot:"🦜",raccoon:"🦝",lobster:"🦞",mosquito:"🦟",microbe:"🦠",badger:"🦡",swan:"🦢",mammoth:"🦣",dodo:"🦤",sloth:"🦥",otter:"🦦",orangutan:"🦧",skunk:"🦨",flamingo:"🦩",oyster:"🦪",beaver:"🦫",bison:"🦬",seal:"🦭",guide_dog:"🦮",probing_cane:"🦯",bone:"🦴",leg:"🦵",foot:"🦶",tooth:"🦷",female_superhero:"🦸‍♀️",male_superhero:"🦸‍♂️",superhero:"🦸",female_supervillain:"🦹‍♀️",male_supervillain:"🦹‍♂️",supervillain:"🦹",safety_vest:"🦺",ear_with_hearing_aid:"🦻",motorized_wheelchair:"🦼",manual_wheelchair:"🦽",mechanical_arm:"🦾",mechanical_leg:"🦿",cheese_wedge:"🧀",cupcake:"🧁",salt:"🧂",beverage_box:"🧃",garlic:"🧄",onion:"🧅",falafel:"🧆",waffle:"🧇",butter:"🧈",mate_drink:"🧉",ice_cube:"🧊",bubble_tea:"🧋",woman_standing:"🧍‍♀️",man_standing:"🧍‍♂️",standing_person:"🧍",woman_kneeling:"🧎‍♀️",man_kneeling:"🧎‍♂️",kneeling_person:"🧎",deaf_woman:"🧏‍♀️",deaf_man:"🧏‍♂️",deaf_person:"🧏",face_with_monocle:"🧐",farmer:"🧑‍🌾",cook:"🧑‍🍳",person_feeding_baby:"🧑‍🍼",mx_claus:"🧑‍🎄",student:"🧑‍🎓",singer:"🧑‍🎤",artist:"🧑‍🎨",teacher:"🧑‍🏫",factory_worker:"🧑‍🏭",technologist:"🧑‍💻",office_worker:"🧑‍💼",mechanic:"🧑‍🔧",scientist:"🧑‍🔬",astronaut:"🧑‍🚀",firefighter:"🧑‍🚒",people_holding_hands:"🧑‍🤝‍🧑",person_with_probing_cane:"🧑‍🦯",red_haired_person:"🧑‍🦰",curly_haired_person:"🧑‍🦱",bald_person:"🧑‍🦲",white_haired_person:"🧑‍🦳",person_in_motorized_wheelchair:"🧑‍🦼",person_in_manual_wheelchair:"🧑‍🦽",health_worker:"🧑‍⚕️",judge:"🧑‍⚖️",pilot:"🧑‍✈️",adult:"🧑",child:"🧒",older_adult:"🧓",woman_with_beard:"🧔‍♀️",man_with_beard:"🧔‍♂️",bearded_person:"🧔",person_with_headscarf:"🧕",woman_in_steamy_room:"🧖‍♀️",man_in_steamy_room:"🧖‍♂️",person_in_steamy_room:"🧖‍♂️",woman_climbing:"🧗‍♀️",person_climbing:"🧗‍♀️",man_climbing:"🧗‍♂️",woman_in_lotus_position:"🧘‍♀️",person_in_lotus_position:"🧘‍♀️",man_in_lotus_position:"🧘‍♂️",female_mage:"🧙‍♀️",mage:"🧙‍♀️",male_mage:"🧙‍♂️",female_fairy:"🧚‍♀️",fairy:"🧚‍♀️",male_fairy:"🧚‍♂️",female_vampire:"🧛‍♀️",vampire:"🧛‍♀️",male_vampire:"🧛‍♂️",mermaid:"🧜‍♀️",merman:"🧜‍♂️",merperson:"🧜‍♂️",female_elf:"🧝‍♀️",male_elf:"🧝‍♂️",elf:"🧝‍♂️",female_genie:"🧞‍♀️",male_genie:"🧞‍♂️",genie:"🧞‍♂️",female_zombie:"🧟‍♀️",male_zombie:"🧟‍♂️",zombie:"🧟‍♂️",brain:"🧠",orange_heart:"🧡",billed_cap:"🧢",scarf:"🧣",gloves:"🧤",coat:"🧥",socks:"🧦",red_envelope:"🧧",firecracker:"🧨",jigsaw:"🧩",test_tube:"🧪",petri_dish:"🧫",dna:"🧬",compass:"🧭",abacus:"🧮",fire_extinguisher:"🧯",toolbox:"🧰",bricks:"🧱",magnet:"🧲",luggage:"🧳",lotion_bottle:"🧴",thread:"🧵",yarn:"🧶",safety_pin:"🧷",teddy_bear:"🧸",broom:"🧹",basket:"🧺",roll_of_paper:"🧻",soap:"🧼",sponge:"🧽",receipt:"🧾",nazar_amulet:"🧿",ballet_shoes:"🩰","one-piece_swimsuit":"🩱",briefs:"🩲",shorts:"🩳",thong_sandal:"🩴",drop_of_blood:"🩸",adhesive_bandage:"🩹",stethoscope:"🩺","yo-yo":"🪀",kite:"🪁",parachute:"🪂",boomerang:"🪃",magic_wand:"🪄",pinata:"🪅",nesting_dolls:"🪆",ringed_planet:"🪐",chair:"🪑",razor:"🪒",axe:"🪓",diya_lamp:"🪔",banjo:"🪕",military_helmet:"🪖",accordion:"🪗",long_drum:"🪘",coin:"🪙",carpentry_saw:"🪚",screwdriver:"🪛",ladder:"🪜",hook:"🪝",mirror:"🪞",window:"🪟",plunger:"🪠",sewing_needle:"🪡",knot:"🪢",bucket:"🪣",mouse_trap:"🪤",toothbrush:"🪥",headstone:"🪦",placard:"🪧",rock:"🪨",fly:"🪰",worm:"🪱",beetle:"🪲",cockroach:"🪳",potted_plant:"🪴",wood:"🪵",feather:"🪶",anatomical_heart:"🫀",lungs:"🫁",people_hugging:"🫂",blueberries:"🫐",bell_pepper:"🫑",olive:"🫒",flatbread:"🫓",tamale:"🫔",fondue:"🫕",teapot:"🫖",bangbang:"‼️",interrobang:"⁉️",tm:"™️",information_source:"ℹ️",left_right_arrow:"↔️",arrow_up_down:"↕️",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrow_lower_right:"↘️",arrow_lower_left:"↙️",leftwards_arrow_with_hook:"↩️",arrow_right_hook:"↪️",watch:"⌚",hourglass:"⌛",keyboard:"⌨️",eject:"⏏️",fast_forward:"⏩",rewind:"⏪",arrow_double_up:"⏫",arrow_double_down:"⏬",black_right_pointing_double_triangle_with_vertical_bar:"⏭️",black_left_pointing_double_triangle_with_vertical_bar:"⏮️",black_right_pointing_triangle_with_double_vertical_bar:"⏯️",alarm_clock:"⏰",stopwatch:"⏱️",timer_clock:"⏲️",hourglass_flowing_sand:"⏳",double_vertical_bar:"⏸️",black_square_for_stop:"⏹️",black_circle_for_record:"⏺️",m:"Ⓜ️",black_small_square:"▪️",white_small_square:"▫️",arrow_forward:"▶️",arrow_backward:"◀️",white_medium_square:"◻️",black_medium_square:"◼️",white_medium_small_square:"◽",black_medium_small_square:"◾",sunny:"☀️",cloud:"☁️",umbrella:"☂️",snowman:"☃️",comet:"☄️",phone:"☎️",telephone:"☎️",ballot_box_with_check:"☑️",shamrock:"☘️",point_up:"☝️",skull_and_crossbones:"☠️",radioactive_sign:"☢️",biohazard_sign:"☣️",orthodox_cross:"☦️",star_and_crescent:"☪️",peace_symbol:"☮️",yin_yang:"☯️",wheel_of_dharma:"☸️",white_frowning_face:"☹️",relaxed:"☺️",female_sign:"♀️",male_sign:"♂️",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpius:"♏",chess_pawn:"♟️",spades:"♠️",clubs:"♣️",hearts:"♥️",diamonds:"♦️",hotsprings:"♨️",recycle:"♻️",infinity:"♾️",wheelchair:"♿",hammer_and_pick:"⚒️",crossed_swords:"⚔️",medical_symbol:"⚕️",staff_of_aesculapius:"⚕️",scales:"⚖️",alembic:"⚗️",gear:"⚙️",atom_symbol:"⚛️",fleur_de_lis:"⚜️",warning:"⚠️",zap:"⚡",transgender_symbol:"⚧️",white_circle:"⚪",black_circle:"⚫",coffin:"⚰️",funeral_urn:"⚱️",soccer:"⚽",baseball:"⚾",snowman_without_snow:"⛄",partly_sunny:"⛅",thunder_cloud_and_rain:"⛈️",ophiuchus:"⛎",pick:"⛏️",helmet_with_white_cross:"⛑️",chains:"⛓️",no_entry:"⛔",shinto_shrine:"⛩️",church:"⛪",mountain:"⛰️",umbrella_on_ground:"⛱️",fountain:"⛲",golf:"⛳",ferry:"⛴️",boat:"⛵",sailboat:"⛵",skier:"⛷️",ice_skate:"⛸️","woman-bouncing-ball":"⛹️‍♀️","man-bouncing-ball":"⛹️‍♂️",person_with_ball:"⛹️‍♂️",tent:"⛺",fuelpump:"⛽",scissors:"✂️",airplane:"✈️",email:"✉️",envelope:"✉️",fist:"✊",hand:"✋",raised_hand:"✋",v:"✌️",writing_hand:"✍️",pencil2:"✏️",black_nib:"✒️",heavy_check_mark:"✔️",heavy_multiplication_x:"✖️",latin_cross:"✝️",star_of_david:"✡️",eight_spoked_asterisk:"✳️",eight_pointed_black_star:"✴️",snowflake:"❄️",sparkle:"❇️",x:"❌",negative_squared_cross_mark:"❎",heavy_heart_exclamation_mark_ornament:"❣️",heart_on_fire:"❤️‍🔥",mending_heart:"❤️‍🩹",heart:"❤️",arrow_right:"➡️",curly_loop:"➰",loop:"➿",arrow_heading_up:"⤴️",arrow_heading_down:"⤵️",arrow_left:"⬅️",arrow_up:"⬆️",arrow_down:"⬇️",black_large_square:"⬛",white_large_square:"⬜",star:"⭐",o:"⭕",wavy_dash:"〰️",part_alternation_mark:"〽️",congratulations:"㊗️",secret:"㊙️"}});var cy=Q((IX,uy)=>{var sy=oy(),fi=ay(),KN=/:([a-zA-Z0-9_\-\+]+):/g,JN=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Ga(t){var e=t.indexOf(":");return e>-1?e===t.length-1?(t=t.substring(0,e),Ga(t)):(t=t.substr(e+1),Ga(t)):t}function ly(t){return typeof t=="string"&&t.length>0?":"+t+":":t}function ZN(t){return typeof t=="string"&&t[0]!==":"?ly(t):t}var XN=String.fromCharCode(65039),YN=new RegExp(XN,"g");function Ka(t){return t.replace(YN,"")}var Ep=Object.keys(fi).reduce(function(t,e){return t[Ka(fi[e])]=e,t},{}),je={emoji:fi};je._get=function(e){return Ep[Ka(e)]?e:fi.hasOwnProperty(e)?fi[e]:ZN(e)};je.get=function(e){return e=Ga(e),je._get(e)};je.find=function(e){return je.findByName(e)||je.findByCode(e)};je.findByName=function(e){var r=Ga(e),n=fi[r];return n?{emoji:n,key:r}:void 0};je.findByCode=function(e){var r=Ka(e),n=Ep[r];return n?{emoji:fi[n],key:n}:void 0};je.hasEmoji=function(e){return je.hasEmojiByName(e)||je.hasEmojiByCode(e)};je.hasEmojiByName=function(e){var r=je.findByName(e);return!!r&&r.key===Ga(e)};je.hasEmojiByCode=function(e){var r=je.findByCode(e);return!!r&&Ka(r.emoji)===Ka(e)};je.which=function(e,r){var n=Ka(e),i=Ep[n];return r?ly(i):i};je.emojify=function(e,r,n){return e?e.split(KN).map(function(o,a){if(a%2===0)return o;var s=je._get(o),l=s.indexOf(":")>-1;return l&&typeof r=="function"?r(o):!l&&typeof n=="function"?n(s,o):s}).join(""):""};je.random=function(){var e=Object.keys(fi),r=Math.floor(Math.random()*e.length),n=e[r],i=je._get(n);return{key:n,emoji:i}};je.search=function(e){var r=Object.keys(fi),n=Ga(e),i=r.filter(function(o){return o.toString().indexOf(n)===0});return i.map(function(o){return{key:o,emoji:je._get(o)}})};je.unemojify=function(e){if(!e)return"";var r=sy(e);return r.map(function(n){return je.which(n,!0)||n}).join("")};je.replace=function(e,r,n){if(!e)return"";var i=typeof r=="function"?r:function(){return r},o=sy(e),a=o.map(function(s,l){var u=je.findByCode(s);return u&&n&&o[l+1]===" "&&(o[l+1]=""),u?i(u):s}).join("");return n?a.replace(JN,""):a};je.strip=function(e){return je.replace(e,"",!0)};uy.exports=je});var Mp=Q((LX,dy)=>{dy.exports=cy()});var my=Q((qX,py)=>{py.exports=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g});var Qm=Qi(Xm(),1),Xr=unsafeWindow,ye=Xr;function Ol(t){return new Proxy(t,{get(e,r){return r==="then"?n=>(e.then(n),Ol(e)):Ol(e.then(n=>n[r]))}})}var Me=(t,...e)=>Xr.console.log(`%c[exlg] ${t}`,"color: #0e90d2;",...e),Dr=(t,...e)=>Xr.console.warn(`%c[exlg] ${t}`,"color: #0e90d2;",...e),Ft=(t,...e)=>{throw Xr.console.error(`%c[exlg] ${t}`,"color: #0e90d2;",...e),Error(e.join(" "))},Ce,pe;location.host==="www.luogu.com.cn"&&!/blog/g.test(location.href)&&(/(\?|&)_contentOnly($|=)/g.test(location.search)&&Ft("Content-Only pages."),Xr._feInjection.code!==200&&Ft("Luogu failed to load. Exlg stops loading."),Ce=Xr._feInjection.currentData,pe=Xr._feInjection.currentUser);var Ym=t=>[t.ctrlKey?"Ctrl":"",t.shiftKey?"Shift":"",t.altKey?"Alt":"",t.key.toInitialCase()].join(""),C=jQuery.extend({double:(t,e,r)=>[t(e),t(r)]});jQuery.fn.extend({whenKey(t,e){typeof t=="object"?this.on("keydown",r=>{let n=t[Ym(r)];n&&n(r)}):this.on("keydown",r=>{Ym(r)===t&&e(r)})}});var eo=new Qm.filterXSS.FilterXSS({onTagAttr:(t,e,r)=>{if(e==="style")return`${e}="${r}"`}});Date.prototype.format=function(t,e){e=e?"UTC":"";let r={"y+":this[`get${e}FullYear`](),"m+":this[`get${e}Month`]()+1,"d+":this[`get${e}Date`](),"H+":this[`get${e}Hours`](),"M+":this[`get${e}Minutes`](),"S+":this[`get${e}Seconds`](),"s+":this[`get${e}Milliseconds`]()};for(let n in r)RegExp(`(${n})`).test(t)&&(t=t.replace(RegExp.$1,`000${r[n]}`.substr(r[n].toString().length+3-RegExp.$1.length)));return t};String.prototype.toInitialCase=function(){return this[0].toUpperCase()+this.slice(1)};var e1=t=>new Promise(e=>setTimeout(e,t)),yi=(t,e)=>{if(!t)return"<<";let r=(c,d)=>c===d?"==":c<d?"<<":">>",n=["pre","alpha","beta"],[[i,o],[a,s]]=[t,e].map(c=>c.split("-")),[l,u]=i===a?[o,s].map(c=>[c?n.findIndex(d=>c.startsWith(d)):1/0,c?.match(/[0-9]+$/g)?.[0]??1/0]):[i,a].map(c=>c.split("."));for(let[c,d]of l.entries())if(d!==u[c])return r(+d||0,+u[c]||0);return"=="},zl=(t,e)=>{let r=new URLSearchParams;for(let i in t)r.set(i,t[i]);let n=C(`
        <iframe id="exlg-${t.type}" src=" https://www.bilibili.com/robots.txt?${r}" style="${e}" exlg="exlg"></iframe>
    `);return Me("Building springboard: %o",n[0]),n},Yr=({url:t,onload:e,onerror:r=n=>Ft(n)})=>GM_xmlhttpRequest({url:t,method:"GET",onload:e,onerror:r}),b0=(t,e={})=>{let r=new Promise((n,i)=>{GM_xmlhttpRequest({url:t,method:"GET",headers:e,onload:o=>{try{o.data=JSON.parse(o.responseText)}catch{}n(o)},onerror:i})});return Ol(r)},Lr=(t,e,r={},n="application/json")=>{let i=new Promise((o,a)=>{GM_xmlhttpRequest({url:t,method:"POST",data:typeof e!="string"?JSON.stringify(e):e,headers:{"Content-Type":typeof e=="string"?n:"application/json",...r},onload:s=>{try{s.data=JSON.parse(s.responseText)}catch{}o(s)},onerror:a})});return Ol(i)},Cr=(t=1e3)=>Math.floor(Date.now()/t),Sr=t=>new Promise((e,r)=>{C.get(`${t+(t.includes("?")?"&":"?")}_contentOnly=1`,n=>{n.code!==200&&r(new Error(`Requesting failure code: ${e.code}.`)),e(n)})}),t1=(t,e="exlg 提醒您")=>Xr.show_alert?Xr.show_alert(e,t):Xr.alert(`${e}
${t}`),g0=null,qo=(t,e)=>C.ajax({url:t,data:e,headers:{"x-csrf-token":g0===null?g0=C("meta[name=csrf-token]").attr("content"):g0,"content-type":"application/json"},method:"post"}),Ho=t=>[/^AT[1-9][0-9]{0,}$/i,/^CF[1-9][0-9]{0,}[A-Z][0-9]?$/i,/^SP[1-9][0-9]{0,}$/i,/^P[1-9][0-9]{3,}$/i,/^UVA[1-9][0-9]{2,}$/i,/^U[1-9][0-9]{0,}$/i,/^T[1-9][0-9]{0,}$/i,/^B[2-9][0-9]{3,}$/i].some(e=>e.test(t)),y0=(t,e)=>t.map(r=>({dft:r,...e})),ts=t=>e=>{let r=e.target.querySelectorAll(t);return{result:Boolean(r?.length),args:r}},r1=(t,e,r)=>{let n=new Date().valueOf(),i=new BroadcastChannel(`${t}-ctrl`),o=new BroadcastChannel(`${t}-data`),a=!1,s,l,u=()=>{s=0,i.postMessage(`Alive ${n}`),setTimeout(()=>{s<n&&(a=!0,i.postMessage("Victory"),C(Xr).on("unload",()=>{i.postMessage("Election")}),e(o))},1e3)};i.onmessage=c=>{let d=c.data;d==="Ping"&&a?i.postMessage("Pong"):d==="Pong"?clearTimeout(l):d==="Election"?u():d.split(" ")[0]==="Alive"?(console.log(Number(d.split(" ")[1])),s=Math.max(s,Number(d.split(" ")[1]))):d==="Victory"&&(a=!1)},o.onmessage=c=>{r(c.data)},i.postMessage("Ping"),l=setTimeout(()=>{i.postMessage("Election"),u()},1e3)};var Un={_:new Map,reg:(t,e,r,n,i)=>{Un._.set(t,{description:e,alias:r,icon:n,unclosable:i})},alias:t=>{let e=Un._.get(t);return e?e.alias:""},register:()=>{Me("Registering categories"),Un.reg("core","核心","@","bug_report",!0),Un.reg("module","模块","","tunes",!1),Un.reg("admin","管理模块","!","build",!1),Un.reg("chore","定时任务","^","alarm",!0),Un.reg("component","组件","#","widgets",!0)}};Un.register();var _r=Un;var Jt={};var x0=class{constructor(){this.fq=[]}push(...e){this.fq=this.fq.concat(e)}apply(){this.fq.forEach(e=>e())}},Jw=Object.fromEntries(["onload","preload"].map(t=>[t,new x0])),pn=Jw;var rs={_:new Map,sto:null,reg:(t,e,r,n,i,o)=>{let a=_r.alias("component")+t;return e=e.replaceAll(" ","_"),Jt[a]={ty:"object",lvs:{on:{ty:"boolean",dft:!0},...r}},rs._.set(t,{info:e,pre:n,styl:o}),(...s)=>i(...(r?[{msto:rs.sto[a]}]:[]).concat(s))}};pn.onload.push(()=>{for(let[t,e]of rs._.entries())e.styl&&GM_addStyle(e.styl),Me(`Preparing component: ${t}`),e.pre&&e.pre({msto:rs.sto[_r.alias("component")+t]})});var Qr=rs;var Nl='<svg xmlns="http://www.w3.org/2000/svg" height="30" viewBox="0 0 136.14 30.56"><g transform="translate(1.755, 0)" fill="#00a0d8"><g><path d="M5.02-33.80L34.56-33.80L34.07-28.62L16.96-28.62L15.93-21.92L31.97-21.92L31.48-16.74L14.85-16.74L13.82-8.42L31.97-8.42L31.48-3.24L2.43-3.24L6.59-31.75L5.02-33.80Z" transform="translate(-4.14, 33.9)"></path><path d="M7.34-32.29L5.78-33.80L16.63-33.80L21.33-25.00L27.54-32.78L26.51-33.80L38.93-33.80L25.49-18.79L34.78-3.24L24.41-3.24L19.76-12.58L11.99-3.24L1.62-3.24L15.12-18.79L7.34-32.29Z" transform="translate(27.23, 33.9)"></path><path d="M4.00-33.80L16.42-33.80L12.80-8.42L32.99-8.42L32.51-3.24L5.56-3.24Q4.00-3.24 3.21-4.27Q2.43-5.29 2.43-6.86L2.43-6.86L5.56-31.75L4.00-33.80Z" transform="translate(63.8, 33.9)"></path><path d="M38.83-33.80L37.80-25.00L27.43-25.00L27.92-28.62L15.50-28.62L12.91-8.42L25.33-8.42L25.87-14.63L22.73-19.82L36.72-19.82L34.67-3.24L5.62-3.24Q4.86-3.24 4.21-3.51Q3.56-3.78 3.10-4.27Q2.65-4.75 2.48-5.43Q2.32-6.10 2.54-6.86L2.54-6.86L6.16-33.80L38.83-33.80Z" transform="translate(95.6, 33.9)"></path></g></g></svg>';var Re=null,Ae={_:new Map,fake_sto:Re,data:{},path_alias:[["",".*\\.luogu\\.(com\\.cn|org)"],["dash","dash.exlg.cc"],["cdn","cdn.luogu.com.cn"],["bili","www.bilibili.com"],["tcs1","service-ig5px5gh-1305163805.sh.apigw.tencentcs.com"],["tcs2","service-nd5kxeo3-1305163805.sh.apigw.tencentcs.com"],["tcs3","service-otgstbe5-1305163805.sh.apigw.tencentcs.com"],["debug","localhost:1634"],["ghpage","extend-luogu.github.io"]].map(([t,e])=>[new RegExp(`^@${t}/`),e]),pth_modify:t=>(Array.isArray(t)||(t=[t]),t.map(e=>(Ae.path_alias.some(([r,n])=>e.match(r)?(e=e.replace(r,`${n}/`),!0):!1),e.endsWith("$")||(e+="$"),e))),path_dash_board:["@dash/((index|bundle)(.html)?)?","@ghpage/exlg-setting-new/((index|bundle)(.html)?)?","@debug/((index|bundle).html)?"],reg:(t,e,r,n,i,o,a)=>{r=Ae.pth_modify(r);let s=_r.alias(a)+t;Ae.data[s]={ty:"object",lvs:n||{}},"on"in Ae.data[s].lvs||(Ae.data[s].lvs.on={ty:"boolean",dft:!0}),Jt[s]=Ae.data[s],e=e.replaceAll(" ","_"),Ae._.set(t,{info:e,path:r,func:i,styl:o,cate:a})},_regv2_invoker:(t,e)=>{let r=(i,o)=>{if(typeof o=="object"&&i in o)return o[i]};t=Ae.pth_modify(t);let n=(i,o,a,s)=>{o=o?Ae.pth_modify(o):[];let l=r(i,e.private);r("on",l)!==!1&&o.concat(t).some(c=>RegExp(c).test(location.href))&&pn[a].push((...c)=>s({msto:l,gsto:e.public},...c))};return{onload:({name:i,path:o},a,s)=>n(i,o,"onload",s),preload:({name:i,path:o},a,s)=>n(i,o,"preload",s),chore:({name:i,period:o},a,s)=>{if(typeof o=="string"){let l=+o.slice(0,-1),u={s:1e3,m:1e3*60,h:1e3*60*60,D:1e3*60*60*24}[o.slice(-1)];!isNaN(l)&&u?o=l*u:Ft(`Parsing period failed: "${o}"`)}n(i,"@/.*","preload",async l=>{let u=l.msto.last_chore,c=Cr(1);!u||c-u>o?await s(l)?Dr(`Chore failed: "${i}"`):l.msto.last_chore=Cr(1):Me(`Pending chore: "${i}"`)})},hook:({name:i,path:o},a,s,l)=>n(i,o,"preload",u=>{document.querySelector("body").addEventListener("DOMNodeInserted",c=>{if(!c.target?.tagName)return!1;let d=l(c);return d.result&&s({...u,...d})})})}},reg_v2:({name:t,info:e,path:r,cate:n},i,o,a)=>{e=e.replaceAll(" ","_");let s={},l=[],u=(p,...m)=>s=Object.fromEntries(Object.entries(s).concat(Object.entries(p).map(([b,x])=>{let k=x.migration===!0?b:x.migration;return l.push([k,m.concat(b)]),[k,{...x,priv:!0}]}))),c=_r.alias(n)+t,d=Object.entries(i??{}).filter(([p])=>p!=="on");u(d,"public"),Jt[c]={ty:"object",lvs:{...d&&{public:{ty:"object",lvs:Object.fromEntries(d)}},private:{ty:"object",lvs:{}},on:{ty:"boolean",dft:i?.on?.dft??!0}}};let f=[];o((p=>{let m=(b,x)=>{x&&(p.private.lvs[b]={ty:"object",lvs:x},u(x,"private",b))};return new Proxy({onload:(b,x)=>m(b.name,x),preload:(b,x)=>m(b.name,x),chore:(b,x)=>m(b.name,{...x,last_chore:{ty:"number",dft:-1,priv:!0}}),hook:(b,x)=>m(b.name,x)},{get:(b,x)=>(...k)=>{f.push([x,...k]),b[x](...k)}})})(Jt[c].lvs)),Jt[c].lvs={...Jt[c].lvs,...s},Ae._.set(t,{info:e,path:Ae.pth_modify(r),data:i,func:o,subfuncs:f,migrlist:l,styl:a,cate:n})},reg_main:(t,e,r,n,i,o)=>Ae.reg(t,e,r,n,a=>(i(a),!1),o,"core"),reg_user_tab:(t,e,r,n,i,o,a,s)=>Ae.reg(t,e,"@/user/.*",i,l=>{let u=C(".items"),c=()=>{(location.hash||"#main")===`#${r}`&&(Me(`Working user tab#${r} mod: "${t}"`),o({...l,vars:n}))};u.on("click",c),c()},a,s),reg_chore:(t,e,r,n,i,o,a)=>{if(typeof r=="string"){let s=+r.slice(0,-1),l={s:1e3,m:1e3*60,h:1e3*60*60,D:1e3*60*60*24}[r.slice(-1)];!isNaN(s)&&l?r=s*l:Ft(`Parsing period failed: "${r}"`)}i={...i,last_chore:{ty:"number",dft:-1,priv:!0}},Ae.reg(t,e,n,i,async s=>{let l=Re[`^${t}`].last_chore,u=Cr(1),c=!0;s.named||!l||u-l>r?(c&&(GM_addStyle(a),c=!1),await o(s)?Dr(`Chore failed: "${t}"`):Re[`^${t}`].last_chore=Cr(1)):Me(`Pending chore: "${t}"`)},null,"chore")},reg_board:(t,e,r,n,i,o)=>Ae.reg(t,e,"@/",r,a=>{let s=C("#exlg-board");s.length||(s=C(`
                    <div class="lg-article" id="exlg-board" exlg="exlg"><h2>${Nl} &nbsp;&nbsp;${GM_info.script.version}</h2></div>
                `).prependTo(".lg-right.am-u-md-4"),s[0].firstChild.style["font-size"]="1em"),n({...a,$board:C("<div></div>").appendTo(s)})},i,o),reg_hook_new:(t,e,r,n,i,o,a,s,l)=>Ae.reg(t,e,r,n,u=>{i({...u,result:!1,args:a()}),C("body").bind("DOMNodeInserted",c=>{if(!c.target?.tagName)return!1;let d=o(c);return d.result&&i({...u,...d})})},s,l),reg_lfe:(t,e,r,n,i,o,a)=>{Ae.reg(t,e,r,n,i,o,a),Ae._.set(t,{lfe:!0,...Ae._.get(t)})},find:t=>Ae._.get(t),has:t=>Ae._.has(t),disable:t=>{let e=Ae.find(t);e.on=!1,Ae._.set(t,e)},enable:t=>{let e=Ae.find(t);e.on=!0,Ae._.set(t,e)},execute_v2:()=>{for(let[t,e]of Ae._.entries()){let r=_r.alias(e.cate)+t;if(Re[r].on&&(e.styl&&GM_addStyle(e.styl),e.subfuncs)){if(Array.isArray(e.migrlist)){for(let[i,o]of e.migrlist)if(Re[r][i]!==Jt[r].lvs[i].dft){let a=Re[r],s=o.slice(0,-1);for(let l of s)a=a[l];a[o.at(-1)]=Re[r][i],Re[r][i]=Jt[r].lvs[i].dft}}let n=Ae._regv2_invoker(e.path,Re[r]);for(let i of e.subfuncs)Me(`Executing "${i[1].name}" of "${t}"`),n[i[0]](...i.slice(1))}}},preload:()=>{Re===null&&(Re=Ae.fake_sto);let t=location.href;for(let[r,n]of Ae._.entries())Re[_r.alias(n.cate)+r].on&&n.path.some(i=>new RegExp(i,"g").test(t))&&(n.willrun=!0,Ae._.set(r,n));let e=console.info.bind({});ye.console.info=(...r)=>{let n=e(...r);if(Me(`info hooked: ${r.join(" ")}`),r[0]==="[@lfe/loader]")for(let[i,o]of Ae._.entries())Re[_r.alias(o.cate)+i].on&&o.path.some(a=>new RegExp(a,"g").test(t))&&"lfe"in o&&(Ae.execute(i),Me(`loading lfe module: ${i}`));return n}},execute:t=>{let e=(r,n)=>{r||Ft(`Executing named mod but not found: "${t}"`),Me(`Executing ${n?"named ":""}mod: "${r.name}"`);try{return r.func({msto:Re[_r.alias(r.cate)+r.name],named:n})}catch(i){Dr(i)}};if(t){let r=Ae.find(t);return e({name:t,...r},!0)}for(let[r,n]of Ae._.entries())if(n.on=Re[_r.alias(n.cate)+r].on,n.willrun&&!n.subfuncs&&e({name:r,...n})===!1)break}};pn.onload.push(Ae.execute);var J=Ae;J.reg_v2({name:"auto-o2",info:"自动开启 O2",path:"@/problem/[A-Z0-9]+(#.*)?",cate:"module"},{on:{ty:"boolean",dft:!1},mode:{ty:"enum",dft:"lastSubmitted",vals:["lastSubmitted","lastChecked","always"],info:["Mode","模式"]},last_enabled:{ty:"boolean",dft:!1,priv:!0}},t=>{t.hook({name:"submit-detector",info:"提交检测"},null,({gsto:e,args:r})=>{e.mode==="lastSubmitted"&&C(r).on("click",()=>{e.last_enabled=C("input[id^=check]").is(":checked")})},ts("button[data-v-01cd4e24]")),t.hook({name:"o2-checker",info:"钩取开启 o2"},null,({gsto:e,args:r})=>{e.mode==="lastChecked"&&C(r).off("click"),(e.mode==="always"||e.mode==="lastChecked"&&e.last_enabled)&&C(r).trigger("click"),e.mode==="lastChecked"&&C(r).on("click",n=>{e.last_enabled=n.currentTarget.checked})},ts("input[id^=check]"))});function u1(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var Vo=u1();function Xw(t){Vo=t}var Yw=/[&<>"']/,Qw=/[&<>"']/g,e9=/[<>"']|&(?!#?\w+;)/,t9=/[<>"']|&(?!#?\w+;)/g,r9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n1=t=>r9[t];function kt(t,e){if(e){if(Yw.test(t))return t.replace(Qw,n1)}else if(e9.test(t))return t.replace(t9,n1);return t}var n9=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c1(t){return t.replace(n9,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}var i9=/(^|[^\[])\^/g;function We(t,e){t=typeof t=="string"?t:t.source,e=e||"";let r={replace:(n,i)=>(i=i.source||i,i=i.replace(i9,"$1"),t=t.replace(n,i),r),getRegex:()=>new RegExp(t,e)};return r}var o9=/[^\w:]/g,a9=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function i1(t,e,r){if(t){let n;try{n=decodeURIComponent(c1(r)).replace(o9,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!a9.test(r)&&(r=c9(e,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}var Il={},s9=/^[^:]+:\/*[^/]*$/,l9=/^([^:]+:)[\s\S]*$/,u9=/^([^:]+:\/*[^/]*)[\s\S]*$/;function c9(t,e){Il[" "+t]||(s9.test(t)?Il[" "+t]=t+"/":Il[" "+t]=Ll(t,"/",!0)),t=Il[" "+t];let r=t.indexOf(":")===-1;return e.substring(0,2)==="//"?r?e:t.replace(l9,"$1")+e:e.charAt(0)==="/"?r?e:t.replace(u9,"$1")+e:t+e}var Bl={exec:function(){}};function rn(t){let e=1,r,n;for(;e<arguments.length;e++){r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}function o1(t,e){let r=t.replace(/\|/g,(o,a,s)=>{let l=!1,u=a;for(;--u>=0&&s[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Ll(t,e,r){let n=t.length;if(n===0)return"";let i=0;for(;i<n;){let o=t.charAt(n-i-1);if(o===e&&!r)i++;else if(o!==e&&r)i++;else break}return t.slice(0,n-i)}function d9(t,e){if(t.indexOf(e[1])===-1)return-1;let r=t.length,n=0,i=0;for(;i<r;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&(n--,n<0))return i;return-1}function d1(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function a1(t,e){if(e<1)return"";let r="";for(;e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function s1(t,e,r,n){let i=e.href,o=e.title?kt(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;let s={type:"link",raw:r,href:i,title:o,text:a,tokens:n.inlineTokens(a,[])};return n.state.inLink=!1,s}return{type:"image",raw:r,href:i,title:o,text:kt(a)}}function f9(t,e){let r=t.match(/^(\s+)(?:```)/);if(r===null)return e;let n=r[1];return e.split(`
`).map(i=>{let o=i.match(/^\s+/);if(o===null)return i;let[a]=o;return a.length>=n.length?i.slice(n.length):i}).join(`
`)}var ns=class{constructor(e){this.options=e||Vo}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ll(n,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let n=r[0],i=f9(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim():r[2],text:i}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){let o=Ll(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}let i={type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let n=r[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:r[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n,i,o,a,s,l,u,c,d,f,h,p,m=r[1].trim(),b=m.length>1,x={type:"list",raw:"",ordered:b,start:b?+m.slice(0,-1):"",loose:!1,items:[]};m=b?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=b?m:"[*+-]");let k=new RegExp(`^( {0,3}${m})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(r=k.exec(e))||this.rules.block.hr.test(e)));){if(n=r[0],e=e.substring(n.length),c=r[2].split(`
`,1)[0],d=e.split(`
`,1)[0],this.options.pedantic?(a=2,h=c.trimLeft()):(a=r[2].search(/[^ ]/),a=a>4?1:a,h=c.slice(a),a+=r[1].length),l=!1,!c&&/^ *$/.test(d)&&(n+=d+`
`,e=e.substring(d.length+1),p=!0),!p){let z=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),O=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),E=new RegExp(`^( {0,${Math.min(3,a-1)}})(\`\`\`|~~~)`);for(;e&&(f=e.split(`
`,1)[0],c=f,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(E.test(c)||this.rules.block.heading.test(c)||z.test(c)||O.test(e)));){if(c.search(/[^ ]/)>=a||!c.trim())h+=`
`+c.slice(a);else if(!l)h+=`
`+c;else break;!l&&!c.trim()&&(l=!0),n+=f+`
`,e=e.substring(f.length+1)}}x.loose||(u?x.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h),i&&(o=i[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),x.items.push({type:"list_item",raw:n,task:!!i,checked:o,loose:!1,text:h}),x.raw+=n}x.items[x.items.length-1].raw=n.trimRight(),x.items[x.items.length-1].text=h.trimRight(),x.raw=x.raw.trimRight();let D=x.items.length;for(s=0;s<D;s++){this.lexer.state.top=!1,x.items[s].tokens=this.lexer.blockTokens(x.items[s].text,[]);let z=x.items[s].tokens.filter(E=>E.type==="space"),O=z.every(E=>{let T=E.raw.split(""),N=0;for(let R of T)if(R===`
`&&(N+=1),N>1)return!0;return!1});!x.loose&&z.length&&O&&(x.loose=!0,x.items[s].loose=!0)}return x}}html(e){let r=this.rules.block.html.exec(e);if(r){let n={type:"html",raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(r[0]):kt(r[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}def(e){let r=this.rules.block.def.exec(e);if(r){r[3]&&(r[3]=r[3].substring(1,r[3].length-1));let n=r[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:n,raw:r[0],href:r[2],title:r[3]}}}table(e){let r=this.rules.block.table.exec(e);if(r){let n={type:"table",header:o1(r[1]).map(i=>({text:i})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=r[0];let i=n.align.length,o,a,s,l;for(o=0;o<i;o++)/^ *-+: *$/.test(n.align[o])?n.align[o]="right":/^ *:-+: *$/.test(n.align[o])?n.align[o]="center":/^ *:-+ *$/.test(n.align[o])?n.align[o]="left":n.align[o]=null;for(i=n.rows.length,o=0;o<i;o++)n.rows[o]=o1(n.rows[o],n.header.length).map(u=>({text:u}));for(i=n.header.length,a=0;a<i;a++)n.header[a].tokens=[],this.lexer.inline(n.header[a].text,n.header[a].tokens);for(i=n.rows.length,a=0;a<i;a++)for(l=n.rows[a],s=0;s<l.length;s++)l[s].tokens=[],this.lexer.inline(l[s].text,l[s].tokens);return n}}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r){let n={type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let n={type:"paragraph",raw:r[0],text:r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}text(e){let r=this.rules.block.text.exec(e);if(r){let n={type:"text",raw:r[0],text:r[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:kt(r[1])}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):kt(r[0]):r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let a=Ll(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=d9(r[2],"()");if(a>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],o="";if(this.options.pedantic){let a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],o=a[3])}else o=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),s1(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i||!i.href){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return s1(n,i,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;let o=i[1]||i[2]||"";if(!o||o&&(n===""||this.rules.inline.punctuation.exec(n))){let a=i[0].length-1,s,l,u=a,c=0,d=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,r=r.slice(-1*e.length+a);(i=d.exec(r))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(l=s.length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&a%3&&!((a+l)%3)){c+=l;continue}if(u-=l,u>0)continue;if(l=Math.min(l,l+u+c),Math.min(a,l)%2){let h=e.slice(1,a+i.index+l);return{type:"em",raw:e.slice(0,a+i.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}let f=e.slice(2,a+i.index+l-1);return{type:"strong",raw:e.slice(0,a+i.index+l+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," "),i=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return i&&o&&(n=n.substring(1,n.length-1)),n=kt(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2],[])}}autolink(e,r){let n=this.rules.inline.autolink.exec(e);if(n){let i,o;return n[2]==="@"?(i=kt(this.options.mangle?r(n[1]):n[1]),o="mailto:"+i):(i=kt(n[1]),o=i),{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e,r){let n;if(n=this.rules.inline.url.exec(e)){let i,o;if(n[2]==="@")i=kt(this.options.mangle?r(n[0]):n[0]),o="mailto:"+i;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(a!==n[0]);i=kt(n[0]),n[1]==="www."?o="http://"+i:o=i}return{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,r){let n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):kt(n[0]):n[0]:i=kt(this.options.smartypants?r(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}},ae={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bl,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ae._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;ae._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;ae.def=We(ae.def).replace("label",ae._label).replace("title",ae._title).getRegex();ae.bullet=/(?:[*+-]|\d{1,9}[.)])/;ae.listItemStart=We(/^( *)(bull) */).replace("bull",ae.bullet).getRegex();ae.list=We(ae.list).replace(/bull/g,ae.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ae.def.source+")").getRegex();ae._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";ae._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;ae.html=We(ae.html,"i").replace("comment",ae._comment).replace("tag",ae._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ae.paragraph=We(ae._paragraph).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae._tag).getRegex();ae.blockquote=We(ae.blockquote).replace("paragraph",ae.paragraph).getRegex();ae.normal=rn({},ae);ae.gfm=rn({},ae.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});ae.gfm.table=We(ae.gfm.table).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae._tag).getRegex();ae.gfm.paragraph=We(ae._paragraph).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ae.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae._tag).getRegex();ae.pedantic=rn({},ae.normal,{html:We(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ae._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bl,paragraph:We(ae.normal._paragraph).replace("hr",ae.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ae.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var te={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bl,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bl,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};te._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";te.punctuation=We(te.punctuation).replace(/punctuation/g,te._punctuation).getRegex();te.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;te.escapedEmSt=/\\\*|\\_/g;te._comment=We(ae._comment).replace("(?:-->|$)","-->").getRegex();te.emStrong.lDelim=We(te.emStrong.lDelim).replace(/punct/g,te._punctuation).getRegex();te.emStrong.rDelimAst=We(te.emStrong.rDelimAst,"g").replace(/punct/g,te._punctuation).getRegex();te.emStrong.rDelimUnd=We(te.emStrong.rDelimUnd,"g").replace(/punct/g,te._punctuation).getRegex();te._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;te._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;te._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;te.autolink=We(te.autolink).replace("scheme",te._scheme).replace("email",te._email).getRegex();te._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;te.tag=We(te.tag).replace("comment",te._comment).replace("attribute",te._attribute).getRegex();te._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;te._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;te._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;te.link=We(te.link).replace("label",te._label).replace("href",te._href).replace("title",te._title).getRegex();te.reflink=We(te.reflink).replace("label",te._label).replace("ref",ae._label).getRegex();te.nolink=We(te.nolink).replace("ref",ae._label).getRegex();te.reflinkSearch=We(te.reflinkSearch,"g").replace("reflink",te.reflink).replace("nolink",te.nolink).getRegex();te.normal=rn({},te);te.pedantic=rn({},te.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:We(/^!?\[(label)\]\((.*?)\)/).replace("label",te._label).getRegex(),reflink:We(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",te._label).getRegex()});te.gfm=rn({},te.normal,{escape:We(te.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});te.gfm.url=We(te.gfm.url,"i").replace("email",te.gfm._extended_email).getRegex();te.breaks=rn({},te.gfm,{br:We(te.br).replace("{2,}","*").getRegex(),text:We(te.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function h9(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function l1(t){let e="",r,n,i=t.length;for(r=0;r<i;r++)n=t.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}var en=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Vo,this.options.tokenizer=this.options.tokenizer||new ns,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:ae.normal,inline:te.normal};this.options.pedantic?(r.block=ae.pedantic,r.inline=te.pedantic):this.options.gfm&&(r.block=ae.gfm,this.options.breaks?r.inline=te.breaks:r.inline=te.gfm),this.tokenizer.rules=r}static get rules(){return{block:ae,inline:te}}static lex(e,r){return new en(r).lex(e)}static lexInline(e,r){return new en(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(e,r=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(s,l,u)=>l+"    ".repeat(u.length));let n,i,o,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(n=s.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let s=1/0,l=e.slice(1),u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o))){i=r[r.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n),a=o.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,r}inline(e,r){this.inlineQueue.push({src:e,tokens:r})}inlineTokens(e,r=[]){let n,i,o,a=e,s,l,u;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)c.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,s.index)+"["+a1("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,s.index)+"["+a1("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,s.index)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,a,u)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e,l1)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,l1))){e=e.substring(n.raw.length),r.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0,d=e.slice(1),f;this.options.extensions.startInline.forEach(function(h){f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(n=this.tokenizer.inlineText(o,h9)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}},is=class{constructor(e){this.options=e||Vo}code(e,r,n){let i=(r||"").match(/\S*/)[0];if(this.options.highlight){let o=this.options.highlight(e,i);o!=null&&o!==e&&(n=!0,e=o)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+kt(i,!0)+'">'+(n?e:kt(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:kt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,r,n,i){if(this.options.headerIds){let o=this.options.headerPrefix+i.slug(n);return`<h${r} id="${o}">${e}</h${r}>
`}return`<h${r}>${e}</h${r}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,r,n){let i=r?"ol":"ul",o=r&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,r){let n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,r,n){if(e=i1(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+kt(e)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(e,r,n){if(e=i1(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i=`<img src="${e}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}},$l=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,n){return""+n}image(e,r,n){return""+n}br(){return""}},Rl=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,r){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return r||(this.seen[e]=i,this.seen[n]=0),n}slug(e,r={}){let n=this.serialize(e);return this.getNextSafeSlug(n,r.dryrun)}},tn=class{constructor(e){this.options=e||Vo,this.options.renderer=this.options.renderer||new is,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $l,this.slugger=new Rl}static parse(e,r){return new tn(r).parse(e)}static parseInline(e,r){return new tn(r).parseInline(e)}parse(e,r=!0){let n="",i,o,a,s,l,u,c,d,f,h,p,m,b,x,k,D,z,O,E,T=e.length;for(i=0;i<T;i++){if(h=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(E=this.options.extensions.renderers[h.type].call({parser:this},h),E!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){n+=E||"";continue}switch(h.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(h.tokens),h.depth,c1(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(d="",c="",s=h.header.length,o=0;o<s;o++)c+=this.renderer.tablecell(this.parseInline(h.header[o].tokens),{header:!0,align:h.align[o]});for(d+=this.renderer.tablerow(c),f="",s=h.rows.length,o=0;o<s;o++){for(u=h.rows[o],c="",l=u.length,a=0;a<l;a++)c+=this.renderer.tablecell(this.parseInline(u[a].tokens),{header:!1,align:h.align[a]});f+=this.renderer.tablerow(c)}n+=this.renderer.table(d,f);continue}case"blockquote":{f=this.parse(h.tokens),n+=this.renderer.blockquote(f);continue}case"list":{for(p=h.ordered,m=h.start,b=h.loose,s=h.items.length,f="",o=0;o<s;o++)k=h.items[o],D=k.checked,z=k.task,x="",k.task&&(O=this.renderer.checkbox(D),b?k.tokens.length>0&&k.tokens[0].type==="paragraph"?(k.tokens[0].text=O+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&k.tokens[0].tokens[0].type==="text"&&(k.tokens[0].tokens[0].text=O+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:O}):x+=O),x+=this.parse(k.tokens,b),f+=this.renderer.listitem(x,z,D);n+=this.renderer.list(f,p,m);continue}case"html":{n+=this.renderer.html(h.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(f=h.tokens?this.parseInline(h.tokens):h.text;i+1<T&&e[i+1].type==="text";)h=e[++i],f+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);n+=r?this.renderer.paragraph(f):f;continue}default:{let N='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(N);return}else throw new Error(N)}}}return n}parseInline(e,r){r=r||this.renderer;let n="",i,o,a,s=e.length;for(i=0;i<s;i++){if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(a=this.options.extensions.renderers[o.type].call({parser:this},o),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){n+=a||"";continue}switch(o.type){case"escape":{n+=r.text(o.text);break}case"html":{n+=r.html(o.text);break}case"link":{n+=r.link(o.href,o.title,this.parseInline(o.tokens,r));break}case"image":{n+=r.image(o.href,o.title,o.text);break}case"strong":{n+=r.strong(this.parseInline(o.tokens,r));break}case"em":{n+=r.em(this.parseInline(o.tokens,r));break}case"codespan":{n+=r.codespan(o.text);break}case"br":{n+=r.br();break}case"del":{n+=r.del(this.parseInline(o.tokens,r));break}case"text":{n+=r.text(o.text);break}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return n}};function de(t,e,r){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(r=e,e=null),e=rn({},de.defaults,e||{}),d1(e),r){let n=e.highlight,i;try{i=en.lex(t,e)}catch(s){return r(s)}let o=function(s){let l;if(!s)try{e.walkTokens&&de.walkTokens(i,e.walkTokens),l=tn.parse(i,e)}catch(u){s=u}return e.highlight=n,s?r(s):r(null,l)};if(!n||n.length<3||(delete e.highlight,!i.length))return o();let a=0;de.walkTokens(i,function(s){s.type==="code"&&(a++,setTimeout(()=>{n(s.text,s.lang,function(l,u){if(l)return o(l);u!=null&&u!==s.text&&(s.text=u,s.escaped=!0),a--,a===0&&o()})},0))}),a===0&&o();return}try{let n=en.lex(t,e);return e.walkTokens&&de.walkTokens(n,e.walkTokens),tn.parse(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+kt(n.message+"",!0)+"</pre>";throw n}}de.options=de.setOptions=function(t){return rn(de.defaults,t),Xw(de.defaults),de};de.getDefaults=u1;de.defaults=Vo;de.use=function(...t){let e=rn({},...t),r=de.defaults.extensions||{renderers:{},childTokens:{}},n;t.forEach(i=>{if(i.extensions&&(n=!0,i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){let a=r.renderers?r.renderers[o.name]:null;a?r.renderers[o.name]=function(...s){let l=o.renderer.apply(this,s);return l===!1&&(l=a.apply(this,s)),l}:r.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[o.level]?r[o.level].unshift(o.tokenizer):r[o.level]=[o.tokenizer],o.start&&(o.level==="block"?r.startBlock?r.startBlock.push(o.start):r.startBlock=[o.start]:o.level==="inline"&&(r.startInline?r.startInline.push(o.start):r.startInline=[o.start]))}o.childTokens&&(r.childTokens[o.name]=o.childTokens)})),i.renderer){let o=de.defaults.renderer||new is;for(let a in i.renderer){let s=o[a];o[a]=(...l)=>{let u=i.renderer[a].apply(o,l);return u===!1&&(u=s.apply(o,l)),u}}e.renderer=o}if(i.tokenizer){let o=de.defaults.tokenizer||new ns;for(let a in i.tokenizer){let s=o[a];o[a]=(...l)=>{let u=i.tokenizer[a].apply(o,l);return u===!1&&(u=s.apply(o,l)),u}}e.tokenizer=o}if(i.walkTokens){let o=de.defaults.walkTokens;e.walkTokens=function(a){i.walkTokens.call(this,a),o&&o.call(this,a)}}n&&(e.extensions=r),de.setOptions(e)})};de.walkTokens=function(t,e){for(let r of t)switch(e.call(de,r),r.type){case"table":{for(let n of r.header)de.walkTokens(n.tokens,e);for(let n of r.rows)for(let i of n)de.walkTokens(i.tokens,e);break}case"list":{de.walkTokens(r.items,e);break}default:de.defaults.extensions&&de.defaults.extensions.childTokens&&de.defaults.extensions.childTokens[r.type]?de.defaults.extensions.childTokens[r.type].forEach(function(n){de.walkTokens(r[n],e)}):r.tokens&&de.walkTokens(r.tokens,e)}};de.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=rn({},de.defaults,e||{}),d1(e);try{let r=en.lexInline(t,e);return e.walkTokens&&de.walkTokens(r,e.walkTokens),tn.parseInline(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+kt(r.message+"",!0)+"</pre>";throw r}};de.Parser=tn;de.parser=tn.parse;de.Renderer=is;de.TextRenderer=$l;de.Lexer=en;de.lexer=en.lex;de.Tokenizer=ns;de.Slugger=Rl;de.parse=de;var B$=de.options,$$=de.setOptions,R$=de.use,P$=de.walkTokens,j$=de.parseInline;var q$=tn.parse,H$=en.lex;var f1='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="%" style="margin-bottom: -3px;" exlg="exlg"><path d="M16 8C16 6.84375 15.25 5.84375 14.1875 5.4375C14.6562 4.4375 14.4688 3.1875 13.6562 2.34375C12.8125 1.53125 11.5625 1.34375 10.5625 1.8125C10.1562 0.75 9.15625 0 8 0C6.8125 0 5.8125 0.75 5.40625 1.8125C4.40625 1.34375 3.15625 1.53125 2.34375 2.34375C1.5 3.1875 1.3125 4.4375 1.78125 5.4375C0.71875 5.84375 0 6.84375 0 8C0 9.1875 0.71875 10.1875 1.78125 10.5938C1.3125 11.5938 1.5 12.8438 2.34375 13.6562C3.15625 14.5 4.40625 14.6875 5.40625 14.2188C5.8125 15.2812 6.8125 16 8 16C9.15625 16 10.1562 15.2812 10.5625 14.2188C11.5938 14.6875 12.8125 14.5 13.6562 13.6562C14.4688 12.8438 14.6562 11.5938 14.1875 10.5938C15.25 10.1875 16 9.1875 16 8ZM11.4688 6.625L7.375 10.6875C7.21875 10.8438 7 10.8125 6.875 10.6875L4.5 8.3125C4.375 8.1875 4.375 7.96875 4.5 7.8125L5.3125 7C5.46875 6.875 5.6875 6.875 5.8125 7.03125L7.125 8.34375L10.1562 5.34375C10.3125 5.1875 10.5312 5.1875 10.6562 5.34375L11.4688 6.15625C11.5938 6.28125 11.5938 6.5 11.4688 6.625Z"></path></svg>';J.reg("benben","全网犇犇","@/",{source:{ty:"enum",dft:"o2",vals:["o2","shy"],info:["Source","切换全网犇犇获取方式"]},reply_with_md:{ty:"boolean",dft:!1,info:["Reply with markdown","回复时附上原 markdown"]}},({msto:t})=>{let e={Gray:"gray",Blue:"bluelight",Green:"green",Orange:"orange lg-bold",Red:"red lg-bold",Purple:"purple lg-bold",Cheater:"brown lg-bold"},r='&nbsp;<a class="sb_amazeui" target="_blank" href="/discuss/show/142324">$</a>',n=a=>a<=3?"":r.replace("$",f1.replace("%",a<=5?"#5eb95e":a<=7?"#3498db":"#f1c40f")),i=ye.loadFeed;ye.loadFeed=function(){ye.feedMode==="all-exlg"?(Yr({url:t.source==="o2"?"https://service-ig5px5gh-1305163805.sh.apigw.tencentcs.com/release/APIGWHtmlDemo-1615602121":`https://bens.rotriw.com/api/list/proxy?page=${ye.feedPage}`,onload:a=>{JSON.parse(a.response).forEach(l=>{let u=de(eo.process(l.content));C(`
                <li class="am-comment am-comment-primary feed-li" exlg="exlg">
                    <div class="lg-left">
                        <a href="/user/${l.user.uid}" class="center">
                            <img src="https://cdn.luogu.com.cn/upload/usericon/${l.user.uid}.png" class="am-comment-avatar">
                        </a>
                    </div>
                    <div class="am-comment-main">
                        <header class="am-comment-hd">
                            <div class="am-comment-meta">
                                <span class="feed-username">
                                    <a class="lg-fg-${e[l.user.color]}" href="/user/${l.user.uid}" target="_blank">${l.user.name}</a>${n(l.user.ccfLevel)}${l.user.badge?`&nbsp;<span class="am-badge am-radius lg-bg-${e[l.user.color]}">${l.user.badge}</span>`:""}
                                </span>
                                ${new Date(l.time*1e3).format("yyyy-mm-dd HH:MM")}
                                <a name="feed-reply">回复</a>
                            </div>
                        </header>
                        <div class="am-comment-bd">
                            <span class="feed-comment">
                                ${u}
                            </span>
                        </div>
                    </div>
                </li>
            `).appendTo(C("ul#feed")).find("a[name=feed-reply]").on("click",()=>{scrollToId("feed-content"),setTimeout(()=>C("textarea").trigger("focus").val(` || @${l.user.name} : ${t.reply_with_md?l.content:C(u).text()}`).trigger("input"),50)})})}}),t.source==="shy"&&(ye.feedPage++,C("#feed-more").children("a").text("点击查看更多..."))):i()};let o=C(".feed-selector");C('<li class="feed-selector" id="exlg-benben-selector" data-mode="all-exlg" exlg="exlg"><a style="cursor: pointer">全网动态</a></li>').appendTo(o.parent()).on("click",a=>{let s=C(a.currentTarget);o.removeClass("am-active"),s.addClass("am-active"),t.source==="o2"&&C("#feed-more").hide(),ye.feedPage=1,ye.feedMode="all-exlg",C("li.am-comment").remove(),ye.loadFeed()})},null,"module");J.reg("benben-quickpost","CtrlEnter 发送犇犇","@/",null,()=>C("textarea").whenKey("CtrlEnter",()=>C("#feed-submit").trigger("click")),null,"module");J.reg_v2({name:"blog",info:"博客 ex",path:["@/blogAdmin/article/edit/.*","@/blogAdmin/article/new"],cate:"module"},null,t=>{t.onload({name:"format",info:"按照洛谷题解标准格式化"},{on:{ty:"boolean",dft:!0,info:["Enable format","显示格式化按钮"],migration:"format"},cloud:{ty:"boolean",dft:!0,info:["Enable cloud format","启用云格式化"],migration:!0}},({msto:e})=>{let r=C(".mp-editor-menu");r.append('<li data-v-6d5597b1="" class="mp-divider"><span data-v-6d5597b1="">|</span></li>'),r.append(C('<li data-v-6d5597b1=""></li>').append(C('<a data-v-6d5597b1="" title="自动排版" unslectable="on" class="exlg-format-btn"></a>').append('<i data-v-6d5597b1="" unslectable="on" class="fa fa-check"></i>'))),C(".exlg-format-btn").on("click",async()=>{let n=ye.articleEditor.content;e.cloud?n=await Lr("https://exlgcs.jin-dan.site/autocorrect",{content:n}).data.data:(n=n.replaceAll(/([\u4e00-\u9fa5])([a-z])/igu,"$1 $2"),n=n.replaceAll(/([a-z])([\u4e00-\u9fa5])/igu,"$1 $2"),n=n.replaceAll(/([\u4e00-\u9fa5])(\$)/igu,"$1 $2"),n=n.replaceAll(/(\$)([\u4e00-\u9fa5])/igu,"$1 $2")),ye.articleEditor.content=n})}),t.onload({name:"hotkeys",info:"编辑快捷键"},{on:{ty:"boolean",dft:!0,info:["Enable hotkeys","快捷键"],migration:"hotkeys"}},()=>{C(ye).whenKey({CtrlB:()=>C("a[title='粗体']")[0].click(),CtrlI:()=>C("a[title='斜体']")[0].click(),CtrlShiftX:()=>C("a[title='删除线']")[0].click()})})});var h1=".bb-rnkitm:nth-child(1)::marker{color:var(--lg-red);font-weight:900}.bb-rnkitm:nth-child(2)::marker{color:var(--lg-orange);font-weight:900}.bb-rnkitm:nth-child(3)::marker{color:var(--lg-yellow);font-weight:900}.bb-rnkitm>span{display:flex;flex-wrap:wrap}.bb-rnkitm>span>span{margin-left:auto}.bb-rnklst-span{font-size:1em;font-weight:400}.btn-disable{pointer-events:none;color:#97979a}";var p1='<h3>查找用户</h3><div class="am-input-group am-input-group-primary am-input-group-sm">	<input type="text" class="am-form-field" placeholder="例：kkksc03，可跳转站长主页" name="username" id="search-user-input"></div><p>	<button class="am-btn am-btn-danger am-btn-sm" id="search-user">跳转</button></p>';var m1="input[exlg-badge-register],select[exlg-badge-register]{outline:none;display:inline-block;width:auto;padding:.5em;line-height:1.2;color:#555;vertical-align:middle;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:0;-webkit-appearance:none;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}input[exlg-badge-register][disabled]{cursor:not-allowed;background-color:#eee}input[exlg-badge-register]:focus{border:1px solid #3bb4f2}body{margin:0}.exlg-dialog-footer{bottom:0;position:absolute;right:0;padding:10px 6px}.exlg-dialog-container.container-show:hover>.exlg-dialog-btn{background:rgba(255,255,255,.8)}.exlg-dialog-btn{margin:0 4px;float:right;color:#666;min-width:75px;cursor:pointer;background:rgba(255,255,255,.2);padding:7px 10px;border:1px solid #ddd;border-radius:3px}.exlg-dialog-container.container-hide{opacity:0}.exlg-dialog-container.container-show:hover{background:rgba(250,250,250,.8);box-shadow:0 2px 8px #0006;opacity:1}.exlg-dialog-container{filter:blur(0);position:relative;opacity:.75;background:rgba(204,204,204,.2);width:500px;min-height:300px;border-radius:5px;margin:0 auto;box-shadow:0 2px 8px #00000040;font-size:16px;line-height:1.5;backdrop-filter:blur(20px)}.exlg-dialog-wrapper{position:fixed;left:0;top:0;background:rgba(0,0,0,0);width:100%;height:100%;align-items:center;display:table-cell;z-index:150}.exlg-dialog-header{height:auto;border-bottom:1px solid #eee;padding:11px 20px}.exlg-dialog-body{text-align:center;margin-bottom:50px;padding:20px 30px 10px;line-height:2}#header-right{position:absolute;width:30px;height:30px;border-radius:5px;background:rgba(0,0,0,0);color:red;right:10px;top:10px;text-align:center}";var g1='<div class="exlg-dialog-wrapper" id="exlg-wrapper" style="display: none;"><div class="exlg-dialog-container container-hide" id="exlg-container"><div class="exlg-dialog-header"><strong id="exlg-dialog-title"></strong><div id="header-right" style="opacity: 0.5;"><svg class="icon" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5446"><path d="M512 128c-211.7 0-384 172.3-384 384s172.3 384 384 384 384-172.3 384-384-172.3-384-384-384z m0 717.4c-183.8 0-333.4-149.6-333.4-333.4S328.2 178.6 512 178.6 845.4 328.2 845.4 512 695.8 845.4 512 845.4zM651.2 372.8c-9.9-9.9-25.9-9.9-35.8 0L512 476.2 408.6 372.8c-9.9-9.9-25.9-9.9-35.8 0-9.9 9.9-9.9 25.9 0 35.8L476.2 512 372.8 615.4c-9.9 9.9-9.9 25.9 0 35.8 4.9 4.9 11.4 7.4 17.9 7.4s13-2.5 17.9-7.4L512 547.8l103.4 103.4c4.9 4.9 11.4 7.4 17.9 7.4s13-2.5 17.9-7.4c9.9-9.9 9.9-25.9 0-35.8L547.8 512l103.4-103.4c9.9-9.9 9.9-25.9 0-35.8z" p-id="5447"></path></svg></div></div><div class="exlg-dialog-body"><div id="exlg-dialog-content"></div><div class="exlg-dialog-footer"><button class="exlg-dialog-btn" btn-rnk="0"></button><button class="exlg-dialog-btn" btn-rnk="1"></button></div></div></div></div>';var b1=t=>new Promise(e=>{setTimeout(e,t)}),lt={},x9=Qr.reg("exlg-dialog-board","exlg 公告板",{animation_speed:{ty:"enum",dft:".4s",vals:["0s",".1s",".25s",".4s"],info:["Speed of Board Animation","启动消失动画速度"]},confirm_position:{ty:"enum",dft:"left",vals:["left","right"],info:["Position of Confirm Button","确定按钮相对位置"]}},({msto:t})=>{let e=!1,r=C(g1).appendTo(C(document.body)).on("mouseup",()=>{e=!1}),[n,i,o,a]=["#exlg-container","#exlg-dialog-title","#exlg-dialog-content","#header-right"].map(d=>r.find(d)),[s,l]=(t.confirm_position==="right"?[0,1]:[1,0]).map(d=>r.find(`button[btn-rnk="${d}"]`));s.text("确定"),l.text("取消"),s.on("click",async()=>{let d=lt.action.onconfirm?.(lt);((d instanceof Promise?await d:d)??!0)&&lt.hide_dialog(),lt.resolve_result("confirmed")}),l.on("click",async()=>{let d=lt.action.oncancel?.(lt);((d instanceof Promise?await d:d)??!0)&&lt.hide_dialog(),lt.resolve_result("canceled")}),a.on("click",async()=>{let d=lt.action.onclose?.(lt);((d instanceof Promise?await d:d)??!0)&&lt.hide_dialog(),lt.resolve_result("closed")}),n.on("click",d=>d.stopPropagation()),n.on("mousedown",d=>(e=!0)&&d.stopPropagation()),t.animation_speed!=="0s"&&n.css("transition",t.animation_speed);let u={"0s":0,".1s":100,".25s":250,".4s":400},c={0:"0s",100:".1s",250:".25s",400:".4s"};lt=new Proxy({dom:{$wrap:r,$cont:n,$head:i,$main:o,$close:a},jsdom:{wrapper:r[0],container:n[0],header:i[0].parentNode,title:i[0],content:o[0],button:{confirm:s[0],cancel:l[0],close:a[0]}},jqdom:{wrapper:r[0],container:n[0],header:i[0].parentNode,title:i[0],content:o[0],button:{confirm:s[0],cancel:l[0],close:a[0]}},wait_time:u[t.animation_speed],async show_dialog(){this.jsdom.wrapper.style.display="flex",await b1(50),this.jsdom.container.classList.remove("container-hide"),this.jsdom.container.classList.add("container-show")},async hide_dialog(){this.jsdom.container.classList.add("container-hide"),this.jsdom.container.classList.remove("container-show"),await b1(this.wait_time),this.jsdom.wrapper.style.display="none"},resolve_result(d){this._resolve?.(d)},then(){return new Promise(d=>{this._resolve=d})}},{get(d,f,h){return f==="width"?d.jsdom.container.style.width:/^min(-h|_h|H)eight$/.test(f)?d.jsdom.container.style.minHeight:f==="title"?d.jsdom.title.innerHTML:f==="content"?d.jsdom.content.innerHTML:Reflect.get(d,f)},set(d,f,h,p){return f==="width"?Reflect.set(d.jsdom.container.style,"width",h):/^min(-h|_h|H)eight$/.test(f)?Reflect.set(d.jsdom.container.style,"minHeight",h):f==="wait_time"?typeof h=="number"&&Object.keys(c).includes(h)?(t.animation_speed=c[h],Reflect.set(d,"wait_time",h)):!1:f==="title"?Reflect.set(d.jsdom.title,"innerHTML",h):f==="content"?Reflect.set(d.jsdom.content,"innerHTML",h):Reflect.set(d,f,h)}})},(t,e="",r="exlg 提醒您",n={},{width:i,min_height:o}={})=>(lt.action=typeof n=="function"?{onconfirm:n}:n,lt.jsdom.container.style.width=i??"500px",lt.jsdom.container.style.minHeight=o??"300px",lt.jsdom.title.innerHTML=r,lt.jsdom.content.innerHTML=e,lt.show_dialog(),lt.action.onopen?.(lt),lt),m1),Se=x9;J.reg_board("search-user","用户查找",null,({$board:t})=>{t.html(p1);let e=C("#search-user"),r=()=>{e.prop("disabled",!0),C.get(`/api/user/search?keyword=${C("[name=username]").val().trim()}`,n=>{n.users[0]?location.href=`/user/${n.users[0].uid}`:(e.prop("disabled",!1),Se("无法找到指定用户"))})};e.on("click",r),C("#search-user-input").whenKey("Enter",r)},null,"module");J.reg_board("benben-ranklist","犇犇龙王排行榜",{show:{ty:"boolean",dft:!0,info:["Show in default","是否默认展开"]}},({msto:t,$board:e})=>{e.html(`<h3 id="bb-rnklst-h2">犇犇排行榜 <span id="bb-rnklst-btn" class="bb-rnklst-span"> [<a>${t.show?"收起":"展开"}</a>]</span><span style="float: right;" class="bb-rnklst-span"> [<a id="refresh-bbrnk">刷新</a>]</span></h3><ol style="display: ${t.show?"block":"none"}" id="bb-rnklst"></ol>`);let r=e.find("#bb-rnklst"),n=e.find("#bb-rnklst-btn > a").on("click",()=>{t.show=!t.show,n.text(t.show?"收起":"展开"),r.toggle()}),i=e.find("#refresh-bbrnk"),o=!1;function a(l){o||(o=!0,r.html(l),o=!1)}function s(){i.addClass("btn-disable").text("刷新中"),Yr({url:"https://bens.rotriw.com/ranklist?_contentOnly=1",onload(l){i.removeClass("btn-disable").text("刷新"),a(JSON.parse(l.response).map(([u,c,d])=>`<li class="bb-rnkitm">
                    <span>
                        <a href="https://bens.rotriw.com/user/${d}">${c}</a>
                        <span>${u} 条</span>
                    </span>
                </li>`).join(""))}})}e.find("#refresh-bbrnk").on("click",s),s()},h1,"module");J.reg("captcha","验证码自动填充",["@/discuss/.+","@/image"],null,()=>{let t=C("img[data-v-3e1b4641],#verify_img"),e=async()=>{let r=document.createElement("canvas");r.width=t[0].width,r.height=t[0].height,r.getContext("2d").drawImage(t[0],0,0);let n=C("input[placeholder$='验证码']")[0];n.value=await Lr("https://luogu-captcha-bypass.piterator.com/predict/",r.toDataURL("image/jpeg")).responseText,n.dispatchEvent(new Event("input"))};t.length?(t.click(),t[0].onload=e):C(document).on("focus","input[placeholder$='验证码']",()=>{t=C("#--swal-image-hosting-upload-captcha"),t[0].onload=e})},null,"module");var y1=".exlg-copy{position:relative;display:inline-block;border:1px solid #3498db;border-radius:3px;background-color:#3498db00;color:#3498db;font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Noto Sans,Noto Sans CJK SC,Noto Sans CJK,Source Han Sans,PingFang SC,Segoe UI,Microsoft YaHei,sans-serif;flex:none;outline:0;cursor:pointer;font-weight:400;line-height:1.5;text-align:center;vertical-align:middle;background:0 0;font-size:12px;padding:0 5px;margin-left:1px}.exlg-copy.exlg-copy-right{float:right}.exlg-copy:hover{background-color:#3498db1a}div.exlg-copied{background-color:#3498dbe6!important;color:#fff!important}div.exlg-copied.exlg-copied-fail{background-color:#db3434e6!important;color:#fff!important}.copy-btn{font-size:.8em;padding:0 5px}.lfe-form-sz-middle{font-size:.875em;padding:.313em 1em}.exlg-code-title{margin:0;font-family:inherit;font-size:1.125em;color:inherit}";var x1=`h3.exlg-code-title.exlg-beautified-cbex{margin-bottom:0!important;padding:.4rem .6rem .4rem 2rem;background-color:#eee;font-weight:700;border-top-left-radius:5px;border-top-right-radius:5px;padding-top:8px;margin-top:10px;box-shadow:0 2px 2px #00000024,0 1px 5px #0000001f,0 3px 1px -2px #0003}h3.exlg-code-title.exlg-beautified-cbex+pre[exlg-copy-code-block]{margin-top:0;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border:1px solid #eee;box-shadow:0 2px 2px #00000024,0 1px 5px #0000001f,0 3px 1px -2px #0003;background-color:#fafafa}h3.exlg-code-title.exlg-beautified-cbex+pre>code.hljs[class]{font-family:Fira Code,Consolas,monospace;background:white;padding:.5em}h3.exlg-code-title.exlg-beautified-cbex>div.exlg-copy{color:#6c757d;border:0px solid #3498db;margin-left:1px;font-size:0;transition:background-color .3s;background-image:url("data:image/svg+xml;utf8,<svg class='icon' style='width: 1em;height: 1em;vertical-align: middle;fill: rgb(108, 117, 125);overflow: hidden;' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='2669'><path d='M661.333333 234.666667A64 64 0 0 1 725.333333 298.666667v597.333333a64 64 0 0 1-64 64h-469.333333A64 64 0 0 1 128 896V298.666667a64 64 0 0 1 64-64z m-21.333333 85.333333H213.333333v554.666667h426.666667v-554.666667z m191.829333-256a64 64 0 0 1 63.744 57.856l0.256 6.144v575.701333a42.666667 42.666667 0 0 1-85.034666 4.992l-0.298667-4.992V149.333333H384a42.666667 42.666667 0 0 1-42.368-37.674666L341.333333 106.666667a42.666667 42.666667 0 0 1 37.674667-42.368L384 64h447.829333z' p-id='2670'></path></svg>");height:20px;width:20px;padding:0}h3.exlg-code-title.exlg-beautified-cbex>div.exlg-copy:hover{background-color:#6c757d1a}h3.exlg-code-title.exlg-beautified-cbex>div.exlg-copied[class]{background-color:#6c757d00!important;background-image:url("data:image/svg+xml;utf8,<svg class='icon' style='width: 1em;height: 1em;vertical-align: middle;fill: rgb(70, 160, 240);overflow: hidden;' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='2669'><path d='M661.333333 234.666667A64 64 0 0 1 725.333333 298.666667v597.333333a64 64 0 0 1-64 64h-469.333333A64 64 0 0 1 128 896V298.666667a64 64 0 0 1 64-64z m-21.333333 85.333333H213.333333v554.666667h426.666667v-554.666667z m191.829333-256a64 64 0 0 1 63.744 57.856l0.256 6.144v575.701333a42.666667 42.666667 0 0 1-85.034666 4.992l-0.298667-4.992V149.333333H384a42.666667 42.666667 0 0 1-42.368-37.674666L341.333333 106.666667a42.666667 42.666667 0 0 1 37.674667-42.368L384 64h447.829333z' p-id='2670'></path></svg>")}h3.exlg-code-title.exlg-beautified-cbex>div.exlg-copied[class]:hover{background-color:#6c757d4d!important}h3.exlg-code-title.exlg-beautified-cbex>div.exlg-copied.exlg-copied-fail[class]{background-color:#6c757d00!important;background-image:url("data:image/svg+xml;utf8,<svg class='icon' style='width: 1em;height: 1em;vertical-align: middle;fill: rgb(219, 52, 52);overflow: hidden;' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='2669'><path d='M661.333333 234.666667A64 64 0 0 1 725.333333 298.666667v597.333333a64 64 0 0 1-64 64h-469.333333A64 64 0 0 1 128 896V298.666667a64 64 0 0 1 64-64z m-21.333333 85.333333H213.333333v554.666667h426.666667v-554.666667z m191.829333-256a64 64 0 0 1 63.744 57.856l0.256 6.144v575.701333a42.666667 42.666667 0 0 1-85.034666 4.992l-0.298667-4.992V149.333333H384a42.666667 42.666667 0 0 1-42.368-37.674666L341.333333 106.666667a42.666667 42.666667 0 0 1 37.674667-42.368L384 64h447.829333z' p-id='2670'></path></svg>")}h3.exlg-code-title.exlg-beautified-cbex>div.exlg-copied.exlg-copied-fail[class]:hover{background-color:#6c757d4d!important}`;J.reg_hook_new("code-block-ex","代码块优化","@/.*",{copy_code_position:{ty:"enum",vals:["left","right"],dft:"left",info:["Copy Button Position","复制按钮对齐方式"]},beautify_code_block:{ty:"boolean",dft:!0,info:["Beautify Code Block","代码块美化"]},code_block_title:{ty:"string",dft:"源代码 - ${lang}",info:["Custom Code Title(with Language)","自定义代码块标题 - 限定语言"]},code_block_title_nolang:{ty:"string",dft:"源代码",info:["Custom Code Title(without Language)","自定义代码块标题 - 默认"]},copy_code_font:{ty:"string",dft:"'Fira Code', 'Fira Mono', Consolas",info:["Code Block Font","代码块字体"],strict:!0},cb_background_color:{ty:"string",dft:"white",info:["Code Block Background Color","代码块背景色 (配合其他美化插件)"],strict:!0},max_show_lines:{ty:"number",dft:-1,min:-1,max:100,info:["Max Lines On Show","代码块最大显示行数"],strict:!0}},({msto:t,args:e})=>{let r=/\/record\/.*/.test(location.href),n={c:"C",cpp:"C++",pascal:"Pascal",python:"Python",java:"Java",javascript:"JavaScript",php:"PHP",latex:"LaTeX"},i=o=>{let a="undefined";return r?C(C(".value.lfe-caption")[0]).text():(o.attr("data-rendered-lang")?a=o.attr("data-rendered-lang"):o.attr("class")&&o.attr("class").split(" ").forEach(s=>{s.startsWith("language-")&&(a=s.slice(9))}),n[a])};e.attr("exlg-copy-code-block",""),e.each((o,a,s=C(a))=>{if(a.parentNode.className==="mp-preview-content"||a.parentNode.parentNode.className==="mp-preview-area")return;let l=r?s.children(".copy-btn"):C('<div class="exlg-copy">复制</div>').on("click",()=>{if(l.text()==="复制"){try{GM_setClipboard(s.text(),"text/plain")}catch(h){l.text("复制失败").toggleClass("exlg-copied").toggleClass("exlg-copied-fail"),setTimeout(()=>l.text("复制").toggleClass("exlg-copied").toggleClass("exlg-copied-fail"),800),Me("复制到剪贴板失败，错误信息: ",h);return}l.text("复制成功").toggleClass("exlg-copied"),setTimeout(()=>l.text("复制").toggleClass("exlg-copied"),800)}}),u=s.children("code");t.copy_code_font&&u.css("font-family",t.copy_code_font||""),u.hasClass("hljs")||u.addClass("hljs").css("background",t.cb_background_color),l.addClass(`exlg-copy-${t.copy_code_position}`);let c=i(u),d=c?t.code_block_title.replace("${lang}",c):t.code_block_title_nolang,f=r?C(".lfe-h3").text(d):C(`<h3 class="exlg-code-title" style="/*width: 100%;*/">${d}</h3>`);t.beautify_code_block&&f.addClass("exlg-beautified-cbex"),r||s.before(f.append(l))})},t=>{let e=C(t.target).find("pre:has(> code:not(.cm-s-default)):not([exlg-copy-code-block])");return{result:e.length,args:e}},()=>C("pre:has(> code:not(.cm-s-default)):not([exlg-copy-code-block])"),y1+x1,"module");var w1='<svg data-v-a97ae32a="" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="code" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-code fa-w-20"><path data-v-a97ae32a="" fill="currentColor" d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z" class=""></path></svg>';var v1='<svg aria-hidden="true" height="12" viewBox="0 0 16 16" version="1.1" width="12" data-view-component="true" class="octicon octicon-mark-github"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>';var k1='<svg class="icon" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" width="24" height="24" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5446"><path d="M512 128c-211.7 0-384 172.3-384 384s172.3 384 384 384 384-172.3 384-384-172.3-384-384-384z m0 717.4c-183.8 0-333.4-149.6-333.4-333.4S328.2 178.6 512 178.6 845.4 328.2 845.4 512 695.8 845.4 512 845.4zM651.2 372.8c-9.9-9.9-25.9-9.9-35.8 0L512 476.2 408.6 372.8c-9.9-9.9-25.9-9.9-35.8 0-9.9 9.9-9.9 25.9 0 35.8L476.2 512 372.8 615.4c-9.9 9.9-9.9 25.9 0 35.8 4.9 4.9 11.4 7.4 17.9 7.4s13-2.5 17.9-7.4L512 547.8l103.4 103.4c4.9 4.9 11.4 7.4 17.9 7.4s13-2.5 17.9-7.4c9.9-9.9 9.9-25.9 0-35.8L547.8 512l103.4-103.4c9.9-9.9 9.9-25.9 0-35.8z" p-id="5447"></path></svg>';var D1='<div class="exlg-unselectable exlg-badge-page" style="font-family: Consolas;white-space: nowrap;text-align: left;"><div class="exlg-regbadge-board" mode="main" wd="800px" mh="400px"><!-- 左侧的一列，包含用户信息和按钮 --><div class="exlg-regbadge-box"><span style="margin: 5px;"><span class="exlg-regbadge-fronttitle">uid</span><input key="uid" type="text" style="padding: .1em;" placeholder="填写用户名或uid" value="" disabled title="暂不支持为别人注册 badge" /></span><br /><span style="margin: 5px;"><span class="exlg-regbadge-fronttitle">激活码</span><input key="active" type="text" style="padding: .1em;" /></span><br /><span style="margin: 5px;" style="display: none"><span class="exlg-regbadge-fronttitle">伪tag</span><input key="tagText" type="text" style="padding: .1em;" /></span><br /><span style="margin: 5px;"><span class="exlg-regbadge-fronttitle">内容</span><input key="badgeText" type="text" style="padding: .1em;" /></span><br /><span style="margin: 5px;"><span style="height: 1.5em;float: left;padding: .1em;width: 5em;"> </span><span fid="buttons" style="float: left;margin-left: 5px;"><button act="toPreset" exlg>预设...</button><br /></span></span></div><div class="exlg-regbadge-box" id="regbadge-settings"></div></div><div class="exlg-regbadge-board" mode="showError"><div style="margin-bottom: 1.5em;"><div><strong style="color: red;">错误信息:</strong></div><div class="error-message"></div></div><small>点击确定以返回。</small></div><div class="exlg-regbadge-board" mode="getPreset" wd="600px">想要与别人分享你的预设方案吗？使用下面的输入框吧！<br /><input exlg-regbadge act="preset-json" type="text" style="padding: .1em;width: 100%;height: 2em" /><br /><span style="color: red;font-weight: bold">JSON 不合法!</span><br />另外，这里是些我们早期制作好的！<div class="exlg-regbadge-preset-list"></div></div><div class="exlg-regbadge-board" mode="setbgColor" wd="600px">模式<select id="regbadge-setbgColor-type-select" type="select" style="padding: .1em;padding-right: 20px;width: auto;display: inline;"><option value="text">配置文本</option><option value="lgdefault">跟随名字颜色</option><option value="single">单色</option><option value="xncolorpicker">xncolorpicker</option><option value="image">图片填充</option></select><br /><div class="exlg-regbadge-bg-box" mode="text" style="display: none;"><input /></div><div class="exlg-regbadge-bg-box" mode="lgdefault" style="display: none;"><small>提示：exlg 会把 bg 中的 <code style="font-family: Fira Code, Consolas, monospace">${luogu-default}</code>替换为你当前的名字颜色，<br />并且随着名字颜色变化而变化。<br />试试将 bg 中的颜色换成上述占位符？</small></div><div class="exlg-regbadge-bg-box" mode="single" style="display: none;"><!--这里应该有一个拾色器--><span exlg="bg-single-pickr"></span></div><div class="exlg-regbadge-bg-box" mode="xncolorpicker" style="display: none;"><!--这里应该有一个拾色器--><span exlg="bg-xncolorpicker"></span></div><div class="exlg-regbadge-bg-box" mode="image" style="display: none;">这里先摆了。</div></div></div><div class="exlg-unselectable exlg-badge-page" style="text-align: left;"><span class="exlg-regbadge-fronttitle">预览</span><span class="feed-username"><span class="user-name"><a><span style="font-weight: bold; color: LG_USER_COLOR">LG_USER_NAME</span></a><span data-v-499508d0="" class="ccf-badge" data-v-f9624136=""><a data-v-303bbf52="" href="/discuss/show/142324" target="_blank" colorscheme="none" class="color-none"><svg data-v-303bbf52="" aria-hidden="true" focusable="false" data-prefix="fad" data-icon="badge-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-badge-check fa-w-16"><g data-v-303bbf52="" class="fa-group"><path data-v-303bbf52="" fill="currentColor" d="M512 256a88 88 0 0 0-57.1-82.4A88 88 0 0 0 338.4 57.1a88 88 0 0 0-164.8 0A88 88 0 0 0 57.1 173.6a88 88 0 0 0 0 164.8 88 88 0 0 0 116.5 116.5 88 88 0 0 0 164.8 0 88 88 0 0 0 116.5-116.5A88 88 0 0 0 512 256zm-144.8-44.25l-131 130a11 11 0 0 1-15.55-.06l-75.72-76.33a11 11 0 0 1 .06-15.56L171 224a11 11 0 0 1 15.56.06l42.15 42.49 97.2-96.42a11 11 0 0 1 15.55.06l25.82 26a11 11 0 0 1-.08 15.56z" class="fa-secondary"></path><path data-v-303bbf52="" fill="currentColor" d="M367.2 211.75l-131 130a11 11 0 0 1-15.55-.06l-75.72-76.33a11 11 0 0 1 .06-15.56L171 224a11 11 0 0 1 15.56.06l42.15 42.49 97.2-96.42a11 11 0 0 1 15.55.06l25.82 26a11 11 0 0 1-.06 15.56z" class="fa-primary"></path></g></svg></a></span></span><span tag-preview></span></span><span badge-preview></span></div><div class="exlg-unselectable exlg-badge-page" style="text-align: left;"></div><!--<select id="regbadge-type-select" type="select" style="padding: .1em;padding-right: 20px;width: auto;display: inline;"><option value="default">default</option></select>-->';var C1='#regbadge-preview .exlg-badge-preview{border:none}#regbadge-preview input{border:none;background:0 0;outline:0}textarea.exlg-regbadge-configinput,.exlg-regbadge-box input:not([disabled]),input[exlg-regbadge]{padding:.5em;line-height:1.2;color:#555;outline:0;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:0;-webkit-appearance:none;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}textarea.exlg-regbadge-configinput:hover{background-color:#fefffe;border-color:#3bb4f2;outline:0;-webkit-box-shadow:inset 0 1px 1px rgb(0 0 0 / 8%),0 0 5px rgb(59 180 242 / 30%);box-shadow:inset 0 1px 1px #00000014,0 0 5px #3bb4f24d}input[exlg-regbadge]:hover{background-color:#fefffe;border-color:#3bb4f2}input[exlg-regbadge]:focus{background-color:#fefffe;border-color:#3bb4f2;outline:0;-webkit-box-shadow:inset 0 1px 1px rgb(0 0 0 / 8%),0 0 5px rgb(59 180 242 / 30%);box-shadow:inset 0 1px 1px #00000014,0 0 5px #3bb4f24d}.exlg-regbadge-box input:not([disabled]):hover{background-color:#fefffe;border-color:#3bb4f2}.exlg-regbadge-box input:not([disabled]):focus{background-color:#fefffe;border-color:#3bb4f2;outline:0;-webkit-box-shadow:inset 0 1px 1px rgb(0 0 0 / 8%),0 0 5px rgb(59 180 242 / 30%);box-shadow:inset 0 1px 1px #00000014,0 0 5px #3bb4f24d}#regbadge-preview-id{font-family:apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Noto Sans CJK SC,Noto Sans CJK,Source Han Sans,PingFang SC,Microsoft YaHei,sans-serif}#preview-lg-badge>.lg3-badge{text-align:center;box-sizing:border-box;display:inline-block;min-width:10px;padding:.25em .625em;font-size:1.2rem;font-weight:700;color:#fff;line-height:1;vertical-align:baseline;white-space:nowrap;border-radius:2px}#preview-lg-badge>.lg4-badge{color:#fff;display:inline-block;padding:0 8px;box-sizing:border-box;font-weight:400;line-height:1.5;border-radius:2px;margin-left:.2em;font-size:.875em}.exlg-badge-page .exlg-regbadge-box{width:50%;float:left;display:inline}.exlg-badge-page .exlg-regbadge-fronttitle{height:1.5em;float:left;padding:.1em;width:5em}.exlg-badge-page button[exlg]{color:#666;min-width:75px;cursor:pointer;background:rgba(255,255,255,.2);padding:3px 10px;border:1px solid #ddd;border-radius:3px}select[exlg-badge-register]{background:url("data:image/svg+xml;charset=UTF-8, %3Csvg%20style=%22fill:%20rgb(108,%20117,%20125);%22%20width=%2210%22%20height=%2210%22%20viewBox=%220%200%209%209%22%20fill=%22rgb(108,%20117,%20125)%22%20xmlns=%22http://www.w3.org/2000/svg%22%20class=%22link-icon--right%22%3E%3Cpath%20fill-rule=%22evenodd%22%20clip-rule=%22evenodd%22%20d=%22M7.50588%203.40623C7.40825%203.3086%207.24996%203.3086%207.15232%203.40623L4.41244%206.14612L1.67255%203.40623C1.57491%203.3086%201.41662%203.3086%201.31899%203.40623C1.22136%203.50386%201.22136%203.66215%201.31899%203.75978L4.11781%206.5586C4.28053%206.72132%204.54434%206.72132%204.70706%206.5586L7.50588%203.75978C7.60351%203.66215%207.60351%203.50386%207.50588%203.40623Z%22%20fill=%22rgb(108,%20117,%20125)%22%3E%3C/path%3E%3Cpath%20d=%22M7.15232%203.40623L7.50588%203.75978L7.50588%203.75978L7.15232%203.40623ZM7.50588%203.40623L7.15232%203.75978L7.15233%203.75978L7.50588%203.40623ZM4.41244%206.14612L4.05888%206.49967C4.15265%206.59344%204.27983%206.64612%204.41244%206.64612C4.54504%206.64612%204.67222%206.59344%204.76599%206.49967L4.41244%206.14612ZM1.67255%203.40623L2.0261%203.05268L2.0261%203.05268L1.67255%203.40623ZM1.31899%203.40623L0.965439%203.05268L0.965439%203.05268L1.31899%203.40623ZM1.31899%203.75978L1.67255%203.40623V3.40623L1.31899%203.75978ZM4.11781%206.5586L3.76425%206.91215L4.11781%206.5586ZM4.70706%206.5586L4.35351%206.20505L4.70706%206.5586ZM7.50588%203.75978L7.15233%203.40623L7.15232%203.40623L7.50588%203.75978ZM7.50588%203.75978C7.40825%203.85742%207.24996%203.85742%207.15232%203.75978L7.85943%203.05268C7.56654%202.75978%207.09166%202.75978%206.79877%203.05268L7.50588%203.75978ZM4.76599%206.49967L7.50588%203.75978L6.79877%203.05268L4.05888%205.79257L4.76599%206.49967ZM1.31899%203.75978L4.05888%206.49967L4.76599%205.79257L2.0261%203.05268L1.31899%203.75978ZM1.67254%203.75979C1.57491%203.85742%201.41662%203.85742%201.31899%203.75979L2.0261%203.05268C1.73321%202.75978%201.25833%202.75978%200.965439%203.05268L1.67254%203.75979ZM1.67255%203.40623C1.77018%203.50386%201.77018%203.66215%201.67255%203.75978L0.965439%203.05268C0.672546%203.34557%200.672546%203.82044%200.965439%204.11334L1.67255%203.40623ZM4.47136%206.20505L1.67255%203.40623L0.965439%204.11334L3.76425%206.91215L4.47136%206.20505ZM4.35351%206.20505C4.38605%206.1725%204.43882%206.1725%204.47136%206.20505L3.76425%206.91215C4.12223%207.27013%204.70264%207.27013%205.06062%206.91215L4.35351%206.20505ZM7.15232%203.40623L4.35351%206.20505L5.06062%206.91215L7.85943%204.11334L7.15232%203.40623ZM7.15233%203.75978C7.05469%203.66215%207.05469%203.50386%207.15233%203.40623L7.85943%204.11334C8.15233%203.82045%208.15233%203.34557%207.85943%203.05268L7.15233%203.75978Z%22%20fill=%22rgb(108,%20117,%20125)%22%3E%3C/path%3E%3C/svg%3E") right no-repeat;background-size:auto}.exlg-badge-page div.exlg-regbadge-preset-list{border:1px solid #ccc;height:200px;overflow:overlay}.exlg-badge-page div.exlg-regbadge-preset-list>span{width:50%;display:inline-block}.exlg-badge-page div.exlg-regbadge-preset-list>span>span{text-align:center;margin:0 10px}.exlg-badge-page div.exlg-regbadge-preset-title{font-weight:700;margin:0 15px;font-size:large}.exlg-badge-page div.pickr{display:inline-block}';var as={"exlg-presets":{title:"exlg 预设",presetList:[{name:"exlg 经典",id:"exlg-default",config:"{}"},{name:"洛谷经典",id:"luogu-default",config:'{"bg":"${luogu-default}"}'},{name:"西红柿炒鸡蛋",id:"flandre-scarlet",config:'{"bg":"linear-gradient(90.0deg,rgb(254, 76, 97) 21.5%,rgba(255,213,79,1) 100.0%)"}'},{name:"⑨baka 联名",id:"cirno",config:"{}"},{name:"复古控制台",id:"console",config:"{}"},{name:"迈恩克拉夫特",id:"minecraft",config:"{}"},{name:"妈妈我紫了",id:"be-purple",config:"{}"},{name:"铃酱同款",id:"green-hook",config:`{"bg":"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0 PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSIjNWViOTVlIiBzdHlsZT0ibWFyZ2luLWJv dHRvbTogLTNweDsiPjxwYXRoIGQ9Ik0xNiA4QzE2IDYuODQzNzUgMTUuMjUgNS44NDM3NSAxNC4x ODc1IDUuNDM3NUMxNC42NTYyIDQuNDM3NSAxNC40Njg4IDMuMTg3NSAxMy42NTYyIDIuMzQzNzVD MTIuODEyNSAxLjUzMTI1IDExLjU2MjUgMS4zNDM3NSAxMC41NjI1IDEuODEyNUMxMC4xNTYyIDAu NzUgOS4xNTYyNSAwIDggMEM2LjgxMjUgMCA1LjgxMjUgMC43NSA1LjQwNjI1IDEuODEyNUM0LjQw NjI1IDEuMzQzNzUgMy4xNTYyNSAxLjUzMTI1IDIuMzQzNzUgMi4zNDM3NUMxLjUgMy4xODc1IDEu MzEyNSA0LjQzNzUgMS43ODEyNSA1LjQzNzVDMC43MTg3NSA1Ljg0Mzc1IDAgNi44NDM3NSAwIDhD MCA5LjE4NzUgMC43MTg3NSAxMC4xODc1IDEuNzgxMjUgMTAuNTkzOEMxLjMxMjUgMTEuNTkzOCAx LjUgMTIuODQzOCAyLjM0Mzc1IDEzLjY1NjJDMy4xNTYyNSAxNC41IDQuNDA2MjUgMTQuNjg3NSA1 LjQwNjI1IDE0LjIxODhDNS44MTI1IDE1LjI4MTIgNi44MTI1IDE2IDggMTZDOS4xNTYyNSAxNiAx MC4xNTYyIDE1LjI4MTIgMTAuNTYyNSAxNC4yMTg4QzExLjU5MzggMTQuNjg3NSAxMi44MTI1IDE0 LjUgMTMuNjU2MiAxMy42NTYyQzE0LjQ2ODggMTIuODQzOCAxNC42NTYyIDExLjU5MzggMTQuMTg3 NSAxMC41OTM4QzE1LjI1IDEwLjE4NzUgMTYgOS4xODc1IDE2IDhaTTExLjQ2ODggNi42MjVMNy4z NzUgMTAuNjg3NUM3LjIxODc1IDEwLjg0MzggNyAxMC44MTI1IDYuODc1IDEwLjY4NzVMNC41IDgu MzEyNUM0LjM3NSA4LjE4NzUgNC4zNzUgNy45Njg3NSA0LjUgNy44MTI1TDUuMzEyNSA3QzUuNDY4 NzUgNi44NzUgNS42ODc1IDYuODc1IDUuODEyNSA3LjAzMTI1TDcuMTI1IDguMzQzNzVMMTAuMTU2 MiA1LjM0Mzc1QzEwLjMxMjUgNS4xODc1IDEwLjUzMTIgNS4xODc1IDEwLjY1NjIgNS4zNDM3NUwx MS40Njg4IDYuMTU2MjVDMTEuNTkzOCA2LjI4MTI1IDExLjU5MzggNi41IDExLjQ2ODggNi42MjVa Ij48L3BhdGg+PC9zdmc+') 0px center / 16px no-repeat","fg":"rgba(0,0,0,0)"}`},{name:"AKIOI",id:"ak-ioi",config:"{}"},{name:"三 哼 经",id:"tadokoro-koji",config:"{}"}]}};var S1=".exlg-badge{border-radius:50px;padding:2px 10px;transition:all .15s;display:inline;min-width:10px;font-size:1em;font-weight:700;line-height:1;vertical-align:baseline;white-space:nowrap;cursor:pointer;margin-left:2px;margin-right:2px}";var xi={100250:"风神少女",196899:"可爱",89092:"",224978:"o2"},A9={"lg-fg-purple":"#8e44ad","lg-fg-red":"#e74c3c","lg-fg-orange":"#e67e22","lg-fg-green":"#5eb95e","lg-fg-bluelight":"#0e90d2","lg-fg-gray":"#bbb","lg-fg-brown":"#996600"},T9=t=>{let e=t.className.slice(t.className.indexOf("lg-fg-"));return e?e.slice(0,e.indexOf(" ")):t.childNodes.length?t.childNodes[0].style.color:null},Pl=(t,e,r,{bg:n,fg:i,text:o,ft:a,fw:s,bd:l,fs:u,pseudo:c},d=!0)=>{typeof t=="number"&&(t=String(t));let f=o?C(`<span class="exlg-badge" badge-uid="${t}" badge-type="${r}">${o}</span>`).css({background:(n||"mediumturquoise").replaceAll("${luogu-default}",e.includes("lg-fg-")?A9[e]:e),color:i||"#fff","font-family":a||"","font-weight":s||"700","font-size":u||"",border:l||""}):C("");return o&&d&&f.on("click",()=>ye.exlg.register_badge()),Object.keys(xi).includes(t)&&!c&&(c??=xi[t]),{pseudoTag:Object.keys(xi).includes(t)&&c?(r!=="luogu4"?C(`<span class="am-badge am-radius lg-bg-${e.slice(6)}">${c}</span>`):C(`<span class="lfe-caption" style="color: rgb(255, 255, 255); background: ${e};">${c}</span>`).css({display:"inline-block",padding:"0 8px","box-sizing":"border-box","font-weight":400,"line-height":1.5,"border-radius":"2px","margin-left":"0.2em"}))[0]:null,exlg:f[0]}},_1=[{pathTest:/^\/problem\/solution.*$/,domSelector:".card>.info-rows a[target='_blank']",type:{displayType:"luogu4",elementType:"solu",anceLevel:3}},{pathTest:/^\/problem\/.*$/,domSelector:".full-container .user a[target='_blank']",type:{displayType:"luogu4",elementType:"prob",anceLevel:0}},{pathTest:({pathname:t,hash:e})=>/^\/user\/[0-9]{0,}.*$/.test(t)&&e==="#activity",domSelector:".feed a[target='_blank']",type:{displayType:"luogu4",elementType:"user-feed",anceLevel:3}},{pathTest:({pathname:t,hash:e})=>/^\/user\/[0-9]{0,}.*$/.test(t)&&/^#following/.test(e),domSelector:".follow-container a[target='_blank']",type:{displayType:"luogu4",elementType:"user-follow",anceLevel:1}},{pathTest:()=>!0,domSelector:"a[target='_blank'][href^='/user/']",type:{displayType:"luogu3",elementType:"luogu3",anceLevel:0}}],E1=t=>!t.querySelectorAll("svg").length;J.reg_hook_new("sponsor-tag","badge 显示",["@/","@/paste","@/discuss/.*","@/problem/.*","@/ranking.*","@/user/\\d*.*"],{cache:{ty:"string",dft:"3600",info:["Cache time","缓存时间（秒）"]},badges:{ty:"string",priv:!0}},((t,e,r)=>async({msto:n,args:{domList:i,type:{displayType:o,elementType:a,anceLevel:s}}})=>{C.isEmptyObject(e)&&n.badges&&Object.assign(e,JSON.parse(n.badges));let l=Array.from(i).map(f=>{let h=f.attributes.href.value.slice(6);return!t.has(h)&&!(h in e&&Cr()-e[h].ts<=n.cache)?(t.add(h),h):null});l.length&&r.push((async()=>{Object.assign(e,Object.fromEntries(Object.entries(await Lr("https://exlg.piterator.com/badge/mget",{uid:pe.uid,token:Re["^token"].token,data:l}).data.data).map(([f,h])=>[f,Object.assign(h,{ts:Cr()})])))})()),await Promise.all(r),n.badges=JSON.stringify(e);let u=(f,h)=>{if(f==="luogu3"||!Object.keys(h).includes("lg4"))return h;let p=Object.clone(h);return delete p.lg4,Object.assign(Object.clone(h.lg4))},c=(f,h)=>{if(!h)return;let p=f.previousElementSibling;if(p){let m=p.tagName.toLowerCase()==="img"?p:p.childNodes.filter(b=>b.tagName.toLowerCase()==="img")[0];if(m)return m.getAttribute("src").replace(/[^0-9]/ig,"")}return c(f.parentNode,h-1)},d=(f,h)=>f?h?d(f.parentNode,h-1):f:null;i.forEach(f=>{let h=C(f);if(!h||h.hasClass("exlg-badge-username"))return;h.addClass("exlg-badge-username");let p=h.attr("href").slice(6);if(a==="prob"){let{provider:O}=_feInstance.currentData.problem;O.name===f.innerText.trim()&&(p=O.uid)}o==="luogu4"&&p==="ript:void 0"&&(p=c(f,5));let m=e[p];if(!m||!m.text&&!(Object.keys(xi).includes(p)&&m.pseudo))return;let[b,x,k]=[f,f.nextElementSibling,!1];x&&(x.classList?[...x.classList]:x.className.split(" ")).includes("sb_amazeui")&&(b=x),x=b.nextElementSibling,x&&(x.classList?[...x.classList]:x.className.split(" ")).includes("am-badge")&&([b,k]=[x,!0]);let D=Pl(p,o==="luogu4"?f.childNodes[0].style.color:T9(f),o,u(o,m)),z=d(b,3);if(z&&(z.classList?[...z.classList]:z.className.split(" ")).includes("card"))D.pseudoTag&&!k&&b.parentNode.appendChild(D.pseudoTag),b.parentNode.appendChild(D.exlg);else{let O=document.createElement("span");O.innerHTML="&nbsp;",z=d(b,s),z.after(D.exlg),s===0&&z.after(O),D.pseudoTag&&!k&&(z.after(D.pseudoTag),s===0&&z.after(O))}})})(new Set,{},[]),t=>{let e={args:null,result:!1};return _1.every(({pathTest:r,domSelector:n,type:i})=>(typeof r=="function"?r(location):r.test(location.pathname))?(e=(()=>{let o=Array.from(t.target.querySelectorAll(n)).filter(E1);return{args:{type:i,domList:o},result:Boolean(o?.length)}})(),0):1),e},()=>{let t={args:null,result:!1};return _1.every(({pathTest:e,domSelector:r,type:n})=>(typeof e=="function"?e(location):e.test(location.pathname))?(t=(()=>{let i=Array.from(document.querySelectorAll(r)).filter(E1);return{type:n,domList:i}})(),0):1),t},S1,"module");var Ot={},zt,V={},w0={Red:"rgb(254, 76, 97)",Orange:"rgb(243, 156, 17)",Green:"rgb(82, 196, 26)",Blue:"rgb(52, 152, 219)",Gray:"rgb(191, 191, 191)",Cheater:"rgb(173, 139, 0)",Purple:"rgb(157, 61, 207)"},F9=Qr.reg("register-badge","badge 注册",null,null,(t=null)=>{ye.getconf=()=>Ot;let e={bg:{css:"background",name:"背景",default:"mediumturquoise"},fg:{css:"color",name:"字色",default:"white"},bd:{css:"border",name:"边框",default:""},ft:{css:"font-family",name:"字体",default:""},fs:{css:"font-size",name:"字号",default:""},fw:{css:"font-weight",name:"字粗",default:"700"}},r=Object.keys(e),n=o=>{try{(0,eval)(o)}catch(a){return Dr("Fail to execute the action: ",a),!1}return!0};if(n(GM_getResourceText("colorpicker_temp_new"))||n(GM_getResourceText("colorpicker_old")))Me("起码至少有一个能用了");else{Me("废了废了"),Se("这个狗屎页面不能用取色器，错误信息自己看控制台输出<br/>点击确定回到主页。","exlg 提醒您",()=>location.href=location.origin);return}if(n(GM_getResourceText("pickr_resource")))Me("OK Well~");else{Me("废了废了"),Se("这个狗屎页面不能用取色器，错误信息自己看控制台输出<br/>点击确定回到主页。","exlg 提醒您",()=>location.href=location.origin);return}let i="exlg badge 注册器 ~ 奶奶的，还在测试，bug 巨他妈多";return Se(D1.replaceAll("LG_USER_NAME",pe.name).replaceAll("LG_USER_COLOR",w0[pe.color]),i,{onopen:o=>{V.boards={},["main","showError","getPreset","setbgColor"].forEach(u=>V.boards[u]=o.jsdom.content.querySelector(`div.exlg-regbadge-board[mode="${u}"]`)),V.errorMessage=V.boards.showError.querySelector(".error-message"),o.jsdom.content.querySelector("input[key='uid']").value=pe.uid,V.badgePreview=o.jsdom.content.querySelector("[badge-preview]"),V.pseudoPreview=o.jsdom.content.querySelector("[tag-preview]"),V.badgePresetList=o.jsdom.content.querySelector(".exlg-regbadge-preset-list"),V.pseudoInput=o.jsdom.content.querySelector("input[key='tagText']"),V.activeInput=o.jsdom.content.querySelector("input[key='active']"),V.badgeInput=o.jsdom.content.querySelector("input[key='badgeText']"),V.presetInput=o.jsdom.content.querySelector("input[act='preset-json']"),V.ccfBadge=o.jsdom.content.querySelector(".ccf-badge"),V.JSONerror=o.jsdom.content.querySelector(".exlg-regbadge-board > span"),V.JSONerror.style.display="none";let a=JSON.parse(Re["sponsor-tag"].badges)[pe.uid];typeof a>"u"?V.isactive=!1:(t===null?Ot=a:Ot=t,V.activeInput.value="已激活",V.activeInput.setAttribute("disabled","")),console.log(Ot),V.badgeInput.value=Ot.text??="",pe.uid in xi?(V.pseudoInput.parentNode.style.display="",V.pseudoInput.value=Ot.pseudo??=xi[pe.uid]):V.pseudoInput.parentNode.style.display="none";let s=(u=Ot)=>{let c={};Object.assign(c,u),c.pseudo=pe.badge??c.pseudo??xi[pe.uid];let d=Pl(pe.uid,w0[pe.color],"luogu4",c,!1);V.badgePreview.innerHTML="",V.badgePreview.append(d.exlg??"(内容为空则不显示)"),d.pseudoTag&&(V.pseudoPreview.innerHTML="",V.pseudoPreview.append(d.pseudoTag))};pe.ccfLevel<3?V.ccfBadge.style.cssText="display: none;":pe.ccfLevel<6?V.ccfBadge.style.cssText="--fa-primary-color:#fff; --fa-secondary-color:#52c41a; --fa-secondary-opacity:1;":pe.ccfLevel<8?V.ccfBadge.style.cssText="--fa-primary-color:#fff; --fa-secondary-color:#3498db; --fa-secondary-opacity:1;":V.ccfBadge.style.cssText="--fa-primary-color:#fff; --fa-secondary-color:#ffc116; --fa-secondary-opacity:1;",s(),V.setMode=function(u){this.mode=u,Object.keys(this.boards).forEach(c=>this.boards[c].style.display="none"),this.boards[u].style.display="",o.width=this.boards[u].getAttribute("wd")??"500px",o.minHeight=this.boards[u].getAttribute("mh")??"300px",u==="main"&&s()},V.showError=function(u){this.setMode("showError"),this.errorMessage.innerText=u},V.setMode("main");let l=null;V.presetInput.oninput=()=>{l&&(l.style.border="2px solid rgba(0, 0, 0, 0)");let u=null,c=!0;document.querySelector(".exlg-regbadge-board > span").style.display="none";try{if(u=JSON.parse(V.presetInput.value),typeof u!="object"||Array.isArray(u))throw new TypeError("JSON ConfigData are supposed to be an Object!")}catch(d){Dr(d),c=!1,document.querySelector(".exlg-regbadge-board > span").style.display=""}c&&s({text:Ot.text,pseudo:Ot.pseudo,...u})},o.jsdom.content.querySelector('button[act="toPreset"]').onclick=()=>{V.setMode("getPreset");let u={};r.forEach(c=>{u[c]=Ot[c]??""}),V.presetInput.value=JSON.stringify(u),V.presetInput.oninput()},r.forEach(u=>Ot[u]??=""),zt=new Proxy(Ot,{get(u,c,d){if(c==="pseudo")return u.pseudo;if(c==="text")return u.text;if(r.includes(c))return u[c]},set(u,c,d,f){try{if(c==="pseudo"||c==="text")return(c==="pseudo"?V.pseudoInput:V.badgeInput).value=d,Reflect.set(u,c,d);if(r.includes(c))return e[c].inputdom.value=d,Reflect.set(u,c,d);if(c==="configString")return V.assignData(JSON.parse(d)),!0}catch(h){Dr(h)}finally{s()}}}),V.assignData=u=>{if(console.log("assign: ",u),typeof u!="object"||Array.isArray(u))throw new TypeError("JSON ConfigData are supposed to be an Object!");r.forEach(c=>{zt[c]=u[c]??""})},V.pseudoInput.oninput=()=>zt.pseudo=V.pseudoInput.value,V.badgeInput.oninput=()=>zt.text=V.badgeInput.value,zt.pseudo,zt.text,r.forEach(u=>{let c=e[u],d=document.createElement("span");d.style.margin="5px";let f=document.createElement("span");f.className="exlg-regbadge-fronttitle",f.innerText=c.name;let h=document.createElement("input");if(h.setAttribute("keyId",u),h.setAttribute("exlg-badge-register",""),h.setAttribute("type","text"),h.setAttribute("placeholder",c.default),h.style.padding=".1em",h.value=Ot[u],d.append(f),d.append(h),o.jsdom.content.querySelector("#regbadge-settings").append(d),o.jsdom.content.querySelector("#regbadge-settings").append(document.createElement("br")),h.oninput=()=>{zt[u]=h.value},e[u].inputdom=h,u==="bg"){let p=document.createElement("button");p.innerHTML="+",d.append(p),p.onclick=()=>V.setMode("setbgColor")}if(u==="fg"){let p=document.createElement("span");p.classList.add("exlg-colpicker"),p.id=`exlg-pickr-${u}`;let m=document.createElement("style");m.innerHTML=GM_getResourceText("pickr_resource_css"),d.append(m),d.append(p);let b=Pickr.create({el:`#exlg-pickr-${u}`,theme:"nano",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!0,save:!0}}});e[u].isUserSave=!1,b.on("init",x=>{console.log('Event: "init"',x);let k=zt[u];b.setColor(V.pseudoPreview.lastElementChild.style[e[u].css]),zt[u]=k}).on("save",(x,k)=>{console.log('Event: "save"',x,k),x!==null&&(zt[u]=x.toHEXA().toString(),e[u].isUserSave=!0)}),e[u].cp=b,h.oninput=()=>{zt[u]=h.value,e[u].isUserSave||b.setColor(null),e[u].isUserSave=!1}}}),Object.keys(as).forEach(u=>{let c=document.createElement("div");c.innerHTML=as[u].title,c.className="exlg-regbadge-preset-title",V.badgePresetList.append(c),Object.keys(as[u].presetList).forEach((d,f)=>{let{name:h,config:p}=as[u].presetList[d],m=JSON.parse(p);console.log(h,p,m);let b=document.createElement("span");b.style.border="2px solid rgba(0, 0, 0, 0)",b.append(Pl(pe.uid,w0[pe.color],"luogu4",{text:"exlg",...m},!1).exlg);let x=document.createElement("span");x.append(h),b.append(x),b.onclick=()=>{V.presetInput.value=p,V.presetInput.oninput(),b.style.border="2px solid grey",l=b},V.badgePresetList.append(b),f&1&&V.badgePresetList.append(document.createElement("br"))})}),ye.regBadge=V,ye.configProxy=zt,V.bgModeSelect=o.jsdom.content.querySelector("#regbadge-setbgColor-type-select"),V.bgBoard={},V.bgModeSelect.childNodes.forEach(u=>{let c=u.value;!c||(V.bgBoard[c]=o.jsdom.content.querySelector(`.exlg-regbadge-bg-box[mode="${c}"]`),console.log(u,c,V.bgBoard[c]))}),V.bgModeSelect.onchange=function(){Object.keys(V.bgBoard).forEach(u=>{V.bgBoard[u].style.display="none"}),V.bgBoard[this.value].style.display=""},V.bgtextInput=V.bgBoard.text.querySelector("input"),V.bgtextInput.value=zt.bg,V.bgsingle=Pickr.create({el:'span[exlg="bg-single-pickr"]',theme:"nano",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!0,save:!0}}})},oncancel:()=>{switch(V.mode){case"success":case"main":return!0;default:return V.setMode("main"),!1}},onconfirm:async o=>{if(V.mode==="success")return location.reload(),!0;if(V.mode==="showError")return V.setMode("main"),!1;if(V.mode==="getPreset"){try{V.assignData(JSON.parse(V.presetInput.value))}catch(u){return o.title="[Err] 无效json",Dr(u),setTimeout(()=>o.title=i,1500),!1}return V.setMode("main"),!1}if(V.mode==="setbgColor"){switch(V.bgModeSelect.value){case"text":zt.bg=V.bgtextInput.value;break;case"lgdefault":zt.bg="${luogu-default}";break;case"single":console.log(V.bgsingle.getColor().toHEXA().toString()),zt.bg=V.bgsingle.getColor().toHEXA().toString();break;case"xncolorpicker":zt.bg=V.bgxnpicker.getColor();break}return V.setMode("main"),!1}if(!(u=>u?(o.title=u,setTimeout(()=>o.title=i,1500),!1):!0)((u=>{if(u.fs)if(/^\d{0,}(.\d{0,})?(px|em)$/.test(u.fs)&&!["px","em"].includes(u.fs)){let c=u.fs.slice(0,-2);if(u.fs.includes("px")&&c>16||u.fs.includes("em")&&c>1)return"[Err] 字号过大，应不超过 16px/1em"}else return"[Err] 字号应以 px/em 为单位且合法"})(Ot)))return!1;o.title="获取并验证令牌...",J.execute("token"),console.log(Ot);let a={uid:pe.uid,token:Re["^token"].token,data:Ot};V.isactive||(a.activation=V.activeInput.value),o.title="请求中...";let s=await Lr("https://exlg.piterator.com/badge/set",a).data;if("error"in s)return o.title="[Err] 失败",V.showError(s.error),!1;let l=JSON.parse(Re["sponsor-tag"].badges);return l[a.uid]=Ot,l[a.uid].ts=Cr(),Re["sponsor-tag"].badges=JSON.stringify(l),o.title="badge 激活成功",o.content="badge 激活成功！感谢您对 exlg 的<del>打钱</del>支持。",V.mode="success",!1}},{width:"800px",min_height:"400px"}),V},C1),jl=F9;var O9=Qr.reg("get-latest","获取最新版本",{fetch_preview:{ty:"boolean",dft:!1,info:["Update preview versions","预览版更新"]}},null,({msto:t})=>new Promise((e,r)=>{Yr({url:`https://api.github.com/repos/extend-luogu/extend-luogu/releases${t.fetch_preview?"?per_page=1":"/latest"}`,onload:n=>{let i=JSON.parse(n.responseText),o=(Array.isArray(i)?i[0]:i).tag_name,{version:a}=GM_info.script,s=yi(a,o),l=`Comparing version: ${a} ${s} ${o}`;Me(l),e([o,s])},onerror:n=>{Ft(n),r(n)}})})),ql=O9;var M1='#exlg-dash{margin-right:5px;position:relative;display:inline-block;padding:1px 10px 3px;color:#fff;border-radius:6px;box-shadow:0 0 7px #1e90ff;cursor:pointer}#exlg-dash>.exlg-warn{position:absolute;top:-.5em;right:-.5em}.exlg-icon:before{display:inline-block;width:1.3em;height:1.3em;margin-left:3px;text-align:center;border-radius:50%}.exlg-icon:hover:after{display:inline-block}.exlg-icon:after{display:none;content:attr(name);margin-left:5px;padding:0 3px;background-color:#fff;box-shadow:0 0 7px #00bfff;border-radius:7px}.exlg-icon.exlg-info:before{content:"i";color:#fff;background-color:#00bfff;font-style:italic}.exlg-icon.exlg-warn:before{content:"!";color:#fff;background-color:#e74c3c;font-style:normal}.exlg-unselectable{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}:root{--exlg-azure: #7bb8eb;--exlg-aqua: #03a2e8;--exlg-indigo: #3f48cb;--std-mediumturquoise: #48d1cc;--std-cornflowerblue: #6495ed;--std-dodgerblue: #1e90ff;--std-white: #fff;--std-black: #000;--lg-gray: #bbb;--lg-gray-2: #7f7f7f;--lg-gray-3: #6c757d;--lg-gray-4: #414345;--lg-gray-5: #333;--lg-gray-6: #000000bf;--lg-blue: #3498db;--lg-blue-button: #0e90d2;--lg-blue-dark: #34495e;--lg-blue-2: #7cb5ecbf;--lg-green: #5eb95e;--lg-green-dark: #054310c9;--lg-green-light: #5eb95e26;--lg-green-light-2: #c9e7c9;--lg-yellow: #f1c40f;--lg-orange: #e67e22;--lg-red: #e74c3c;--lg-red-light: #dd514c26;--lg-red-light-2: #f5cecd;--lg-red-button: #dd514c;--lg-purple: #8e44ad;--argon-indigo: #5e72e4;--argon-red: #f80031;--argon-red-button: #f5365c;--argon-green: #1aae6f;--argon-green-button: #2dce89;--argon-cyan: #03acca;--argon-yellow: #ff9d09;--lg-red-problem: #fe4c61;--lg-orange-problem: #f39c11;--lg-yellow-problem: #ffc116;--lg-green-problem: #52c41a;--lg-blue-problem: #3498db;--lg-purple-problem: #9d3dcf;--lg-black-problem: #0e1d69;--lg-gray-problem: #bfbfbf}.exlg-difficulty-color{font-weight:700}.exlg-difficulty-color.color-0{color:#bfbfbf!important}.exlg-difficulty-color.color-1{color:#fe4c61!important}.exlg-difficulty-color.color-2{color:#f39c11!important}.exlg-difficulty-color.color-3{color:#ffc116!important}.exlg-difficulty-color.color-4{color:#52c41a!important}.exlg-difficulty-color.color-5{color:#3498db!important}.exlg-difficulty-color.color-6{color:#9d3dcf!important}.exlg-difficulty-color.color-7{color:#0e1d69!important}#exlg-dash-wrapper:hover>.exlg-window{visibility:visible;opacity:1;transition-delay:unset}#exlg-dash-wrapper>.exlg-window{position:absolute;top:35px;left:0;z-index:148;visibility:hidden;opacity:0;width:340px;padding:15px;background:white;color:#000;border-radius:7px;box-shadow:#bbe3ff 0 0 7px;transition:.233s ease all}.exlg-window{position:absolute;top:35px;left:0;width:340px;padding:15px;z-index:6;background:white;color:#000;border-radius:7px;box-shadow:#bbe3ff 0 0 7px;transition:.233s ease all}.exlg-windiv-left-tag{height:2em;width:18%;margin-right:10px;display:inline-block;text-align:center}.exlg-windiv-btn{font-size:.9em;display:inline-block;flex:none;outline:0;cursor:pointer;color:#fff;font-weight:inherit;line-height:1.5;text-align:center;vertical-align:middle;background:0 0;border-radius:5px;border:1px solid;margin:4px}.dropdown>.center{padding:4px 1px 10px}';var A1="#exlg-dash{padding:3px 19px 4px;box-shadow:0 2px 5px #0009;font-family:Fira Code,Fira Mono,Consolas}#exlg-dash-window[class=exlg-window]{box-shadow:0 3px 8px #0009;font-family:Fira Code,Fira Mono,Consolas;padding:10px;width:400px!important;left:-175px!important;background:rgba(255,255,255,.6);backdrop-filter:blur(12px);margin-top:10px}#exlg-windiv,#exlg-dash-window>h2{padding:5px}#exlg-dash-window>h2 g{fill:#3f48cc}.exlg-windiv-btn{background-color:#3f48cc!important;border:none!important;padding:.313em 1em}.exlg-windiv-btn:hover{background-color:#607ee8!important;transition:background-color .25s}#link-div .exlg-windiv-btnspan:nth-child(2) svg{fill:#fff;padding-right:3px;height:16px;width:16px;line-height:1.5}";var v0='.ops>a.color-none{width:auto;display:flex;align-items:center;justify-content:space-between;padding:6px 14px;border-radius:8px;color:var(--text2);font-size:14px;cursor:pointer;transition:background-color .3s;margin:2px}.ops>a.color-none:hover{background-color:#e3e5e7;border-radius:8px}.ops>a.color-none>.link-title{display:flex;align-items:center}.ops>a.color-none>.link-title>svg{margin-right:8px;width:16px}.ops>a.color-none:after{transform:rotate(-90deg);content:url("data:image/svg+xml;charset=UTF-8, %3Csvg%20style=%22fill:%20rgb(108,%20117,%20125);%22%20width=%2210%22%20height=%2210%22%20viewBox=%220%200%209%209%22%20fill=%22rgb(108,%20117,%20125)%22%20xmlns=%22http://www.w3.org/2000/svg%22%20class=%22link-icon--right%22%3E%3Cpath%20fill-rule=%22evenodd%22%20clip-rule=%22evenodd%22%20d=%22M7.50588%203.40623C7.40825%203.3086%207.24996%203.3086%207.15232%203.40623L4.41244%206.14612L1.67255%203.40623C1.57491%203.3086%201.41662%203.3086%201.31899%203.40623C1.22136%203.50386%201.22136%203.66215%201.31899%203.75978L4.11781%206.5586C4.28053%206.72132%204.54434%206.72132%204.70706%206.5586L7.50588%203.75978C7.60351%203.66215%207.60351%203.50386%207.50588%203.40623Z%22%20fill=%22rgb(108,%20117,%20125)%22%3E%3C/path%3E%3Cpath%20d=%22M7.15232%203.40623L7.50588%203.75978L7.50588%203.75978L7.15232%203.40623ZM7.50588%203.40623L7.15232%203.75978L7.15233%203.75978L7.50588%203.40623ZM4.41244%206.14612L4.05888%206.49967C4.15265%206.59344%204.27983%206.64612%204.41244%206.64612C4.54504%206.64612%204.67222%206.59344%204.76599%206.49967L4.41244%206.14612ZM1.67255%203.40623L2.0261%203.05268L2.0261%203.05268L1.67255%203.40623ZM1.31899%203.40623L0.965439%203.05268L0.965439%203.05268L1.31899%203.40623ZM1.31899%203.75978L1.67255%203.40623V3.40623L1.31899%203.75978ZM4.11781%206.5586L3.76425%206.91215L4.11781%206.5586ZM4.70706%206.5586L4.35351%206.20505L4.70706%206.5586ZM7.50588%203.75978L7.15233%203.40623L7.15232%203.40623L7.50588%203.75978ZM7.50588%203.75978C7.40825%203.85742%207.24996%203.85742%207.15232%203.75978L7.85943%203.05268C7.56654%202.75978%207.09166%202.75978%206.79877%203.05268L7.50588%203.75978ZM4.76599%206.49967L7.50588%203.75978L6.79877%203.05268L4.05888%205.79257L4.76599%206.49967ZM1.31899%203.75978L4.05888%206.49967L4.76599%205.79257L2.0261%203.05268L1.31899%203.75978ZM1.67254%203.75979C1.57491%203.85742%201.41662%203.85742%201.31899%203.75979L2.0261%203.05268C1.73321%202.75978%201.25833%202.75978%200.965439%203.05268L1.67254%203.75979ZM1.67255%203.40623C1.77018%203.50386%201.77018%203.66215%201.67255%203.75978L0.965439%203.05268C0.672546%203.34557%200.672546%203.82044%200.965439%204.11334L1.67255%203.40623ZM4.47136%206.20505L1.67255%203.40623L0.965439%204.11334L3.76425%206.91215L4.47136%206.20505ZM4.35351%206.20505C4.38605%206.1725%204.43882%206.1725%204.47136%206.20505L3.76425%206.91215C4.12223%207.27013%204.70264%207.27013%205.06062%206.91215L4.35351%206.20505ZM7.15232%203.40623L4.35351%206.20505L5.06062%206.91215L7.85943%204.11334L7.15232%203.40623ZM7.15233%203.75978C7.05469%203.66215%207.05469%203.50386%207.15233%203.40623L7.85943%204.11334C8.15233%203.82045%208.15233%203.34557%207.85943%203.05268L7.15233%203.75978Z%22%20fill=%22rgb(108,%20117,%20125)%22%3E%3C/path%3E%3C/svg%3E")}.ops>a:hover{background-color:#e3e5e7;border-radius:1em}.wrapper.hover>.dropdown>.center{font-size:1.1em}.exlg-dropdown.field{display:inline-block;border-left:none;padding:0 .8em}.exlg-dropdown.field:hover{color:#00aeec!important}.exlg-dropdown.field:hover>.value{color:#00aeec!important}.exlg-dropdown.field:hover>.key{color:#00aeec!important}.exlg-dropdown.field>.value{display:block;text-align:center;line-height:1.5;font-weight:700;color:#6c757d;font-size:1.1em;transition:color .2s}.exlg-dropdown.field>.key{display:block;text-align:center;color:#9499a0;font-weight:400;font-size:.75em;transition:color .2s}.exlg-dropdown.field>.key-small{display:block;text-align:center;color:#9499a0;font-weight:400;font-size:.5em;transition:color .2s}.ops[data-v-78704ac9]{padding:.5em .9em}.header[data-v-78704ac9]{margin-bottom:-.6em}';J.reg_main("dash-board","控制面板",J.path_dash_board,{msg:{ty:"object",priv:!0,lvs:{queue:{ty:"array",itm:{ty:"object",lvs:{text:{ty:"string"},id:{ty:"number"}}}},last_id:{ty:"number",dft:0}}},lang:{ty:"enum",dft:"zh",vals:["zh","en"],info:["Language of descriptions in the dashboard","控制面板提示语言"]},load_speed:{ty:"number",dft:10,min:0,max:10,info:["Dash animation speed","dash 动画速度"]}},()=>{let t=(r,n=[])=>Object.entries(r).filter(([i,o])=>(n.length||i!=="on")&&!o.priv).flatMap(([i,o])=>o.ty==="object"?t(o.lvs,n.concat(i)):{name:n.concat(i),displayName:i.split("_").map(a=>a.toInitialCase()).join(" "),description:o.info,type:{number:"SLIDER",boolean:"CHECKBOX",string:"TEXTBOX",enum:"SELECTBOX"}[o.ty],...o.ty==="number"&&{minValue:o.min,maxValue:o.max,increment:o.step},...o.ty==="enum"&&{acceptableValues:o.vals}}),e=[..._r._].map(([r,{description:n,alias:i,icon:o,unclosable:a}])=>({name:r,description:n,icon:o,children:(r==="component"?[...Qr._]:[...J._].filter(([,s])=>s.cate===r)).map(([s,l])=>({rawName:i+s,name:s,description:l.info,unclosable:a,settings:t(Jt[i+s]?.lvs??{})}))}));console.log(e),ye.guiStart(e)});J.reg_hook_new("dash-bridge","控制桥","@/.*",{source:{ty:"enum",vals:["exlg","gh_index","debug"],dft:"exlg",info:["The website to open when clicking the exlg button","点击 exlg 按钮时打开的网页"]},beautify_dropdown:{ty:"boolean",dft:!0,info:["Beautify Dropdown","右上角用户信息卡美化"]},beautify_dash:{ty:"boolean",dft:!0,info:["Beautify Dash Board","控制桥面板美化"]},enable_rclick:{ty:"boolean",dft:!0,info:["Use Right Click to change source","右键点击按钮换源"]},latest_ignore:{ty:"string",dft:"0.0.0"}},({msto:t,args:e})=>{["exlg","gh_index","debug"].indexOf(t.source)===-1&&(t.source="exlg");let{$tar:r}=e,n=()=>ye.exlg.dash=ye.open({exlg:"https://dash.exlg.cc/index.html",gh_index:"https://extend-luogu.github.io/exlg-setting-new/index.html",debug:"localhost:1634/index.html"}[t.source]);if(t.beautify_dropdown){GM_addStyle(v0);let l=(c,d,f=C(d))=>{f.addClass("exlg-dash-options"),d.innerHTML=`<div class="link-title">${d.innerHTML}</div>`};if(e.type===2){l(0,r[0],r);return}let u=(c,d)=>{c.children(".header").after(`<style>${v0}</style>`).after(`
                <div style="margin-top: 0.4em;">
                    <a class="exlg-dropdown field" href="//www.luogu.com.cn/user/${pe.uid}#following.following">
                        <span class="value">${pe.followingCount}</span>
                        <span data-v-3c4577b8="" class="key">关注</span>
                    </a>
                    <a class="exlg-dropdown field" href="//www.luogu.com.cn/user/${pe.uid}#following.follower">
                        <span class="value">${pe.followerCount}</span>
                        <span data-v-3c4577b8="" class="key">粉丝</span>
                    </a>
                    <a class="exlg-dropdown field" href="//www.luogu.com.cn/user/notification">
                        <span class="value">${pe.unreadNoticeCount+pe.unreadMessageCount}</span>
                        <span data-v-3c4577b8="" class="key">动态</span>
                    </a>
                </div>
                `).after(`
                <div class="exlg-dropdown field">
                    <span data-v-3c4577b8="" class="key-small">CCF 评级: <strong>${pe.ccfLevel}</strong> | 咕值排行: <strong>${pe.ranking}</strong></span>
                </div>
                `),d.each(l);let f=C(d[5]).clone().attr("href","javascript:void 0");f.on("click",n),C(d[5]).after(f),f.children("div.link-title").html(`${w1} 插件设置`)};(r.hasClass("user-nav")||r.parent().hasClass("user-nav"))&&u(r.find(".dropdown > .center"),r.find(".ops > a"))}let i=C('<span id="exlg-dash-wrapper"></span>').prependTo(r),o=C('<span id="exlg-dash-window" class="exlg-window"></span>').css("left","-125px"),a=C('<div id="exlg-dash" exlg="exlg">exlg</div>').prependTo(i).css("backgroundColor",{exlg:"cornflowerblue",gh_index:"darkblue",debug:"steelblue"}[t.source]).css("margin-top",r.hasClass("nav-container")?"5px":"0px");if(t.enable_rclick?a.on("contextmenu",!1).on("mousedown",l=>{l.button?l.button===2&&(t.source={exlg:"gh_index",gh_index:"debug",debug:"exlg"}[t.source],a.css("backgroundColor",{exlg:"cornflowerblue",gh_index:"darkblue",debug:"steelblue"}[t.source])):n()}):a.on("click",n),!r.parent().hasClass("mobile-nav-container")){t.beautify_dash&&o.append(`<style>${A1}</style>`),o.appendTo(i),C(`<h2 align="center" style="margin-top: 5px;margin-bottom: 10px;">${Nl}</h2>`).appendTo(o);let l=C('<div id="exlg-windiv"></div>').appendTo(o);[{tag:"vers",title:"版本",buttons:[]},{tag:"source",title:"源码",buttons:[{html:"OSS",url:"https://exlg.oss-cn-shanghai.aliyuncs.com/latest/dist/extend-luogu.min.user.js"},{html:"JsDelivr",url:`https://fastly.jsdelivr.net/gh/extend-luogu/extend-luogu${Re["#get-latest"].fetch_preview?"@preview":""}/dist/extend-luogu.min.user.js`},{html:"Raw",url:`https://github.com/extend-luogu/extend-luogu/raw/${Re["#get-latest"].fetch_preview?"preview":"latest"}/dist/extend-luogu.min.user.js`}]},{tag:"link",title:"链接",buttons:[{html:"官网",url:"https://exlg.cc"},{col:"#666",html:`<a style="height: 8px;width: 8px;">${v1}</a>Github`,url:"https://github.com/extend-luogu/extend-luogu"},{html:"爱发电",url:"https://afdian.net/@extend-luogu"}]},{tag:"help",title:"帮助",buttons:[{html:"官方文档",url:"https://docs.exlg.cc"},{html:"用户协议",url:"https://docs.exlg.cc/POLICY.html"}]},{tag:"debug",title:"debug",buttons:[{html:"清除数据",title:"清空所有数据，无法恢复。",onclick:()=>{Se('你确定要这么做吗？<br/><strong style="color: red;">数据将不可恢复！</strong>',"exlg 警告！",()=>(GM_listValues().forEach(GM_deleteValue),location.reload(),!0))}},{html:"刷新 token",title:"多用于犇犇、badge 等服务不能正确运行时。",onclick:()=>{Se("点击确定以刷新用户 token。","exlg 提醒您",async()=>(await J.execute("token"),location.reload(),!0))}}]},{tag:"badge",title:"badge",buttons:[{html:"注册/修改",onclick:()=>jl()},{html:"刷新 badge",title:"多用于 badge 数据滞后时。",onclick:()=>{Se("点击确定以刷新 badge 数据。","exlg 提醒您",async()=>(Re["sponsor-tag"].badges="{}",location.reload(),!0))}}]}].forEach(c=>{let d=C(`<div id="${c.tag}-div"><span class="exlg-windiv-left-tag">${c.title}</span></div>`).appendTo(l),f=C("<span></span>").appendTo(d);if(c.buttons.forEach(h=>{let p=h.col??"#66ccff";C('<span class="exlg-windiv-btnspan"></span>').append(C(`<button class="exlg-windiv-btn"${h.title?` title="${h.title}"`:""}" style="background-color: ${p};border-color: ${p};">${h.html}</button>`).on("click",h.onclick??(()=>location.href=h.url))).appendTo(f)}),c.tag==="vers"){f.append(C(`<span id="version-text" style="min-width: 60%; margin-left: 5px;">
    <span title="当前版本">${GM_info.script.version}</span>
    <span id="vers-comp-operator" style="margin-left: 5px;"></span>
    <span id="latest-version" style="margin-left: 5px;"></span>
    <span id="annoyingthings"></span></span>"`));let h=C('<button class="exlg-windiv-btn" style="background-color: red;border-color: red;float: right;margin: 0 20px 0 0;">刷新</button>'),p=f.find("#vers-comp-operator"),m=f.find("#latest-version"),b=f.find("#annoyingthings"),x=async()=>{p.text(""),m.text(""),b.html("");let[k,D]=await ql();if(p.html(D).css("color",{"<<":"#fe4c61","==":"#52c41a",">>":"#3498db"}[D]),m.text(k).attr("title","最新版本"),b.html({"<<":'<i class="exlg-icon exlg-info" name="有新版本"></i>',">>":'<i class="exlg-icon exlg-info" name="内测中！"></i>'}[D]||"").children().css("cssText","position: absolute;display: inline-block;"),D==="<<"&&yi(t.latest_ignore,k)==="<<"){let z=C(`<span style="color: red;margin-left: 30px;">${k1}</span>`).on("click",()=>{t.latest_ignore=k,z.hide()}).appendTo(b)}D==="=="&&(t.latest_ignore=GM_info.script.version)};h.on("click",x).appendTo(f)}})}},t=>{let e=C(t.target);if(t.target.tagName.toLowerCase()==="a"&&e.hasClass("color-none")&&e.parent().hasClass("ops")&&!e.hasClass("exlg-dash-options"))return{result:2,args:{$tar:C(t.target),type:2}};let r=e.find(".user-nav, .nav-container");return r.length&&!r.find("#exlg-dash-window").length?{result:r.length,args:{$tar:r[0].tagName==="DIV"?C(r[0].firstChild):r,type:1}}:{result:0}},()=>({$tar:C("nav.user-nav, div.user-nav > nav, .nav-container"),type:0}),M1,"core");var T1=".am-btn-warning{border-color:#ffc116;background-color:#ffc116;color:#fff}.am-btn-warning:hover{border-color:#f37b1d;background-color:#f37b1d;color:#fff}.am-btn{outline:none}";J.reg("discussion-save","讨论保存",["@/discuss/\\d+(\\?page\\=\\d+)*$"],{auto_save_discussion:{ty:"boolean",dft:!1,strict:!0,info:["Discussion Auto Save","自动保存讨论"]}},({msto:t})=>{let e=C('<button class="am-btn am-btn-success am-btn-sm" name="save-discuss">保存讨论</button>');e.on("click",()=>{e.prop("disabled",!0),e.text("保存中..."),Yr({url:`https://lglg.top/save.php?url=${window.location.href}`,onload:n=>{n.status===200?n.response==="success"?(Me("Discuss saved"),e.text("保存成功"),setTimeout(()=>{e.text("保存讨论"),e.removeAttr("disabled")},1e3)):(Me(`Discuss unsuccessfully saved, return data: ${n.response}`),e.text("保存失败"),e.toggleClass("am-btn-success").toggleClass("am-btn-warning"),setTimeout(()=>{e.text("保存讨论"),e.removeAttr("disabled"),e.toggleClass("am-btn-success").toggleClass("am-btn-warning")},1e3)):(Me(`Fail to save discuss: ${n}`),e.toggleClass("am-btn-success").toggleClass("am-btn-danger"),setTimeout(()=>{e.text("保存讨论"),e.removeAttr("disabled"),e.toggleClass("am-btn-success").toggleClass("am-btn-danger")},1e3))},onerror:n=>{Me(`Error:${n}`),e.removeAttr("disabled")}})}).css("margin-top","5px");let r=C(`<a class="am-btn am-btn-warning am-btn-sm" name="save-discuss" href="https://lglg.top/show.php?url=${location.href}">查看备份</a>`).css("margin-top","5px");C("section.lg-summary").find("p").append(C("<br>")).append(e).append(C("<span>&nbsp;</span>")).append(r),t.auto_save_discussion&&e.click()},T1,"module");var F1=".mp-editor-ground.exlg-ext.exlg-show-emo.exlg-show-emo-long{top:8.25em!important}.mp-editor-ground.exlg-ext.exlg-show-emo.exlg-show-emo-short{top:4.75em!important}.mp-editor-menu>br~li{position:relative;display:inline-block;margin:0;padding:5px 1px}.mp-editor-menu.exlg-show-emo.exlg-show-emo-long{height:6em!important;overflow:auto;background-color:#fff}.mp-editor-menu.exlg-show-emo.exlg-show-emo-short{height:2.5em!important;overflow:auto;background-color:#fff}.exlg-emo-btn{position:relative;top:0;border:none;background-color:#eee;border-radius:.7em;margin:.1em;transition:all .4s;height:2em}.exlg-emo-btn:hover{background-color:#f3f3f3;top:-3px}.exlg-emo,.exlg-ext{transition:all .15s}";var to={EMO:1,TXT:2};J.reg("emoticon","表情输入",["@/paste","@/discuss/.*","@/"],{benben:{ty:"boolean",dft:!0,info:["Show in benben","犇犇表情"]},show:{ty:"boolean",dft:!0,info:["Show in default","是否默认显示表情栏"]},src:{ty:"enum",vals:["图.tk","啧.tk"],dft:"图.tk",info:["Emoticon Source","表情源"]},height_limit:{ty:"boolean",dft:!0,info:["Expand in default","是否默认展开表情"]}},({msto:t})=>{let e=["kk","jk","se","qq","xyx","xia","cy","ll","xk","qiao","qiang","ruo","mg","dx","youl","baojin","shq","lb","lh","qd","fad","dao","cd","kun","px","ts","kl","yiw","dk",{name:["sto"],slug:"gg",name_display:"sto",width:40},{name:["orz"],slug:"gh",name_display:"orz",width:40},{name:["qwq"],slug:"g5",name_display:"qwq",width:40},{name:["hqlm"],slug:"l0",name_display:"火前留名"},{name:["sqlm"],slug:"l1",name_display:"山前留名"},{name:["xbt"],slug:"g1",name_display:"屑标题"},{name:["iee","wee"],slug:"g2",name_display:"我谔谔"},{name:["kg"],slug:"g3",name_display:"烤咕"},{name:["gl"],slug:"g4",name_display:"盖楼"},{name:["wyy"],slug:"g6",name_display:"无意义"},{name:["wgzs"],slug:"g7",name_display:"违规紫衫"},{name:["tt"],slug:"g8",name_display:"贴贴"},{name:["jbl"],slug:"g9",name_display:"举报了"},{name:["%%%","mmm"],slug:"ga",name_display:"%%%"},{name:["ngrb"],slug:"gb",name_display:"你谷日爆"},{name:["qpzc","qp","zc"],slug:"gc",name_display:"前排资瓷"},{name:["cmzz"],slug:"gd",name_display:"臭名昭著"},{name:["zyx"],slug:"ge",name_display:"致远星"},{name:["zh"],slug:"gf",name_display:"祝好"}].filter(u=>t.src!=="啧.tk"||typeof u!="object").map((u,c)=>typeof u=="string"?{type:to.EMO,name:[u],slug:c>=10?String.fromCharCode(97+(c-10)):String.fromCharCode(48+c)}:{type:to.TXT,...u}),r=t.src==="啧.tk"?({name:u})=>`//${t.src}/${u[0]}`:({slug:u,type:c})=>`//${t.src}/${u+(c===to.TXT?"!25":"")}`;if(t.benben&&location.pathname==="/"){let u=C("#feed-content"),c=u[0];C("#feed-content").before("<div id='emo-lst'></div>"),e.forEach(d=>{let f=C(d.type===to.EMO?`<button class="exlg-emo-btn" exlg="exlg"><img src="${r(d)}" /></button>`:`<button class="exlg-emo-btn" exlg="exlg">${d.name_display}</button>`);f.on("click",()=>{let h=c.value,p=c.selectionStart,m=`${h.slice(0,p)}![](${r(d)})`;c.value=m+h.slice(c.selectionEnd),c.focus(),c.setSelectionRange(m.length,m.length)}).appendTo("#emo-lst"),d.width?f.css("width",`${d.width}px`):d.type===to.EMO?f.css("width","40px"):f.css("width","83px")}),C("#feed-content").before("<br>")}let n=C(".mp-editor-menu"),i=C(".CodeMirror-wrap textarea");if(!n.length)return;let o=n.clone().addClass("exlg-emo").text("");n.after(o).append("<br />");let a=C(".mp-editor-ground").addClass("exlg-ext"),s=n.children().first().clone(!0).addClass("exlg-unselectable"),l=n.children().first().clone(!0).addClass("exlg-unselectable");n.children().last().before(s),n.children().last().before(l),s.children().attr("title","").text(t.show?"隐藏":"显示"),t.show&&(o.addClass("exlg-show-emo"),a.addClass("exlg-show-emo")),s.on("click",()=>{s.children()[0].innerHTML=["显示","隐藏"][["隐藏","显示"].indexOf(s.children()[0].innerHTML)],o.toggleClass("exlg-show-emo"),a.toggleClass("exlg-show-emo"),t.show=!t.show}),l.children().attr("title","").text(t.height_limit?"展开":"收起"),t.height_limit?(o.addClass("exlg-show-emo-short"),a.addClass("exlg-show-emo-short")):(o.addClass("exlg-show-emo-long"),a.addClass("exlg-show-emo-long")),l.on("click",()=>{l.children()[0].innerHTML=["收起","展开"][["展开","收起"].indexOf(l.children()[0].innerHTML)],o.toggleClass("exlg-show-emo-short").toggleClass("exlg-show-emo-long"),a.toggleClass("exlg-show-emo-short").toggleClass("exlg-show-emo-long"),t.height_limit=!t.height_limit}),e.forEach(u=>{let c=C(u.type===to.EMO?`<button class="exlg-emo-btn" exlg="exlg"><img src="${r(u)}" /></button>`:`<button class="exlg-emo-btn" exlg="exlg">${u.name_display}</button>`);c.on("click",()=>i.trigger("focus").val(`![](${r(u)})`).trigger("input")).appendTo(o),u.width?c.css("width",`${u.width}px`):u.type===to.EMO?c.css("width","40px"):c.css("width","83px")}),o.append("<div style='height: .35em'></div>")},F1,"module");var O1=".juan-rnkitm:nth-child(1)::marker{color:var(--lg-red);font-weight:900}.juan-rnkitm:nth-child(2)::marker{color:var(--lg-orange);font-weight:900}.juan-rnkitm:nth-child(3)::marker{color:var(--lg-yellow);font-weight:900}.juan-rnkitm>span{display:flex;flex-wrap:wrap}.juan-rnkitm>span>span{margin-left:auto}";J.reg_v2({name:"juan-inspector",info:"卷王监视器",path:"@/",cate:"module"},{lastFetched:{ty:"string",dft:"[]",priv:!0}},t=>{t.hook({name:"login-hooker",info:"签到 Hook"},{},({gsto:e,args:r})=>{C(r).on("click",async()=>{let{users:n}=await C.get(`/api/user/followings?user=${pe.uid}`),{result:i,perPage:o}=n,a=[],s=n.count-o;for(let h=2;s>0;h++,s-=o)a.push((async()=>i.push(...(await C.get(`/api/user/followings?user=${pe.uid}&page=${h}`)).users.result))());await Promise.all(a);let l=new Map;i.forEach(({uid:h,name:p,passedProblemCount:m},b,x)=>{x[b]=[h,m],l.set(h,p)}),i.sort((h,p)=>h[0]-p[0]);let u=JSON.parse(e.lastFetched),c=[];e.lastFetched=JSON.stringify(i);let d=0,f=0;for(;d<i.length&&f<u.length;)i[d][0]===u[f][0]?(c.push([i[d][0],i[d][1]-u[f][1]]),d++,f++):i[d][0]>u[f][0]?f++:d++;c.sort((h,p)=>p[1]-h[1]),c.length&&Se(`<p>从上一次打卡到现在，关注用户中卷题量前三为：</p>
                <ol style="margin: 0 25% 0 15%;">
                    ${c.slice(0,3).map(([h,p])=>`<li class="juan-rnkitm"><span><a href="/user/${h}">${l.get(h)}</a><span>${p} 道</span></span></li>`).join("")}
                </ol>`)})},ts("a[title=hello]"))},O1);var z1="#exlg-cli{position:fixed;top:0;z-index:134;display:none;width:100%;height:40px;background-color:#fff;box-shadow:0 0 7px #1e90ff}#exlg-cli-input{display:block;height:100%;width:100%;border:none;outline:none;font-family:Fira Code,Fira Mono,consolas,Courier New;color:#000}#exlg-cli-input.error{background-color:#cd5c5c}";J.reg("keyboard-and-cli","键盘操作与命令行","@/.*",{lang:{ty:"enum",dft:"en",vals:["en","zh"]}},({msto:t})=>{let e=C('<div id="exlg-cli" exlg="exlg"></div>').appendTo(C("body")),r=C('<input id="exlg-cli-input" />').appendTo(e),n=!1,i=[],o=0,a=["en","zh"],s={".":["。"],",":["，"],"!":["！"],"?":["？"],cli:["命令行"],current:["当前"],language:["语言"],available:["可用"],command:["命令"],commands:["命令"],unknown:["未知"],forum:["板块"],target:["目标"],mod:["模块"],action:["操作"],illegal:["错误"],param:["参数"],expected:["期望"],type:["类型"],lost:["缺失"],essential:["必要"],user:["用户"]},l=a.indexOf(t.lang)||0,u=(m,...b)=>{n=!0;let x=m.map((k,D)=>k.split(/\b/).map(z=>s[z]?.[l-1]??z).join("")+(b[D]||"")).join("");return r.val(x)},c=(m,...b)=>Dr(u(m,...b).addClass("error").val()),d=()=>(n=!1,r.val("").removeClass("error")),f=(m,b,x,k)=>(b=b.replace(/ /g,"").split(",").map(D=>{let z={};return D[0]==="["?(z.essential=!1,D=D.slice(1,-1)):z.essential=!0,[z.name,z.type]=D.split(":"),z}),{name:m,arg:b,help:x,fn:k}),h=[f("help","[cmd: string]",["get the help of <cmd>. or list all cmds.","获取 <cmd> 的帮助。空则列出所有"],m=>{if(!m)u`exlg cli. current language: ${l}, available commands: ${Object.keys(h).join(", ")}`;else{let b=h[m];if(!b)return c`help: unknown command "${m}"`;let x=b.arg.map(k=>{let D=`${k.name}: ${k.type}`;return k.essential?`<${D}>`:`[${D}]`}).join(" ");u`${m} ${x} ${b.help[l]}`}}),f("cd","path: string",["jump to <path>, relative path is OK.","跳转至 <path>，支持相对路径。"],m=>{let b;if(m[0]==="/")b=m;else{let x=location.pathname.replace(/^\/+/,"").split("/");m.split("/").forEach(D=>{D!=="."&&(D===".."?x.pop():x.push(D))}),b=x.join("/")}location.href=`${location.origin}/${b.replace(/^\/+/,"")}`}),f("cdd","forum: string",["jump to the forum named <forum> of discussion. use all the names you can think of.","跳转至名为 <forum> 的讨论板块，你能想到的名字基本都有用。"],m=>{let b=[["relevantaffairs","gs","gsq","灌水","灌水区","r","ra"],["academics","xs","xsb","学术","学术版","a","ac"],["siteaffairs","zw","zwb","站务","站务版","s","sa"],["problem","tm","tmzb","题目","题目总版","p"],["service","fk","fksqgd","反馈","反馈、申请、工单专版","se"]];if(m=b.find(x=>x.includes(m))?.[0],!b)return c`cdd: unknown forum "${m}"`;location.href=`https://www.luogu.com.cn/discuss/lists?forumname=${m}`}),f("cc","[name: char]",['jump to <name>, "h|p|c|r|d|i|m|n" stands for home|problem|contest|record|discuss|I myself|message|notification. or jump home.','跳转至 [name]，"h|p|c|r|d|i|m|n" 代表：主页 | 题目 | 比赛 | 评测记录 | 讨论 | 个人中心 | 私信 | 通知。空则跳转主页。'],m=>{m=m||"h";let b={h:"/",p:"/problem/list",c:"/contest/list",r:"/record/list",d:"/discuss/lists",i:`/user/${pe.uid}`,m:"/chat",n:"/user/notification"}[m];b?h.cd.fn(b):c`cc: unknown target "${m}"`}),f("mod","action: string, [name: string]",['for <action> "enable|disable|toggle", opearte the mod named <name>.','当 <action> 为 "enable|disable|toggle"，对名为 <name> 的模块执行对应操作：启用 | 禁用 | 切换。'],(m,b)=>{switch(m){case"enable":case"disable":case"toggle":if(!J.has(b))return c`mod: unknown mod "${b}"`;Re[b].on={enable:()=>!0,disable:()=>!1,toggle:x=>!x}[m](Re[b].on);break;default:return c`mod: unknown action "${m}"`}}),f("lang","lang: string",['for <lang> "en|zh" switch current cli language.','当 <lang> 为 "en|zh"，切换当前语言。'],m=>{try{t.lang=m,l=a.indexOf(m)}catch{return c`lang: unknown language ${m}`}}),f("go","type: string, [extinfo: string]",["jumps to any corner of Luogu.","跳转到洛谷的任何一个角落。"],(m,b)=>{let x=0,k={h:["home","homepage"],p:["problem"],c:["contest"],r:["record","submission"],d:["discuss","forum"],i:["user"],m:["chat","message"],n:["notification"]},D={h:"/",p:"/problem/list",c:"/contest/list",r:"/record/list",d:"/discuss/lists",i:`/user/${pe.uid}`,m:"/chat",n:"/user/notification"},z=N=>R=>isNaN(+R)?(x=1,c`unable to parse integer "${R}"`):`/${N}/${+R}`,O={p(N){return N=N.toUpperCase(),Ho(N)?`/problem/${N}`:(x=1,c`unable to judge pid ${N}`)},c:z("contest"),r:z("record"),d(N){let X=[["relevantaffairs","gs","gsq","灌水","灌水区","r","ra"],["academics","xs","xsb","学术","学术版","a","ac"],["siteaffairs","zw","zwb","站务","站务版","s","sa"],["problem","tm","tmzb","题目","题目总版","p"],["service","fk","fksqgd","反馈","反馈、申请、工单专版","se"]].find(K=>K.includes(N))?.[0];return X?`/discuss/lists?forumname=${X}`:z("discuss")},i:z("user")},E="",T=m;for(let[N,R]of Object.entries(k))if(R.includes(m)){T=N;break}if(b){if(!(T in O))return c`category ${m} has no arguments`;E=O[T](b)}else E=D[T];x||(location.href=E)}),f("uid","uid: integer",["jumps to homepage of user whose uid is <uid>.","跳转至 uid 为 <uid> 的用户主页。"],m=>location.href=`/user/${m}`),f("un","name: string",["jumps to homepage of user whose username is like <name>.","跳转至用户名与 <name> 类似的用户主页。"],m=>{C.get(`/api/user/search?keyword=${m}`,b=>{b.users[0]?location.href=`/user/${b.users[0].uid}`:c`un: unknown user "${m}".`})})].reduce((m,b)=>(m[b.name]=b,m),{}),p=m=>{Me(`Parsing command: "${m}"`);let b=m.trim().replace(/^\//,"").split(" "),x=b.shift();if(!x)return;let k=h[x];if(!k)return c`exlg: unknown command "${x}"`;let D=-1,z;for([D,z]of b.entries()){let O=k.arg[D].type;if((O==="number"||O==="integer")&&(b[D]=+z),!(O==="char"&&z.length===1||O==="number"&&!isNaN(b[D])||O==="integer"&&!isNaN(b[D])&&!(b[D]%1)||O==="string"))return c`${x}: illegal param "${z}", expected type ${O}.`}if(k.arg[D+1]?.essential)return c`${x}: lost essential param "${k.arg[D+1].name}"`;k.fn(...b)};r.on("keydown",m=>{switch(m.key){case"Enter":if(n)return d();let b=r.val();if(i.push(b),o=i.length,p(b),!n)return d();break;case"/":n&&d();break;case"Escape":e.hide();break;case"ArrowUp":case"ArrowDown":let x=o+{ArrowUp:-1,ArrowDown:1}[m.key];if(x<0||x>=i.length)return;o=x,r.val(i[x]);break}}),C(ye).on("keydown",m=>{let b=C(document.activeElement);if(b.is("body")){let x={ArrowLeft:"prev",ArrowRight:"next"}[m.key];if(x)return C(`a[rel=${x}]`)[0].click();if(m.shiftKey){let k={ArrowUp:0,ArrowDown:1e6}[m.key];k!==void 0&&ye.scrollTo(0,k)}m.key==="/"&&(e.show(),d().trigger("focus"))}else b.is("[name=captcha]")&&m.key==="Enter"&&C("#submitpost, #submit-reply")[0].click()})},z1,"module");var N1=".exlg-high-risk{color:#dd514c}.exlg-med-risk{color:#ff5722}.exlg-low-risk{color:#8c8c8c}";J.reg("malicious-code-identifier","有害代码检查器",["@/discuss/\\d+(\\?page\\=\\d+)*$"],{strength:{ty:"number",dft:3,min:1,max:5,step:1,info:["Strength","强度"],strict:!0}},({msto:t})=>{let e=C("code").text().toLowerCase(),r=t.strength,n=[],i=e.match("system")&&!(e.match("System.out")||e.match("import java"));r>=1&&(i&&e.match("net user")&&n.push("高危 操作用户"),i&&e.match("shutdown")&&n.push("高危 关机"),i&&e.match("socksorkstation")&&n.push("高危 锁定桌面"),i&&e.match("reg add")&&n.push("高危 注册进程")),r>=2&&(i&&e.match("taskkill")&&n.push("危险 关闭进程"),i&&e.match("setcursorpos")&&n.push("危险 修改光标")),r>=3&&(e.match("windows.h")&&n.push("可疑 引用 windows.h"),i&&(n.push("可疑 调用系统函数"),i=!0),i&&(e.match("encode")||e.match("decode"))&&n.push("高危 存在加密字符串")),n.length!==0&&Se(n.join("</br>").replaceAll("高危",'<a class = "exlg-high-risk">[高危]</a>').replaceAll("危险",'<a class = "exlg-med-risk">[危险]</a>').replaceAll("可疑",'<a class = "exlg-low-risk">[可疑]</a>'),"发现有害代码")},N1,"module");var I1="#exlg-messages-outter{z-index:129;position:fixed;right:1em;bottom:96px;border-radius:.6em;padding:6px;width:calc(18em + 12px);overflow:hidden}#exlg-messages-container{position:relative;width:100%;height:100%}.exlg-message-outter{background-color:#faf9fa;border-radius:.6em;width:18em;height:6em;box-shadow:0 0 6px #e1e1e2;position:relative;margin:.4em 0}.exlg-message-inner{width:100%;height:100%}.exlg-message-avatar{position:absolute;top:.8em;left:.8em;border-radius:100%;width:3.4em;height:3.4em}.exlg-message-username{position:absolute;top:.4em;left:4.7em;width:10.5em;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.exlg-message-content{position:absolute;top:2em;left:4.7em;width:12em;line-height:1;word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.exlg-message-type{position:absolute;top:5.45em;left:1.1em;font-size:.8em;color:#bbbabb}.exlg-message-close{position:absolute;top:.4em;right:.4em;width:1.2em;height:1.2em;border-radius:100%;text-align:center;background-color:#f1f0f1;box-sizing:border-box;transition:ease-in-out background-color .1s;cursor:pointer}.exlg-message-close:hover{background-color:#e3e2e3}.exlg-message-close>svg{position:relative;top:40%;transform:translateY(-50%)}.exlg-message-show{display:block;color:#000;text-decoration:none;position:absolute;top:5.2em;right:.5em;font-size:.8em;padding-top:.1em;width:5em;height:1.7em;border-radius:.3em;text-align:center;background-color:#f1f0f1;box-sizing:border-box;transition:ease-in-out background-color .1s}.exlg-message-show:hover{background-color:#e3e2e3;color:#000}.exlg-message-show:visited{color:#000}";J.reg("messages","新消息提醒",["@/.*"],{message_tab_disappear_time:{ty:"number",dft:30,min:0,max:60,info:["The Time before message tab disappear (second)","信息自动消失时间（秒）"],strict:!0}},t=>{if(window.location.href.search("/chat")!==-1)return;let e=C("body").append('<div id="exlg-messages-outter"><div id="exlg-messages-container"></div></div>').find("#exlg-messages-container");function r(i){let o=C(`
        <div class="exlg-message-outter" id="exlg-message-${i.id}">
            <div class="exlg-message-inner">
                <a href="https://www.luogu.com.cn/user/${i.sender.uid}" target="_blank">
                    <img class="exlg-message-avatar" src="https://cdn.luogu.com.cn/upload/usericon/${i.sender.uid}.png">
                </a>
                <div class="exlg-message-username" id="exlg-message-username-${i.id}"></div>
                <div class="exlg-message-content" id="exlg-message-content-${i.id}"></div>
                <div class="exlg-message-type">私信</div>
            </div>
            <div class="exlg-message-close" msg-id="${i.id}" id="exlg-message-close-${i.id}">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
            </div>
            <a class="exlg-message-show" id="exlg-message-show-${i.id}" href="https://www.luogu.com.cn/chat" target="_blank">查看</a>
        </div>`);e.append(o).on("click",`#exlg-message-close-${i.id}, #exlg-message-show-${i.id}`,()=>{o.remove()}),C(`#exlg-message-username-${i.id}`).text(i.sender.name),C(`#exlg-message-content-${i.id}`).text(i.content),t.msto.message_tab_disappear_time!==0&&window.setTimeout(()=>{o.remove()},t.msto.message_tab_disappear_time*1e3)}r1("exlg-message",i=>{let o=new WebSocket("wss://ws.luogu.com.cn/ws");o.onopen=()=>o.send(JSON.stringify({type:"join_channel",channel:"chat",channel_param:String(pe.uid),exclusive_key:null})),o.onmessage=a=>{i.postMessage(a.data);let s=JSON.parse(a.data);s._ws_type==="server_broadcast"&&s.message instanceof Object&&s.message.sender.uid!==pe.uid&&r(s.message)}},i=>{let o=JSON.parse(i);o._ws_type==="server_broadcast"&&o.message instanceof Object&&o.message.sender.uid!==pe.uid&&r(o.message)});let n=i=>{let o=new BroadcastChannel(i);o.onmessage=a=>{Me(i,": ",a.data)}};n("exlg-message-ctrl"),n("exlg-message-data")},I1,"module");var q9=(t,e)=>typeof e=="function"?"[Function]":e,ss=t=>JSON.stringify(t,q9),L1=t=>new Error(`Doc type error, unsupported type: ${ss(t)}`),B1=t=>new Error(`Context "${t}" not found, do you forget to inject it?`),$1=()=>new Error("Timer not found, do you forget to record it?"),R1=()=>new Error("Should not call a context out of the plugin."),P1=(...t)=>{let e=t.reduce((r,n)=>{if(!n)return r;let i=o=>Array.isArray(o)?o.map(a=>i(a)).join(", "):o.toJSON?ss(o.toJSON()):o.spec?ss(o.spec):o.toString();return`${r}, ${i(n)}`},"Create prosemirror node from remark failed in parser");return new Error(e)},k0=()=>new Error("Stack over flow, cannot pop on an empty stack."),j1=t=>new Error(`Cannot match target parser for node: ${ss(t)}.`),q1=t=>new Error(`Cannot match target serializer for node: ${ss(t)}.`);var H1=()=>new Error("You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),D0=()=>new Error("It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`.");var H9=Object.defineProperty,V1=Object.getOwnPropertySymbols,V9=Object.prototype.hasOwnProperty,W9=Object.prototype.propertyIsEnumerable,W1=(t,e,r)=>e in t?H9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U9=(t,e)=>{for(var r in e||(e={}))V9.call(e,r)&&W1(t,r,e[r]);if(V1)for(var r of V1(e))W9.call(e,r)&&W1(t,r,e[r]);return t},U1=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Gl=(t,e,r)=>(U1(t,e,"read from private field"),r?r.call(t):e.get(t)),Kl=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Jl=(t,e,r,n)=>(U1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Hl,Vl,Wl,Ul,ls=()=>{let t=new Map;return{getSlice:r=>{let n=typeof r=="string"?[...t.values()].find(i=>i.name===r):t.get(r.id);if(!n){let i=typeof r=="string"?r:r.sliceName;throw B1(i)}return n},sliceMap:t}},G9=t=>Array.isArray(t)?[...t]:typeof t=="object"?U9({},t):t,Te=(t,e)=>{let r=Symbol("Context"),n=(i,o=G9(t))=>{let a=o,s={name:e,id:r,set:l=>{a=l},get:()=>a,update:l=>{a=l(a)}};return i.set(r,s),s};return n.sliceName=e,n.id=r,n._typeInfo=()=>{throw R1()},n},Zl=class{constructor(e,r){Kl(this,Hl,void 0),Kl(this,Vl,void 0),this.use=n=>Gl(this,Hl).getSlice(n),this.get=n=>this.use(n).get(),this.set=(n,i)=>this.use(n).set(i),this.update=(n,i)=>this.use(n).update(i),this.timing=n=>Gl(this,Vl).get(n),this.wait=n=>this.timing(n)(),this.done=n=>this.timing(n).done(),this.waitTimers=async n=>{await Promise.all(this.get(n).map(i=>this.wait(i)))},Jl(this,Hl,e),Jl(this,Vl,r)}};Hl=new WeakMap;Vl=new WeakMap;var Xl=class{constructor(e,r){Kl(this,Wl,void 0),Kl(this,Ul,void 0),this.inject=(n,i)=>(n(Gl(this,Wl).sliceMap,i),this),this.record=n=>(n(Gl(this,Ul).store),this),Jl(this,Wl,e),Jl(this,Ul,r)}};Wl=new WeakMap;Ul=new WeakMap;var G1=()=>{let t=new Map;return{store:t,get:r=>{let n=t.get(r.id);if(!n)throw $1();return n}}},Br=(t,e=3e3)=>{let r=Symbol("Timer"),n=i=>{let o=!1,a,s=Symbol(t),l=()=>o?Promise.resolve(void 0):new Promise((u,c)=>{a=d=>{d instanceof CustomEvent&&d.detail.id===s&&(o=!0,u())},setTimeout(()=>{c(`Timing ${t} timeout.`),removeEventListener(t,a)},e),addEventListener(t,a)});return l.done=()=>{let u=new CustomEvent(t,{detail:{id:s}});dispatchEvent(u),removeEventListener(t,a)},i.set(r,l),l};return n.id=r,n};function qt(t){this.content=t}qt.prototype={constructor:qt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),o=n.content.slice();return i==-1?o.push(r||t,e):(o[i+1]=e,r&&(o[i]=r)),new qt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new qt(r)},addToStart:function(t,e){return new qt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new qt(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),o=n.find(t);return i.splice(o==-1?i.length:o,0,e,r),new qt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=qt.from(t),t.size?new qt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=qt.from(t),t.size?new qt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=qt.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},get size(){return this.content.length>>1}};qt.from=function(t){if(t instanceof qt)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new qt(e)};var C0=qt;function eg(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){let a=eg(i.content,o.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function tg(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let a=t.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){r-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){let u=tg(a.content,s.content,r-1,n-1);if(u)return u}r-=l,n-=l}}var $=class{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,o){for(let a=0,s=0;s<r;a++){let l=this.content[a],u=s+l.nodeSize;if(u>e&&n(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,r-c),n,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let o="",a=!0;return this.nodesBetween(e,r,(s,l)=>{s.isText?(o+=s.text.slice(Math.max(e,l)-l,r-l),a=!n):s.isLeaf?(i?o+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),a=!n):!a&&s.isBlock&&(o+=n,a=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new $(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let o=0,a=0;a<r;o++){let s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>r)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=l}return new $(n,i)}cutByIndex(e,r){return e==r?$.empty:e==0&&r==this.content.length?this:new $(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new $(i,o)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return eg(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return tg(this,e,r,n)}findIndex(e,r=-1){if(e==0)return Yl(0,e);if(e==this.size)return Yl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let o=this.child(n),a=i+o.nodeSize;if(a>=e)return a==e||r>0?Yl(n+1,a):Yl(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return $.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let r,n=0;for(let i=0;i<e.length;i++){let o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(r||(r=e.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new $(r||e,n)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};$.empty=new $([],0);var S0={index:0,offset:0};function Yl(t,e){return S0.index=t,S0.offset=e,S0}function Ql(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Ql(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Ql(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}var Fe=class{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))r||(r=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ql(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);return n.create(r.attrs)}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Fe.none;if(e instanceof Fe)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};Fe.none=[];var wi=class extends Error{},G=class{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=ng(this.content,e+this.openStart,r);return n&&new G(n,this.openStart,this.openEnd)}removeBetween(e,r){return new G(rg(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return G.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G($.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new G(e,n,i)}};G.empty=new G($.empty,0,0);function rg(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:a,offset:s}=t.findIndex(r);if(i==e||o.isText){if(s!=r&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(rg(o.content,e-i-1,r-i-1)))}function ng(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let s=ng(a.content,e-o-1,r);return s&&t.replaceChild(i,a.copy(s))}function K9(t,e,r){if(r.openStart>t.depth)throw new wi("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new wi("Inconsistent open depths");return ig(t,e,r,0)}function ig(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let a=ig(t,e,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let a=t.parent,s=a.content;return no(a,s.cut(0,t.parentOffset).append(r.content).append(s.cut(e.parentOffset)))}else{let{start:a,end:s}=J9(r,t);return no(o,ag(t,a,s,e,n))}else return no(o,eu(t,e,n))}function og(t,e){if(!e.type.compatibleContent(t.type))throw new wi("Cannot join "+e.type.name+" onto "+t.type.name)}function A0(t,e,r){let n=t.node(r);return og(n,e.node(r)),n}function ro(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function us(t,e,r,n){let i=(e||t).node(r),o=0,a=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(ro(t.nodeAfter,n),o++));for(let s=o;s<a;s++)ro(i.child(s),n);e&&e.depth==r&&e.textOffset&&ro(e.nodeBefore,n)}function no(t,e){if(!t.type.validContent(e))throw new wi("Invalid content for node "+t.type.name);return t.copy(e)}function ag(t,e,r,n,i){let o=t.depth>i&&A0(t,e,i+1),a=n.depth>i&&A0(r,n,i+1),s=[];return us(null,t,i,s),o&&a&&e.index(i)==r.index(i)?(og(o,a),ro(no(o,ag(t,e,r,n,i+1)),s)):(o&&ro(no(o,eu(t,e,i+1)),s),us(e,r,i,s),a&&ro(no(a,eu(r,n,i+1)),s)),us(n,null,i,s),new $(s)}function eu(t,e,r){let n=[];if(us(null,t,r,n),t.depth>r){let i=A0(t,e,r+1);ro(no(i,eu(t,e,r+1)),n)}return us(e,null,r,n),new $(n)}function J9(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let o=r-1;o>=0;o--)i=e.node(o).copy($.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}var io=class{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<e;o++)i+=n.child(o).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Fe.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new ds(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let a=e;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(n.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new io(r,n,o)}static resolveCached(e,r){for(let i=0;i<_0.length;i++){let o=_0[i];if(o.pos==r&&o.doc==e)return o}let n=_0[E0]=io.resolve(e,r);return E0=(E0+1)%Z9,n}},_0=[],E0=0,Z9=12,ds=class{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},X9=Object.create(null),Zt=class{constructor(e,r,n,i=Fe.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||$.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Ql(this.attrs,r||e.defaultAttrs||X9)&&Fe.sameSet(this.marks,n||Fe.none)}copy(e=null){return e==this.content?this:new Zt(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Zt(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return G.empty;let i=this.resolve(e),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new G(u,i.depth-a,o.depth-a)}replace(e,r,n){return K9(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return io.resolveCached(this,e)}resolveNoCache(e){return io.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),sg(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=$.empty,i=0,o=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=Fe.none;for(let r=0;r<this.marks.length;r++)e=this.marks[r].addToSet(e);if(!Fe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=$.fromJSON(e,r.content);return e.nodeType(r.type).create(r.attrs,i,n)}};Zt.prototype.text=void 0;var Uo=class extends Zt{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):sg(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Uo(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Uo(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function sg(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}var Gn=class{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new T0(e,r);if(n.next==null)return Gn.empty;let i=lg(n);n.next&&n.err("Unexpected trailing text");let o=iv(nv(i));return ov(o,n),o}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(e,n);if(l&&(!r||l.validEnd))return $.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:d}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,s.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return o}).join(`
`)}};Gn.empty=new Gn(!0);var T0=class{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function lg(t){let e=[];do e.push(Y9(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Y9(t){let e=[];do e.push(Q9(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Q9(t){let e=rv(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ev(t,e);else break;return e}function K1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function ev(t,e){let r=K1(t),n=r;return t.eat(",")&&(t.next!="}"?n=K1(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function tv(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let o in r){let a=r[o];a.groups.indexOf(e)>-1&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function rv(t){if(t.eat("(")){let e=lg(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=tv(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nv(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(a,s,l){let u={term:l,to:s};return e[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=r())}else if(a.type=="star"){let l=r();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=r();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=r();n(l,c),i(o(a.expr,l),c),l=c}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function ug(t,e){return e-t}function J1(t,e){let r=[];return n(e),r.sort(ug);function n(i){let o=t[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&r.indexOf(l)==-1&&n(l)}}}function iv(t){let e=Object.create(null);return r(J1(t,0));function r(n){let i=[];n.forEach(a=>{t[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);J1(t,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[n.join(",")]=new Gn(n.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(ug);o.next.push({type:i[a][0],next:e[s.join(",")]||r(s)})}return o}}function ov(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(u)==-1&&n.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function cg(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function dg(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let o=t[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function fg(t){let e=Object.create(null);if(t)for(let r in t)e[r]=new F0(t[r]);return e}var Go=class{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=fg(n.attrs),this.defaultAttrs=cg(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Gn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:dg(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zt(this,this.computeAttrs(e),$.from(r),Fe.setFrom(n))}createChecked(e=null,r,n){if(r=$.from(r),!this.validContent(r))throw new RangeError("Invalid content for node "+this.name);return new Zt(this,this.computeAttrs(e),r,Fe.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=$.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore($.empty,!0);return o?new Zt(this,e,r.append(o),Fe.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Fe.none:e}static compile(e,r){let n=Object.create(null);e.forEach((o,a)=>n[o]=new Go(o,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}},F0=class{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}},oo=class{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=fg(i.attrs),this.excluded=null;let o=cg(this.attrs);this.instance=o?new Fe(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Fe(this,dg(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((o,a)=>n[o]=new oo(o,i++,r,a)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}excludes(e){return this.excluded.indexOf(e)>-1}},tu=class{constructor(e){this.cached=Object.create(null),this.spec={nodes:C0.from(e.nodes),marks:C0.from(e.marks||{}),topNode:e.topNode},this.nodes=Go.compile(this.spec.nodes,this),this.marks=oo.compile(this.spec.marks,this);let r=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let i=this.nodes[n],o=i.spec.content||"",a=i.spec.marks;i.contentMatch=r[o]||(r[o]=Gn.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=a=="_"?null:a?Z1(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let n in this.marks){let i=this.marks[n],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Z1(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Go){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new Uo(n,n.defaultAttrs,e,Fe.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Zt.fromJSON(this,e)}markFromJSON(e){return Fe.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}};function Z1(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t.marks[i],a=o;if(o)r.push(o);else for(let s in t.marks){let l=t.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}var Rr=class{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[],r.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let i=e.nodes[n.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new iu(this,r,!1);return n.addAll(e,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new iu(this,r,!0);return n.addAll(e,r.from,r.to),G.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(lv(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let r=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let s=r[a];if((s.priority==null?50:s.priority)<o)break}r.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=Y1(a)),a.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=Y1(a)),a.node=i})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Rr(e,Rr.schemaRules(e)))}},hg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},av={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pg={ol:!0,ul:!0},ru=1,nu=2,cs=4;function X1(t,e,r){return e!=null?(e?ru:0)|(e==="full"?nu:0):t&&t.whitespace=="pre"?ru|nu:r&~cs}var Wo=class{constructor(e,r,n,i,o,a,s){this.type=e,this.attrs=r,this.marks=n,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=Fe.none,this.stashMarks=[],this.match=a||(s&cs?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore($.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ru)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let r=$.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(e){for(let r=this.stashMarks.length-1;r>=0;r--)if(e.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(e){for(let r=0,n=this.pendingMarks;r<n.length;r++){let i=n[r];(this.type?this.type.allowsMarkType(i.type):cv(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!hg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},iu=class{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let i=r.topNode,o,a=X1(null,r.preserveWhitespace,0)|(n?cs:0);i?o=new Wo(i.type,i.attrs,Fe.none,Fe.none,!0,r.topMatch||i.type.contentMatch,a):n?o=new Wo(null,null,Fe.none,Fe.none,!0,null,a):o=new Wo(e.schema.topNodeType,null,Fe.none,Fe.none,!0,null,a),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let r=e.getAttribute("style"),n=r?this.readStyles(uv(r)):null,i=this.top;if(n!=null)for(let o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),n!=null)for(let o=0;o<n.length;o++)this.removePendingMark(n[o],i)}}addTextNode(e){let r=e.nodeValue,n=this.top;if(n.options&nu||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(n.options&ru)n.options&nu?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=n.content[n.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(e)}else this.findInside(e)}addElement(e,r){let n=e.nodeName.toLowerCase(),i;pg.hasOwnProperty(n)&&this.parser.normalizeLists&&sv(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,r));if(o?o.ignore:av.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,s=this.top,l=this.needsBlock;if(hg.hasOwnProperty(n))a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),a&&this.sync(s),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let r=Fe.none;e:for(let n=0;n<e.length;n+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[n],e[n+1],this,i);if(!o)continue e;if(o.ignore)return null;if(r=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(r),o.consuming===!1)i=o;else break}return r}addElementByRule(e,r,n){let i,o,a;r.node?(o=this.parser.schema.nodes[r.node],o.isLeaf?this.insertNode(o.create(r.attrs))||this.leafFallback(e):i=this.enter(o,r.attrs||null,r.preserveWhitespace)):(a=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(a));let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(s)&&this.open--,a&&this.removePendingMark(a,s)}addAll(e,r,n){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=n==null?null:e.childNodes[n];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let r,n;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,n=o,!a.length)||o.solid)break}if(!r)return!1;this.sync(n);for(let i=0;i<r.length;i++)this.enterInner(r[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(e)){this.closeExtra();let r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));let n=r.activeMarks;for(let i=0;i<e.marks.length;i++)(!r.type||r.type.allowsMarkType(e.marks[i].type))&&(n=e.marks[i].addToSet(n));return r.content.push(e.mark(n)),!0}return!1}enter(e,r,n){let i=this.findPlace(e.create(r));return i&&this.enterInner(e,r,!0,n),i}enterInner(e,r=null,n=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let a=X1(e,i,o.options);o.options&cs&&o.content.length==0&&(a|=cs),this.nodes.push(new Wo(e,r,o.activeMarks,o.pendingMarks,n,null,a)),this.open++}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let u=r[s];if(u==""){if(s==r.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let r=dv(e,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,r){for(let n=this.open;n>=0;n--){let i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let a=i.popFromStashMark(e);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==r)break}}};function sv(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&pg.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function lv(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function uv(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,r,n=[];for(;r=e.exec(t);)n.push(r[1],r[2].trim());return n}function Y1(t){let e={};for(let r in t)e[r]=t[r];return e}function cv(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}function dv(t,e){for(let r=0;r<e.length;r++)if(t.eq(e[r]))return e[r]}var $r=class{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=M0(r).createDocumentFragment());let i=n,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,r);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=$r.renderSpec(M0(r),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&$r.renderSpec(M0(n),i(e,r))}static renderSpec(e,r,n=null){if(typeof r=="string")return{dom:e.createTextNode(r)};if(r.nodeType!=null)return{dom:r};if(r.dom&&r.dom.nodeType!=null)return r;let i=r[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,s=n?e.createElementNS(n,i):e.createElement(i),l=r[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let d=c.indexOf(" ");d>0?s.setAttributeNS(c.slice(0,d),c.slice(d+1),l[c]):s.setAttribute(c,l[c])}}for(let c=u;c<r.length;c++){let d=r[c];if(d===0){if(c<r.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:f,contentDOM:h}=$r.renderSpec(e,d,n);if(s.appendChild(f),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:s,contentDOM:a}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new $r(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=Q1(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return Q1(e.marks)}};function Q1(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function M0(t){return t.document||window.document}var bg=65535,yg=Math.pow(2,16);function fv(t,e){return t+e*yg}function mg(t){return t&bg}function hv(t){return(t-(t&bg))/yg}var xg=1,wg=2,ou=4,vg=8,ps=class{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&vg)>0}get deletedBefore(){return(this.delInfo&(xg|ou))>0}get deletedAfter(){return(this.delInfo&(wg|ou))>0}get deletedAcross(){return(this.delInfo&ou)>0}},Xt=class{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Xt.empty)return Xt.empty}recover(e){let r=0,n=mg(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+hv(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+o],c=this.ranges[s+a],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:r:r,h=l+i+(f<0?0:c);if(n)return h;let p=e==(r<0?l:d)?null:fv(s/3,e-l),m=e==l?wg:e==d?xg:ou;return(r<0?e!=l:e!=d)&&(m|=vg),new ps(h,m,p)}i+=c-u}return n?e+i:new ps(e+i,0,null)}touches(e,r){let n=0,i=mg(r),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+o],c=l+u;if(e<=c&&s==i*3)return!0;n+=this.ranges[s+a]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+r],c=this.ranges[i+n];e(s,s+u,l,l+c),o+=c-u}}invert(){return new Xt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Xt.empty:new Xt(e<0?[0,-e,0]:[0,0,e])}};Xt.empty=new Xt([]);var Kn=class{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new Kn(this.maps,this.mirror,e,r)}copy(){return new Kn(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new Kn;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o],s=a.mapResult(e,r);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new ps(e,i,null)}},O0=Object.create(null),mn=class{getMap(){return Xt.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=O0[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in O0)throw new RangeError("Duplicate use of step JSON ID "+e);return O0[e]=r,r.prototype.jsonID=e,r}},Yt=class{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Yt(e,null)}static fail(e){return new Yt(null,e)}static fromReplace(e,r,n,i){try{return Yt.ok(e.replace(r,n,i))}catch(o){if(o instanceof wi)return Yt.fail(o.message);throw o}}};function B0(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(B0(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return $.fromArray(n)}var Pr=class extends mn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new G(B0(r.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return Yt.fromReplace(e,this.from,this.to,o)}invert(){return new jr(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Pr(r.pos,n.pos,this.mark)}merge(e){return e instanceof Pr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pr(r.from,r.to,e.markFromJSON(r.mark))}};mn.jsonID("addMark",Pr);var jr=class extends mn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new G(B0(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Yt.fromReplace(e,this.from,this.to,n)}invert(){return new Pr(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new jr(r.pos,n.pos,this.mark)}merge(e){return e instanceof jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new jr(r.from,r.to,e.markFromJSON(r.mark))}};mn.jsonID("removeMark",jr);var pt=class extends mn{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&I0(e,this.from,this.to)?Yt.fail("Structure replace would overwrite content"):Yt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Xt([this.from,this.to-this.from,this.slice.size])}invert(e){return new pt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new pt(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof pt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new pt(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new pt(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new pt(r.from,r.to,G.fromJSON(e,r.slice),!!r.structure)}};mn.jsonID("replace",pt);var dt=class extends mn{constructor(e,r,n,i,o,a,s=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(e){if(this.structure&&(I0(e,this.from,this.gapFrom)||I0(e,this.gapTo,this.to)))return Yt.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Yt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Yt.fromReplace(e,this.from,this.to,n):Yt.fail("Content does not fit in gap")}getMap(){return new Xt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new dt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new dt(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new dt(r.from,r.to,r.gapFrom,r.gapTo,G.fromJSON(e,r.slice),r.insert,!!r.structure)}};mn.jsonID("replaceAround",dt);function I0(t,e,r){let n=t.resolve(e),i=r-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function pv(t,e,r,n){let i=[],o=[],a,s;t.doc.nodesBetween(e,r,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&c.type.allowsMarkType(n.type)){let f=Math.max(u,e),h=Math.min(u+l.nodeSize,r),p=n.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(a&&a.to==f&&a.mark.eq(d[m])?a.to=h:i.push(a=new jr(f,h,d[m])));s&&s.to==f?s.to=h:o.push(s=new Pr(f,h,n))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function mv(t,e,r,n){let i=[],o=0;t.doc.nodesBetween(e,r,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof oo){let u=a.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,r);for(let c=0;c<l.length;c++){let d=l[c],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(s,e),to:u,step:o})}}}),i.forEach(a=>t.step(new jr(a.from,a.to,a.style)))}function gv(t,e,r,n=r.contentMatch){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let s=0;s<i.childCount;s++){let l=i.child(s),u=a+l.nodeSize,c=n.matchType(l.type);if(!c)o.push(new pt(a,u,G.empty));else{n=c;for(let d=0;d<l.marks.length;d++)r.allowsMarkType(l.marks[d].type)||t.step(new jr(a,u,l.marks[d]))}a=u}if(!n.validEnd){let s=n.fillBefore($.empty,!0);t.replace(a,a,new G(s,0,0))}for(let s=o.length-1;s>=0;s--)t.step(o[s])}function bv(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Zo(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),o=t.$from.index(n),a=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!bv(i,o,a))break}return null}function yv(t,e,r){let{$from:n,$to:i,depth:o}=e,a=n.before(o+1),s=i.after(o+1),l=a,u=s,c=$.empty,d=0;for(let p=o,m=!1;p>r;p--)m||n.index(p)>0?(m=!0,c=$.from(n.node(p).copy(c)),d++):l--;let f=$.empty,h=0;for(let p=o,m=!1;p>r;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=$.from(i.node(p).copy(f)),h++):u++;t.step(new dt(l,u,a,s,new G(c.append(f),d,h),c.size-d,!0))}function ms(t,e,r=null,n=t){let i=xv(t,e),o=i&&wv(n,e);return o?i.map(gg).concat({type:e,attrs:r}).concat(o.map(gg)):null}function gg(t){return{type:t,attrs:null}}function xv(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.contentMatchAt(n).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return r.canReplaceWith(n,i,a)?o:null}function wv(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.child(n),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:a}function vv(t,e,r){let n=$.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let s=r[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=$.from(r[a].type.create(r[a].attrs,n))}let i=e.start,o=e.end;t.step(new dt(i,o,i,o,new G(n,0,0),r.length,!0))}function kv(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,r,(a,s)=>{if(a.isTextblock&&!a.hasMarkup(n,i)&&Dv(t.doc,t.mapping.slice(o).map(s),n)){t.clearIncompatible(t.mapping.slice(o).map(s,1),n);let l=t.mapping.slice(o),u=l.map(s,1),c=l.map(s+a.nodeSize,1);return t.step(new dt(u,c,u+1,c-1,new G($.from(n.create(i,null,a.marks)),0,0),1,!0)),!1}})}function Dv(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function Cv(t,e,r,n,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let a=r.create(n,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new dt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new G($.from(a),0,0),1,!0))}function ao(t,e,r=1,n){let i=t.resolve(e),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=n&&n[c]||d;if(p!=d&&(h=h.replaceChild(0,p.type.create(p.attrs))),!d.canReplace(f+1,d.childCount)||!p.type.validContent(h))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function Sv(t,e,r=1,n){let i=t.doc.resolve(e),o=$.empty,a=$.empty;for(let s=i.depth,l=i.depth-r,u=r-1;s>l;s--,u--){o=$.from(i.node(s).copy(o));let c=n&&n[u];a=$.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}t.step(new pt(e,e,new G(o.append(a),r,r),!0))}function gs(t,e){let r=t.resolve(e),n=r.index();return _v(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function _v(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Ev(t,e,r){let n=new pt(e-r,e+r,G.empty,!0);t.step(n)}function Mv(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function kg(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),u=n.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function au(t,e,r=e,n=G.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),o=t.resolve(r);return Dg(i,o,n)?new pt(e,r,n):new L0(i,o,n).fit()}function Dg(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}var L0=class{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=$.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=$.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new G(o,a,s);return e>-1?new dt(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new pt(n.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let r=this.unplaced.openStart;r>=0;r--){let n,i=null;r?(i=z0(this.unplaced.content,r-1).firstChild,n=i.content):n=this.unplaced.content;let o=n.firstChild;for(let a=this.depth;a>=0;a--){let{type:s,match:l}=this.frontier[a],u,c=null;if(e==1&&(o?l.matchType(o.type)||(c=l.fillBefore($.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:c};if(e==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=z0(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new G(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=z0(e,r);if(i.childCount<=1&&r>0){let o=e.size-r<=r+i.size;this.unplaced=new G(fs(e,r-1,1),r-1,o?r-1:n)}else this.unplaced=new G(fs(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[r];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));d=d.matchFragment(i)}let h=s.size+e-(a.content.size-a.openEnd);for(;u<s.childCount;){let m=s.child(u),b=d.matchType(m.type);if(!b)break;u++,(u>1||l==0||m.content.size)&&(d=b,c.push(Cg(m.mark(f.allowedMarks(m.marks)),u==1?l:0,u==s.childCount?h:-1)))}let p=u==s.childCount;p||(h=-1),this.placed=hs(this.placed,r,$.from(c)),this.frontier[r].match=d,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,b=s;m<h;m++){let x=b.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),b=x.content}this.unplaced=p?e==0?G.empty:new G(fs(a.content,e-1,1),e-1,h<0?a.openEnd:e-1):new G(fs(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!N0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],o=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),a=N0(e,r,i,n,o);if(!!a){for(let s=r-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=N0(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:r,fit:a,move:o?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=hs(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=hs(this.placed,this.depth,$.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore($.empty,!0);r.childCount&&(this.placed=hs(this.placed,this.frontier.length,r))}};function fs(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(fs(t.firstChild.content,e-1,r)))}function hs(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(hs(t.lastChild.content,e-1,r)))}function z0(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function Cg(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,Cg(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore($.empty,!0)))),t.copy(n)}function N0(t,e,r,n,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!r.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!Av(r,o.content,a)?s:null}function Av(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function Tv(t){return t.spec.defining||t.spec.definingForContent}function Fv(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),o=t.doc.resolve(r);if(Dg(i,o,n))return t.step(new pt(e,r,n));let a=_g(i,t.doc.resolve(r));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(f)>-1?s=f:i.before(f)==h&&a.splice(1,0,-f)}let l=a.indexOf(s),u=[],c=n.openStart;for(let f=n.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==n.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f].type,p=Tv(h);if(p&&i.node(l).type!=h)c=f;else if(p||!h.isTextblock)break}for(let f=n.openStart;f>=0;f--){let h=(f+c+1)%(n.openStart+1),p=u[h];if(!!p)for(let m=0;m<a.length;m++){let b=a[(m+l)%a.length],x=!0;b<0&&(x=!1,b=-b);let k=i.node(b-1),D=i.index(b-1);if(k.canReplaceWith(D,D,p.type,p.marks))return t.replace(i.before(b),x?o.after(b):r,new G(Sg(n.content,0,n.openStart,h),h,n.openEnd))}}let d=t.steps.length;for(let f=a.length-1;f>=0&&(t.replace(e,r,n),!(t.steps.length>d));f--){let h=a[f];h<0||(e=i.before(h),r=o.after(h))}}function Sg(t,e,r,n,i){if(e<r){let o=t.firstChild;t=t.replaceChild(0,o.copy(Sg(o.content,e+1,r,n,o)))}if(e>n){let o=i.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore($.empty,!0))}return t}function Ov(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=Mv(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new G($.from(n),0,0))}function zv(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),o=_g(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return t.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return t.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(e-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a)return t.delete(n.before(a),r);t.delete(e,r)}function _g(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&r.push(i)}return r}var Ko=class extends Error{};Ko=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Ko.prototype=Object.create(Error.prototype);Ko.prototype.constructor=Ko;Ko.prototype.name="TransformError";var Jo=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Kn}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Ko(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=G.empty){let i=au(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new G($.from(n),0,0))}delete(e,r){return this.replace(e,r,G.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return Fv(this,e,r,n),this}replaceRangeWith(e,r,n){return Ov(this,e,r,n),this}deleteRange(e,r){return zv(this,e,r),this}lift(e,r){return yv(this,e,r),this}join(e,r=1){return Ev(this,e,r),this}wrap(e,r){return vv(this,e,r),this}setBlockType(e,r=e,n,i=null){return kv(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i=[]){return Cv(this,e,r,n,i),this}split(e,r=1,n){return Sv(this,e,r,n),this}addMark(e,r,n){return pv(this,e,r,n),this}removeMark(e,r,n){return mv(this,e,r,n),this}clearIncompatible(e,r,n){return gv(this,e,r,n),this}};var $0=Object.create(null),ce=class{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new ys(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=G.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:u}=a[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),s?G.empty:r),s==0&&Ag(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=e.mapping.slice(n),u=l.map(a.pos),c=l.map(s.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,r),Ag(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new le(e):Xo(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=r<0?Xo(e.node(0),e.node(o),e.before(o+1),e.index(o),r,n):Xo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,r,n);if(a)return a}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new vt(e.node(0))}static atStart(e){return Xo(e,e,0,0,1)||new vt(e)}static atEnd(e){return Xo(e,e,e.content.size,e.childCount,-1)||new vt(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=$0[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in $0)throw new RangeError("Duplicate use of selection JSON ID "+e);return $0[e]=r,r.prototype.jsonID=e,r}getBookmark(){return le.between(this.$anchor,this.$head).getBookmark()}};ce.prototype.visible=!0;var ys=class{constructor(e,r){this.$from=e,this.$to=r}},Eg=!1;function Mg(t){!Eg&&!t.parent.inlineContent&&(Eg=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}var le=class extends ce{constructor(e,r=e){Mg(e),Mg(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ce.near(n);let i=e.resolve(r.map(this.anchor));return new le(i.parent.inlineContent?i:n,n)}replace(e,r=G.empty){if(super.replace(e,r),r==G.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Yo(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new le(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=ce.findFrom(r,n,!0)||ce.findFrom(r,-n,!0);if(o)r=o.$head;else return ce.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(ce.findFrom(e,-n,!0)||ce.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new le(e,r)}};ce.jsonID("text",le);var Yo=class{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Yo(e.map(this.anchor),e.map(this.head))}resolve(e){return le.between(e.resolve(this.anchor),e.resolve(this.head))}},ie=class extends ce{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=e.resolve(i);return n?ce.near(o):new ie(o)}content(){return new G($.from(this.node),0,0)}eq(e){return e instanceof ie&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new xs(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ie(e.resolve(r.anchor))}static create(e,r){return new ie(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};ie.prototype.visible=!1;ce.jsonID("node",ie);var xs=class{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Yo(n,n):new xs(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&ie.isSelectable(n)?new ie(r):ce.near(r)}},vt=class extends ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=G.empty){if(r==G.empty){e.delete(0,e.doc.content.size);let n=ce.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new vt(e)}map(e){return new vt(e)}eq(e){return e instanceof vt}getBookmark(){return Nv}};ce.jsonID("all",vt);var Nv={map(){return this},resolve(t){return new vt(t)}};function Xo(t,e,r,n,i,o=!1){if(e.inlineContent)return le.create(t,r);for(let a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let s=e.child(a);if(s.isAtom){if(!o&&ie.isSelectable(s))return ie.create(t,r-(i<0?s.nodeSize:0))}else{let l=Xo(t,s,r+i,i<0?s.childCount:0,i,o);if(l)return l}r+=s.nodeSize*i}return null}function Ag(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof pt||i instanceof dt))return;let o=t.mapping.maps[n],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),t.setSelection(ce.near(t.doc.resolve(a),r))}var Tg=1,su=2,Fg=4,P0=class extends Jo{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Tg)&~su,this.storedMarks=null,this}get selectionSet(){return(this.updated&Tg)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=su,this}ensureMarks(e){return Fe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&su)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~su,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Fe.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(r);o=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,o)),this.selection.empty||this.setSelection(ce.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Fg,this}get scrolledIntoView(){return(this.updated&Fg)>0}};function Og(t,e){return!e||!t?t:t.bind(e)}var so=class{constructor(e,r,n){this.name=e,this.init=Og(r.init,n),this.apply=Og(r.apply,n)}},Iv=[new so("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new so("selection",{init(t,e){return t.selection||ce.atStart(e.doc)},apply(t){return t.selection}}),new so("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new so("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})],bs=class{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Iv.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new so(n.key,n.spec.state,n))})}},nn=class{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,u,n);if(c&&n.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:n,n:r.length}:{state:this,n:0})}r.push(c),n=n.applyInner(c),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new nn(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(e,this[o.name],this,r)}return r}get tr(){return new P0(this)}static create(e){let r=new bs(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new nn(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new bs(this.schema,e.plugins),n=r.fields,i=new nn(r);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new bs(e.schema,e.plugins),o=new nn(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Zt.fromJSON(e.schema,r.doc);else if(a.name=="selection")o.selection=ce.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=u.fromJSON.call(l,e,r[s],o);return}}o[a.name]=a.init(e,o)}}),o}};function zg(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=zg(i,e,{})),r[n]=i}return r}var _e=class{constructor(e){this.spec=e,this.props={},e.props&&zg(e.props,this,this.props),this.key=e.key?e.key.key:Ng("plugin")}getState(e){return e[this.key]}},R0=Object.create(null);function Ng(t){return t in R0?t+"$"+ ++R0[t]:(R0[t]=0,t+"$")}var ze=class{constructor(e="key"){this.key=Ng(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};var Ci=typeof navigator<"u"?navigator:null,Ig=typeof document<"u"?document:null,_i=Ci&&Ci.userAgent||"",G0=/Edge\/(\d+)/.exec(_i),c2=/MSIE \d/.exec(_i),K0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_i),Mr=!!(c2||K0||G0),Di=c2?document.documentMode:K0?+K0[1]:G0?+G0[1]:0,wn=!Mr&&/gecko\/(\d+)/i.test(_i);wn&&+(/Firefox\/(\d+)/.exec(_i)||[0,0])[1];var J0=!Mr&&/Chrome\/(\d+)/.exec(_i),Qt=!!J0,Lv=J0?+J0[1]:0,pr=!Mr&&!!Ci&&/Apple Computer/.test(Ci.vendor),ia=pr&&(/Mobile\/\w+/.test(_i)||!!Ci&&Ci.maxTouchPoints>2),qr=ia||(Ci?/Mac/.test(Ci.platform):!1),gn=/Android \d/.test(_i),hu=!!Ig&&"webkitFontSmoothing"in Ig.documentElement.style,Bv=hu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Er=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},fd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},Lg=null,Jn=function(t,e,r){let n=Lg||(Lg=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},Ds=function(t,e,r,n){return r&&(Bg(t,e,r,n,-1)||Bg(t,e,r,n,1))},$v=/^(img|br|input|textarea|hr)$/i;function Bg(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:bn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Pv(t)||$v.test(t.nodeName)||t.contentEditable=="false")return!1;e=Er(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?bn(t):0}else return!1}}function bn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Rv(t,e,r){for(let n=e==0,i=e==bn(t);n||i;){if(t==r)return!0;let o=Er(t);if(t=t.parentNode,!t)return!1;n=n&&o==0,i=i&&o==bn(t)}}function Pv(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var hd=function(t){let e=t.isCollapsed;return e&&Qt&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function ta(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function jv(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function vi(t,e){return typeof t=="number"?t:t[e]}function qv(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function $g(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=r||t.dom;a;a=fd(a)){if(a.nodeType!=1)continue;let s=a,l=s==o.body,u=l?jv(o):qv(s),c=0,d=0;if(e.top<u.top+vi(n,"top")?d=-(u.top-e.top+vi(i,"top")):e.bottom>u.bottom-vi(n,"bottom")&&(d=e.bottom-u.bottom+vi(i,"bottom")),e.left<u.left+vi(n,"left")?c=-(u.left-e.left+vi(i,"left")):e.right>u.right-vi(n,"right")&&(c=e.right-u.right+vi(i,"right")),c||d)if(l)o.defaultView.scrollBy(c,d);else{let f=s.scrollLeft,h=s.scrollTop;d&&(s.scrollTop+=d),c&&(s.scrollLeft+=c);let p=s.scrollLeft-f,m=s.scrollTop-h;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(l)break}}function Hv(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let o=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){let s=t.root.elementFromPoint(o,a);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:d2(t.dom)}}function d2(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=fd(n));return e}function Vv({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;f2(r,n==0?0:n-e)}function f2(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:o}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}var Qo=null;function Wv(t){if(t.setActive)return t.setActive();if(Qo)return t.focus(Qo);let e=d2(t);t.focus(Qo==null?{get preventScroll(){return Qo={preventScroll:!0},!0}}:void 0),Qo||(Qo=!1,f2(e,0))}function h2(t,e){let r,n=2e8,i,o=0,a=e.top,s=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Jn(l).getClientRects();else continue;for(let d=0;d<c.length;d++){let f=c[d];if(f.top<=a&&f.bottom>=s){a=Math.max(f.bottom,a),s=Math.min(f.top,s);let h=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(h<n){r=l,n=h,i=h&&r.nodeType==3?{left:f.right<e.left?f.right:f.left,top:e.top}:e,l.nodeType==1&&h&&(o=u+(e.left>=(f.left+f.right)/2?1:0));continue}}!r&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=u+1)}}return r&&r.nodeType==3?Uv(r,i):!r||n&&r.nodeType==1?{node:t,offset:o}:h2(r,i)}function Uv(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let o=ki(n,1);if(o.top!=o.bottom&&pd(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function pd(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Gv(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function Kv(t,e,r){let{node:n,offset:i}=h2(e,r),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(n,i,o)}function Jv(t,e,r,n){let i=-1;for(let o=e;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){let s=a.dom.getBoundingClientRect();if(s.left>n.left||s.top>n.top)i=a.posBefore;else if(s.right<n.left||s.bottom<n.top)i=a.posAfter;else break}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,1)}function p2(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let a=t.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(pd(e,u))return p2(a,e,u)}}if((o=(o+1)%n)==i)break}return t}function Zv(t,e){let r=t.dom.ownerDocument,n,i=0;if(r.caretPositionFromPoint)try{let l=r.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:n,offset:i}=l)}catch{}if(!n&&r.caretRangeFromPoint){let l=r.caretRangeFromPoint(e.left,e.top);l&&({startContainer:n,startOffset:i}=l)}let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top+1),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=t.dom.getBoundingClientRect();if(!pd(e,l)||(o=p2(t.dom,e,l),!o))return null}if(pr)for(let l=o;n&&l;l=fd(l))l.draggable&&(n=void 0);if(o=Gv(o,e),n){if(wn&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let l=n.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(a=Jv(t,n,i,e))}a==null&&(a=Kv(t,o,e));let s=t.docView.nearestDesc(o,!0);return{pos:a,inside:s?s.posAtStart-s.border:-1}}function ki(t,e){let r=t.getClientRects();return r.length?r[e<0?0:r.length-1]:t.getBoundingClientRect()}var Xv=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function m2(t,e,r){let{node:n,offset:i}=t.docView.domFromPos(e,r<0?-1:1),o=hu||wn;if(n.nodeType==3)if(o&&(Xv.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let a=ki(Jn(n,i,i),r);if(wn&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let s=ki(Jn(n,i-1,i-1),-1);if(s.top==a.top){let l=ki(Jn(n,i,i+1),-1);if(l.top!=a.top)return ws(l,l.left<s.left)}}return a}else{let a=i,s=i,l=r<0?1:-1;return r<0&&!i?(s++,l=-1):r>=0&&i==n.nodeValue.length?(a--,l=1):r<0?a--:s++,ws(ki(Jn(n,a,s),l),l<0)}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(r<0||i==bn(n))){let a=n.childNodes[i-1];if(a.nodeType==1)return j0(a.getBoundingClientRect(),!1)}if(i<bn(n)){let a=n.childNodes[i];if(a.nodeType==1)return j0(a.getBoundingClientRect(),!0)}return j0(n.getBoundingClientRect(),r>=0)}if(i&&(r<0||i==bn(n))){let a=n.childNodes[i-1],s=a.nodeType==3?Jn(a,bn(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(s)return ws(ki(s,1),!1)}if(i<bn(n)){let a=n.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let s=a?a.nodeType==3?Jn(a,0,o?0:1):a.nodeType==1?a:null:null;if(s)return ws(ki(s,-1),!0)}return ws(ki(n.nodeType==3?Jn(n):n,-r),r>=0)}function ws(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function j0(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function g2(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function Yv(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return g2(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.dom;break}o=s.dom.parentNode}let a=m2(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Jn(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(r=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}var Qv=/[\u0590-\u08ac]/;function ek(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=t.domSelection();return!Qv.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?o:a:g2(t,e,()=>{let l=s.getRangeAt(0),u=s.focusNode,c=s.focusOffset,d=s.caretBidiLevel;s.modify("move",r,"character");let h=!(n.depth?t.docView.domAfterPos(n.before()):t.dom).contains(s.focusNode.nodeType==1?s.focusNode:s.focusNode.parentNode)||u==s.focusNode&&c==s.focusOffset;return s.removeAllRanges(),s.addRange(l),d!=null&&(s.caretBidiLevel=d),h})}var Rg=null,Pg=null,jg=!1;function tk(t,e,r){return Rg==e&&Pg==r?jg:(Rg=e,Pg=r,jg=r=="up"||r=="down"?Yv(t,e,r):ek(t,e,r))}var on=0,qg=1,ra=2,vn=3,po=class{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=on,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let o,a;if(e==this.contentDOM)o=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Er(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!r||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return o}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-n-i.border);n=o}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0};let n=0,i=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>e||a instanceof uu){i=e-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof lu&&o.side>=0;n--);if(r<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&r&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?Er(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?Er(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],u=a+l.size;if(i==-1&&e<=u){let c=a+l.border;if(e>=c&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,c);e=a;for(let d=s;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Er(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>r||s==this.children.length-1)){r=u;for(let c=s+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Er(d.dom);break}r+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let o=Math.min(e,r),a=Math.max(e,r);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(o>h&&a<m)return p.setSelection(e-h-p.border,r-h-p.border,n,i);h=m}let s=this.domFromPos(e,e?-1:1),l=r==e?s:this.domFromPos(r,r?-1:1),u=n.getSelection(),c=!1;if((wn||pr)&&e==r){let{node:f,offset:h}=s;if(f.nodeType==3){if(c=!!(h&&f.nodeValue[h-1]==`
`),c&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(s=l={node:m.parentNode,offset:Er(m)+1});break}let b=p.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let p=f.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(wn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&pr)&&Ds(s.node,s.offset,u.anchorNode,u.anchorOffset)&&Ds(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==r)&&!c){u.collapse(s.node,s.offset);try{e!=r&&u.extend(l.node,l.offset),d=!0}catch(f){if(!(f instanceof DOMException))throw f}}if(!d){if(e>r){let h=s;s=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],a=n+o.size;if(n==a?e<=a&&r>=n:e<a&&r>n){let s=n+o.border,l=a-o.border;if(e>=s&&r<=l){this.dirty=e==n||r==a?ra:qg,e==s&&r==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=vn:o.markDirty(e-s,r-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ra:vn}n=a}this.dirty=ra}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ra:qg;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}},lu=class extends po{constructor(e,r,n,i){let o,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=r,this.widget=r,o=this}matchesWidget(e){return this.dirty==on&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},Z0=class extends po{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},Zn=class extends po{constructor(e,r,n,i){super(e,[],n,i),this.mark=r}static create(e,r,n,i){let o=i.nodeViews[r.type.name],a=o&&o(r,i,n);return(!a||!a.dom)&&(a=$r.renderSpec(document,r.type.spec.toDOM(r,n))),new Zn(e,r,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&vn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=vn&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=on){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=on}}slice(e,r,n){let i=Zn.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;r<a&&(o=td(o,r,a,n)),e>0&&(o=td(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}},Xn=class extends po{constructor(e,r,n,i,o,a,s,l,u){super(e,[],o,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s,a&&this.updateChildren(l,u)}static create(e,r,n,i,o,a){let s=o.nodeViews[r.type.name],l,u=s&&s(r,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,d=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=$r.renderSpec(document,r.type.spec.toDOM(r)));!d&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let f=c;return c=x2(c,n,r),u?l=new X0(e,r,n,i,c,d||null,f,u,o,a+1):r.isText?new oa(e,r,n,i,c,f,o):new Xn(e,r,n,i,c,d||null,f,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,r,n){return this.dirty==on&&e.eq(this.node)&&Q0(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,o=e.composing?this.localCompositionInfo(e,r):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new ed(this,a&&a.node);ok(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?Fe.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,n,e);let h;l.findNodeMatch(u,c,d,f)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,d,h,e)||l.updateNextNode(u,c,d,e,f)||l.addNode(u,c,d,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ra)&&(a&&this.protectLocalComposition(e,a),b2(this.contentDOM,this.children,e),ia&&ak(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof le)||n<r||i>r+this.node.content.size)return null;let o=e.domSelection(),a=sk(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,l=lk(this.node.content,s,n-r,i-r);return l<0?null:{node:a,pos:l,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new Z0(this,o,r,i);e.input.compositionNodes.push(a),this.children=td(this.children,n,n+i.length,e,a)}update(e,r,n,i){return this.dirty==vn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=on}updateOuterDeco(e){if(Q0(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=y2(this.dom,this.nodeDOM,Y0(this.outerDeco,this.node,r),Y0(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}};function Hg(t,e,r,n,i){return x2(n,e,t),new Xn(void 0,t,e,r,n,n,n,i,0)}var oa=class extends Xn{constructor(e,r,n,i,o,a,s){super(e,r,n,i,o,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==vn||this.dirty!=on&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=on||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=on,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),o=document.createTextNode(i.text);return new oa(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=vn)}get domAtom(){return!1}},uu=class extends po{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==on&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},X0=class extends Xn{constructor(e,r,n,i,o,a,s,l,u,c){super(e,r,n,i,o,a,s,u,c),this.spec=l}update(e,r,n,i){if(this.dirty==vn)return!1;if(this.spec.update){let o=this.spec.update(e,r,n);return o&&this.updateInner(e,r,n,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function b2(t,e,r){let n=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=n;)n=Vg(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(s,n);if(a instanceof Zn){let l=n?n.previousSibling:t.lastChild;b2(a.contentDOM,a.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=Vg(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}var vs=function(t){t&&(this.nodeName=t)};vs.prototype=Object.create(null);var uo=[new vs];function Y0(t,e,r){if(t.length==0)return uo;let n=r?uo[0]:new vs,i=[n];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(!!a){a.nodeName&&i.push(n=new vs(a.nodeName));for(let s in a){let l=a[s];l!=null&&(r&&i.length==1&&i.push(n=new vs(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function y2(t,e,r,n){if(r==uo&&n==uo)return e;let i=e;for(let o=0;o<n.length;o++){let a=n[o],s=r[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=uo[0]),i=l}rk(i,s||uo[0],a)}return i}function rk(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&t.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function x2(t,e,r){return y2(t,t,uo,Y0(e,r,t.nodeType!=1))}function Q0(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function Vg(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var ed=class{constructor(e,r){this.lock=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=nk(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=on,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){s=l;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Zn.create(this.top,e[o],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,r,n,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,r,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,r,n,i,o){let a=this.top.children[i];return a.dirty==vn&&a.dom==a.contentDOM&&(a.dirty=ra),a.update(e,r,n,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,o){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof Xn){let l=this.preMatch.matched.get(s);if(l!=null&&l!=o)return!1;let u=s.dom;if(!(this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=vn&&Q0(r,s.outerDeco)))&&s.update(e,r,n,i))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,r,n,i,o){this.top.children.splice(this.index++,0,Xn.create(this.top,e,r,n,i,o)),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new lu(this.top,e,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Zn;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof oa)||/\n$/.test(e.node.text))&&((pr||Qt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new uu(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}};function nk(t,e){let r=e,n=r.children.length,i=t.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let u=r.children[n-1];if(u instanceof Zn)r=u,n=u.children.length;else{s=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(!!l){if(l!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function ik(t,e){return t.type.side-e.type.side}function ok(t,e,r,n){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);n(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){if(a<i.length&&i[a].to==o){let p=i[a++],m;for(;a<i.length&&i[a].to==o;)(m||(m=[p])).push(i[a++]);if(m){m.sort(ik);for(let b=0;b<m.length;b++)r(m[b],u,!!l)}else r(p,u,!!l)}let c,d;if(l)d=-1,c=l,l=null;else if(u<t.childCount)d=u,c=t.child(u++);else break;for(let p=0;p<s.length;p++)s[p].to<=o&&s.splice(p--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let f=o+c.nodeSize;if(c.isText){let p=f;a<i.length&&i[a].from<p&&(p=i[a].from);for(let m=0;m<s.length;m++)s[m].to<p&&(p=s[m].to);p<f&&(l=c.cut(p-o),c=c.cut(0,p-o),f=p,d=-1)}let h=c.isInline&&!c.isLeaf?s.filter(p=>!p.inline):s.slice();n(c,h,e.forChild(o,c),d),o=f}}function ak(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function sk(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=bn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function lk(t,e,r,n){for(let i=0,o=0;i<t.childCount&&o<=n;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=r){let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=r)return s+u;if(r==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function td(t,e,r,n,i){let o=[];for(let a=0,s=0;a<t.length;a++){let l=t[a],u=s,c=s+=l.size;u>=r||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,n)),i&&(o.push(i),i=void 0),c>r&&o.push(l.slice(r-u,l.size,n)))}return o}function w2(t,e=null){let r=t.domSelection(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,u;if(hd(r)){for(l=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&ie.isSelectable(c)&&i.parent&&!(c.isInline&&Rv(r.focusNode,r.focusOffset,i.dom))){let d=i.posBefore;u=new ie(a==d?s:n.resolve(d))}}else{let c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null;l=n.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;u=md(t,l,s,c)}return u}function v2(t){return t.editable?t.hasFocus():D2(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Si(t,e=!1){let r=t.state.selection;if(k2(t,r),!!v2(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Qt){let n=t.domSelection(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ds(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ck(t);else{let{anchor:n,head:i}=r,o,a;Wg&&!(r instanceof le)&&(r.$from.parent.inlineContent||(o=Ug(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=Ug(t,r.to))),t.docView.setSelection(n,i,t.root,e),Wg&&(o&&Gg(o),a&&Gg(a)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&uk(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var Wg=pr||Qt&&Lv<63;function Ug(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(pr&&i&&i.contentEditable=="false")return q0(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return q0(i);if(o)return q0(o)}}function q0(t){return t.contentEditable="true",pr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Gg(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function uk(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelection(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!v2(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ck(t){let e=t.domSelection(),r=document.createRange(),n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setEnd(n.parentNode,Er(n)+1):r.setEnd(n,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&Mr&&Di<=11&&(n.disabled=!0,n.disabled=!1)}function k2(t,e){if(e instanceof ie){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Kg(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Kg(t)}function Kg(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function md(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||le.between(e,r,n)}function Jg(t){return t.editable&&t.root.activeElement!=t.dom?!1:D2(t)}function D2(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function dk(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelection();return Ds(e.node,e.offset,r.anchorNode,r.anchorOffset)}function rd(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ce.findFrom(o,e)}function lo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Zg(t,e,r){let n=t.state.selection;if(n instanceof le){if(!n.empty||r.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=rd(t.state,e);return i&&i instanceof ie?lo(t,i):!1}else if(!(qr&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=t.docView.descAt(s))&&!a.contentDOM?ie.isSelectable(o)?lo(t,new ie(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):hu?lo(t,new le(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else{if(n instanceof ie&&n.node.isInline)return lo(t,new le(e>0?n.$to:n.$from));{let i=rd(t.state,e);return i?lo(t,i):!1}}}function cu(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ks(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function H0(t){let e=t.domSelection(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,o,a=!1;for(wn&&r.nodeType==1&&n<cu(r)&&ks(r.childNodes[n])&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(ks(s))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(C2(r))break;{let s=r.previousSibling;for(;s&&ks(s);)i=r.parentNode,o=Er(s),s=s.previousSibling;if(s)r=s,n=cu(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}a?nd(t,e,r,n):i&&nd(t,e,i,o)}function V0(t){let e=t.domSelection(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=cu(r),o,a;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(ks(s))o=r,a=++n;else break}else{if(C2(r))break;{let s=r.nextSibling;for(;s&&ks(s);)o=s.parentNode,a=Er(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=cu(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}o&&nd(t,e,o,a)}function C2(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function nd(t,e,r,n){if(hd(e)){let o=document.createRange();o.setEnd(r,n),o.setStart(r,n),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(r,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Si(t)},50)}function Xg(t,e,r){let n=t.state.selection;if(n instanceof le&&!n.empty||r.indexOf("s")>-1||qr&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=rd(t.state,e);if(a&&a instanceof ie)return lo(t,a)}if(!i.parent.inlineContent){let a=e<0?i:o,s=n instanceof vt?ce.near(a,e):ce.findFrom(a,e);return s?lo(t,s):!1}return!1}function Yg(t,e){if(!(t.state.selection instanceof le))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(r.pos-o.nodeSize,r.pos):a.delete(r.pos,r.pos+o.nodeSize),t.dispatch(a),!0}return!1}function Qg(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function fk(t){if(!pr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelection();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Qg(t,n,"true"),setTimeout(()=>Qg(t,n,"false"),20)}return!1}function hk(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function pk(t,e){let r=e.keyCode,n=hk(e);return r==8||qr&&r==72&&n=="c"?Yg(t,-1)||H0(t):r==46||qr&&r==68&&n=="c"?Yg(t,1)||V0(t):r==13||r==27?!0:r==37||qr&&r==66&&n=="c"?Zg(t,-1,n)||H0(t):r==39||qr&&r==70&&n=="c"?Zg(t,1,n)||V0(t):r==38||qr&&r==80&&n=="c"?Xg(t,-1,n)||H0(t):r==40||qr&&r==78&&n=="c"?fk(t)||Xg(t,1,n)||V0(t):n==(qr?"m":"c")&&(r==66||r==73||r==89||r==90)}function S2(t,e){let r=[],{content:n,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let a=t.someProp("clipboardSerializer")||$r.fromSchema(t.state.schema),s=F2(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=T2[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=s.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(r)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function _2(t,e,r,n,i){let o=i.parent.type.spec.code,a,s;if(!r&&!e)return null;let l=e&&(n||o||!r);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||n)}),o)return e?new G($.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):G.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,n));if(d)s=d;else{let f=i.marks(),{schema:h}=t.state,p=$r.fromSchema(h);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let b=a.appendChild(document.createElement("p"));m&&b.appendChild(p.serializeNode(h.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r)}),a=bk(r),hu&&yk(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0&&a.firstChild;d--)a=a.firstChild;if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||Rr.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!mk.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)s=xk(e2(s,+c[1],+c[2]),c[4]);else if(s=G.maxOpen(gk(s.content,i),!0),s.openStart||s.openEnd){let d=0,f=0;for(let h=s.content.firstChild;d<s.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=s.content.lastChild;f<s.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);s=e2(s,d,f)}return t.someProp("transformPasted",d=>{s=d(s)}),s}var mk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gk(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),o,a=[];if(t.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&M2(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=A2(a[a.length-1],o.length));let c=E2(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return $.from(a)}return t}function E2(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,$.from(t));return t}function M2(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=M2(t,e,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append($.from(E2(r,t,i+1))))}}function A2(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,A2(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore($.empty,!0);return t.copy(r.append(n))}function id(t,e,r,n,i,o){let a=e<0?t.firstChild:t.lastChild,s=a.content;return i<n-1&&(s=id(s,e,r,n,i+1,o)),i>=r&&(s=e<0?a.contentMatchAt(0).fillBefore(s,t.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore($.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}function e2(t,e,r){return e<t.openStart&&(t=new G(id(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new G(id(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}var T2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},t2=null;function F2(){return t2||(t2=document.implementation.createHTMLDocument("title"))}function bk(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=F2().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&T2[n[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=t,i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function yk(t){let e=t.querySelectorAll(Qt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function xk(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:a}=t;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=$.from(l.create(n[s+1],i)),o++,a++}return new G(i,o,a)}var mr={},er={},od=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function wk(t){for(let e in mr){let r=mr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{kk(t,n)&&!gd(t,n)&&(t.editable||!(n.type in er))&&r(t,n)})}pr&&t.dom.addEventListener("input",()=>null),ad(t)}function co(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function vk(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ad(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>gd(t,n))})}function gd(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function kk(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Dk(t,e){!gd(t,e)&&mr[e.type]&&(t.editable||!(e.type in er))&&mr[e.type](t,e)}er.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!z2(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(gn&&Qt&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),ia&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,ta(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||pk(t,r)?r.preventDefault():co(t,"key")};er.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};er.keypress=(t,e)=>{let r=e;if(z2(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||qr&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof le)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function pu(t){return{left:t.clientX,top:t.clientY}}function Ck(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function bd(t,e,r,n,i){if(n==-1)return!1;let o=t.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,s=>a>o.depth?s(t,r,o.nodeAfter,o.before(a),i,!0):s(t,r,o.node(a),o.before(a),i,!1)))return!0;return!1}function na(t,e,r){t.focused||t.focus();let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}function Sk(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&ie.isSelectable(n)?(na(t,new ie(r),"pointer"),!0):!1}function _k(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof ie&&(n=r.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(ie.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(na(t,ie.create(t.state.doc,i),"pointer"),!0):!1}function Ek(t,e,r,n,i){return bd(t,"handleClickOn",e,r,n)||t.someProp("handleClick",o=>o(t,e,n))||(i?_k(t,r):Sk(t,r))}function Mk(t,e,r,n){return bd(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function Ak(t,e,r,n){return bd(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||Tk(t,r,n)}function Tk(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(na(t,le.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)na(t,le.create(n,s+1,s+1+a.content.size),"pointer");else if(ie.isSelectable(a))na(t,ie.create(n,s),"pointer");else continue;return!0}}function yd(t){return du(t)}var O2=qr?"metaKey":"ctrlKey";mr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=yd(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&Ck(r,t.input.lastClick)&&!r[O2]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o};let a=t.posAtCoords(pu(r));!a||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new sd(t,a,r,!!n)):(o=="doubleClick"?Mk:Ak)(t,a.pos,a.inside,r)?r.preventDefault():co(t,"pointer"))};var sd=class{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[O2],this.allowDefault=n.shiftKey;let o,a;if(r.inside>-1)o=e.state.doc.nodeAt(r.inside),a=r.inside;else{let c=e.state.doc.resolve(r.pos);o=c.parent,a=c.depth?c.before():0}let s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof ie&&u.from<=a&&u.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&wn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),co(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Si(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(pu(e))),this.allowDefault||!r?co(this.view,"pointer"):Ek(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||pr&&this.mightDrag&&!this.mightDrag.node.isAtom||Qt&&!(this.view.state.selection instanceof le)&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(na(this.view,ce.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):co(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),co(this.view,"pointer"),e.buttons==0&&this.done()}};mr.touchdown=t=>{yd(t),co(t,"pointer")};mr.contextmenu=t=>yd(t);function z2(t,e){return t.composing?!0:pr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}var Fk=gn?5e3:-1;er.compositionstart=er.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),du(t,!0),t.markCursor=null;else if(du(t),wn&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelection();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){n.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}t.input.composing=!0}N2(t,Fk)};er.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,N2(t,20))};function N2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>du(t),e))}function I2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Ok());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Ok(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function du(t,e=!1){if(!(gn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),I2(t),e||t.docView&&t.docView.dirty){let r=w2(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}function zk(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}var aa=Mr&&Di<15||ia&&Bv<604;mr.copy=er.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let o=aa?null:r.clipboardData,a=n.content(),{dom:s,text:l}=S2(t,a);o?(r.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):zk(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Nk(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Ik(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?ld(t,n.value,null,e):ld(t,n.textContent,n.innerHTML,e)},50)}function ld(t,e,r,n){let i=_2(t,e,r,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",s=>s(t,n,i||G.empty)))return!0;if(!i)return!1;let o=Nk(i),a=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}er.paste=(t,e)=>{let r=e;if(t.composing&&!gn)return;let n=aa?null:r.clipboardData;n&&ld(t,n.getData("text/plain"),n.getData("text/html"),r)?r.preventDefault():Ik(t,r)};var ud=class{constructor(e,r){this.slice=e,this.move=r}},L2=qr?"altKey":"ctrlKey";mr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(pu(r));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ie?i.to-1:i.to))){if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(ie.create(t.state.doc,n.mightDrag.pos)));else if(r.target&&r.target.nodeType==1){let u=t.docView.nearestDesc(r.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(ie.create(t.state.doc,u.posBefore)))}}let a=t.state.selection.content(),{dom:s,text:l}=S2(t,a);r.dataTransfer.clearData(),r.dataTransfer.setData(aa?"Text":"text/html",s.innerHTML),r.dataTransfer.effectAllowed="copyMove",aa||r.dataTransfer.setData("text/plain",l),t.dragging=new ud(a,!r[L2])};mr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};er.dragover=er.dragenter=(t,e)=>e.preventDefault();er.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(pu(r));if(!i)return;let o=t.state.doc.resolve(i.pos);if(!o)return;let a=n&&n.slice;a?t.someProp("transformPasted",p=>{a=p(a)}):a=_2(t,r.dataTransfer.getData(aa?"Text":"text/plain"),aa?null:r.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&!r[L2]);if(t.someProp("handleDrop",p=>p(t,r,a||G.empty,s))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?kg(t.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let u=t.state.tr;s&&u.deleteSelection();let c=u.mapping.map(l),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,a.content.firstChild):u.replaceRange(c,c,a),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&ie.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new ie(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,b,x,k)=>p=k),u.setSelection(md(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};mr.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&Si(t)},20))};mr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};mr.beforeinput=(t,e)=>{if(Qt&&gn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ta(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in er)mr[t]=er[t];function Cs(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}var Ss=class{constructor(e,r){this.toDOM=e,this.spec=r||fo,this.side=this.spec.side||0}map(e,r,n,i){let{pos:o,deleted:a}=e.mapResult(r.from+i,this.side<0?-1:1);return a?null:new mt(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Ss&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Cs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},xn=class{constructor(e,r){this.attrs=e,this.spec=r||fo}map(e,r,n,i){let o=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new mt(o,a,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof xn&&Cs(this.attrs,e.attrs)&&Cs(this.spec,e.spec)}static is(e){return e.type instanceof xn}destroy(){}},_s=class{constructor(e,r){this.attrs=e,this.spec=r||fo}map(e,r,n,i){let o=e.mapResult(r.from+i,1);if(o.deleted)return null;let a=e.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new mt(o.pos-n,a.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),o;return i==r.from&&!(o=e.child(n)).isText&&i+o.nodeSize==r.to}eq(e){return this==e||e instanceof _s&&Cs(this.attrs,e.attrs)&&Cs(this.spec,e.spec)}destroy(){}},mt=class{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new mt(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new mt(e,e,new Ss(r,n))}static inline(e,r,n,i){return new mt(e,r,new xn(n,i))}static node(e,r,n,i){return new mt(e,r,new _s(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof xn}},ea=[],fo={},Xe=class{constructor(e,r){this.local=e.length?e:ea,this.children=r.length?r:ea}static create(e,r){return r.length?fu(r,e,0,fo):Ht}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=r&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,r-s,n,i+s,o)}}map(e,r,n){return this==Ht||e.maps.length==0?this:this.mapInner(e,r,0,0,n||fo)}mapInner(e,r,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?Lk(this.children,a||[],e,r,n,i,o):a?new Xe(a.sort(ho),ea):Ht}add(e,r){return r.length?this==Ht?Xe.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,o=0;e.forEach((s,l)=>{let u=l+n,c;if(!!(c=$2(r,s,u))){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,fu(c,s,u+1,fo)),o+=3}});let a=B2(o?R2(r):r,-n);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new Xe(a.length?this.local.concat(a).sort(ho):this.local,i||this.children)}remove(e){return e.length==0||this==Ht?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+r,l=n[o+1]+r;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>s&&d.to<l&&(e[c]=null,(a||(a=[])).push(d));if(!a)continue;n==this.children&&(n=this.children.slice());let u=n[o+2].removeInner(a,s+1);u!=Ht?n[o+2]=u:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let s=0;s<i.length;s++)i[s].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Xe(i,n):Ht}forChild(e,r){if(this==Ht)return this;if(r.isLeaf)return Xe.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,a=o+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof xn){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Xe(i.sort(ho),ea);return n?new yn([s,n]):s}return n||Ht}eq(e){if(this==e)return!0;if(!(e instanceof Xe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return xd(this.localsInner(e))}localsInner(e){if(this==Ht)return ea;if(e.inlineContent||!this.local.some(xn.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof xn||r.push(this.local[n]);return r}};Xe.empty=new Xe([],[]);Xe.removeOverlap=xd;var Ht=Xe.empty,yn=class{constructor(e){this.members=e}map(e,r){let n=this.members.map(i=>i.map(e,r,fo));return yn.from(n)}forChild(e,r){if(r.isLeaf)return Xe.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,r);o!=Ht&&(o instanceof yn?n=n.concat(o.members):n.push(o))}return yn.from(n)}eq(e){if(!(e instanceof yn)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let a=0;a<o.length;a++)r.push(o[a])}}return r?xd(n?r:r.sort(ho)):ea}static from(e){switch(e.length){case 0:return Ht;case 1:return e[0];default:return new yn(e)}}};function Lk(t,e,r,n,i,o,a){let s=t.slice(),l=(c,d,f,h)=>{for(let p=0;p<s.length;p+=3){let m=s[p+1],b;if(m<0||c>m+o)continue;let x=s[p]+o;d>=x?s[p+1]=c<=x?-2:-1:f>=i&&(b=h-f-(d-c))&&(s[p]+=b,s[p+1]+=b)}};for(let c=0;c<r.maps.length;c++)r.maps[c].forEach(l);let u=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){u=!0,s[c+1]=-1;continue}let d=r.map(t[c]+o),f=d-i;if(f<0||f>=n.content.size){u=!0;continue}let h=r.map(t[c+1]+o,-1),p=h-i,{index:m,offset:b}=n.content.findIndex(f),x=n.maybeChild(m);if(x&&b==f&&b+x.nodeSize==p){let k=s[c+2].mapInner(r,x,d+1,t[c]+o+1,a);k!=Ht?(s[c]=f,s[c+1]=p,s[c+2]=k):(s[c+1]=-2,u=!0)}else u=!0}if(u){let c=Bk(s,t,e,r,i,o,a),d=fu(c,n,0,a);e=d.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,h=0;f<d.children.length;f+=3){let p=d.children[f];for(;h<s.length&&s[h]<p;)h+=3;s.splice(h,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Xe(e.sort(ho),s)}function B2(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new mt(i.from+e,i.to+e,i.type))}return r}function Bk(t,e,r,n,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(n,i,u);d?r.push(d):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&s(t[l+2],e[l]+o+1);return r}function $2(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),t[o]=null);return i}function R2(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function fu(t,e,r,n){let i=[],o=!1;e.forEach((s,l)=>{let u=$2(t,s,l+r);if(u){o=!0;let c=fu(u,s,r+l+1,n);c!=Ht&&i.push(l,l+s.nodeSize,c)}});let a=B2(o?R2(t):t,-r).sort(ho);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Xe(a,i):Ht}function ho(t,e){return t.from-e.from||t.to-e.to}function xd(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let o=e[i];if(o.from==n.from){o.to!=n.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,n.to),r2(e,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),r2(e,i,n.copy(o.from,n.to)));break}}}return e}function r2(t,e,r){for(;e<t.length&&ho(r,t[e])>0;)e++;t.splice(e,0,r)}function W0(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=Ht&&e.push(n)}),t.cursorWrapper&&e.push(Xe.create(t.state.doc,[t.cursorWrapper.deco])),yn.from(e)}var $k={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Rk=Mr&&Di<=11,cd=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},dd=class{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new cd,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Mr&&Di<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Rk&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,$k),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!Jg(this.view)){if(this.suppressingSelectionUpdates)return Si(this.view);if(Mr&&Di<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&Ds(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(e.rangeCount==0)return!0;let r=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(r);if(n&&n.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let r=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Jg(this.view)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,s=[];if(this.view.editable)for(let l=0;l<e.length;l++){let u=this.registerMutation(e[l],s);u&&(i=i<0?u.from:Math.min(u.from,i),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(a=!0))}if(wn&&s.length>1){let l=s.filter(u=>u.nodeName=="BR");if(l.length==2){let u=l[0],c=l[1];u.parentNode&&u.parentNode.parentNode==c.parentNode?c.remove():u.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,o),Pk(this.view)),this.handleDOMChange(i,o,a,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(r)||Si(this.view),this.currentSelection.set(r))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)r.push(e.addedNodes[c]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Mr&&Di<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let a=i&&i.parentNode==e.target?Er(i)+1:0,s=n.localPosFromDOM(e.target,a,-1),l=o&&o.parentNode==e.target?Er(o):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}},n2=!1;function Pk(t){n2||(n2=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function jk(t,e,r){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=t.docView.parseRange(e,r),l=t.domSelection(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],hd(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Qt&&t.input.lastKeyCode===8)for(let b=o;b>i;b--){let x=n.childNodes[b-1],k=x.pmViewDesc;if(x.nodeName=="BR"&&!k){o=b;break}if(!k||k.size)break}let d=t.state.doc,f=t.someProp("domParser")||Rr.fromSchema(t.state.schema),h=d.resolve(a),p=null,m=f.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:qk,context:h});if(u&&u[0].pos!=null){let b=u[0].pos,x=u[1]&&u[1].pos;x==null&&(x=b),p={anchor:b+a,head:x+a}}return{doc:m,sel:p,from:a,to:s}}function qk(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(pr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||pr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Hk(t,e,r,n,i){if(e<0){let N=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,R=w2(t,N);if(R&&!t.state.selection.eq(R)){let X=t.state.tr.setSelection(R);N=="pointer"?X.setMeta("pointer",!0):N=="key"&&X.scrollIntoView(),t.dispatch(X)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(r);e=o.before(a+1),r=t.state.doc.resolve(r).after(a+1);let s=t.state.selection,l=jk(t,e,r);if(Qt&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from){let N=t.cursorWrapper.deco.type.toDOM.nextSibling,R=N&&N.nodeValue?N.nodeValue.length:1;l.sel={anchor:l.sel.anchor+R,head:l.sel.anchor+R}}let u=t.state.doc,c=u.slice(l.from,l.to),d,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,f="end"):(d=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let h=Uk(c.content,l.doc.content,l.from,d,f);if((ia&&t.input.lastIOSEnter>Date.now()-225||gn)&&i.some(N=>N.nodeName=="DIV"||N.nodeName=="P")&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",N=>N(t,ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(n&&s instanceof le&&!s.empty&&s.$head.sameParent(s.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:s.from,endA:s.to,endB:s.to};else{if(l.sel){let N=i2(t,t.state.doc,l.sel);N&&!N.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(N))}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof le&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Mr&&Di<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let p=l.doc.resolveNoCache(h.start-l.from),m=l.doc.resolveNoCache(h.endB-l.from),b=u.resolve(h.start),x=p.sameParent(m)&&p.parent.inlineContent&&b.end()>=h.endA,k;if((ia&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!x&&p.pos<l.doc.content.size&&(k=ce.findFrom(l.doc.resolve(p.pos+1),1,!0))&&k.head==m.pos)&&t.someProp("handleKeyDown",N=>N(t,ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&Wk(u,h.start,h.endA,p,m)&&t.someProp("handleKeyDown",N=>N(t,ta(8,"Backspace")))){gn&&Qt&&t.domObserver.suppressSelectionUpdates();return}Qt&&gn&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),gn&&!x&&p.start()!=m.start()&&m.parentOffset==0&&p.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,m=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(N){return N(t,ta(13,"Enter"))})},20));let D=h.start,z=h.endA,O,E,T;if(x){if(p.pos==m.pos)Mr&&Di<=11&&p.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Si(t),20)),O=t.state.tr.delete(D,z),E=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(T=Vk(p.parent.content.cut(p.parentOffset,m.parentOffset),b.parent.content.cut(b.parentOffset,h.endA-b.start()))))O=t.state.tr,T.type=="add"?O.addMark(D,z,T.mark):O.removeMark(D,z,T.mark);else if(p.parent.child(p.index()).isText&&p.index()==m.index()-(m.textOffset?0:1)){let N=p.parent.textBetween(p.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",R=>R(t,D,z,N)))return;O=t.state.tr.insertText(N,D,z)}}if(O||(O=t.state.tr.replace(D,z,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let N=i2(t,O.doc,l.sel);N&&!(Qt&&gn&&t.composing&&N.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(N.head==D||N.head==O.mapping.map(z)-1)||Mr&&N.empty&&N.head==D)&&O.setSelection(N)}E&&O.ensureMarks(E),t.dispatch(O.scrollIntoView())}function i2(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:md(t,e.resolve(r.anchor),e.resolve(r.head))}function Vk(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,o=n,a,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<r.length;c++)o=r[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if($.from(u).eq(t))return{mark:s,type:a}}function Wk(t,e,r,n,i){if(!n.parent.isTextblock||r-e<=i.pos-n.pos||U0(n,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(U0(o,!0,!0));return!a.parent.isTextblock||a.pos>r||U0(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function U0(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let o=t.node(n).maybeChild(t.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Uk(t,e,r,n,i){let o=t.findDiffStart(e,r);if(o==null)return null;let{a,b:s}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}return a<o&&t.size<e.size?(o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o):s<o&&(o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o),{start:o,endA:a,endB:s}}var sa=class{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new od,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(u2),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=s2(this),a2(this),this.nodeViews=l2(this),this.docView=Hg(this.state.doc,o2(this),W0(this),this.dom,this),this.domObserver=new dd(this,(n,i,o,a)=>Hk(this,n,i,o,a)),this.domObserver.start(),wk(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ad(this),this._props=e,e.plugins&&(e.plugins.forEach(u2),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,r){let n=this.state,i=!1,o=!1;if(e.storedMarks&&this.composing&&(I2(this),o=!0),this.state=e,r){let d=l2(this);Kk(d,this.nodeViews)&&(this.nodeViews=d,i=!0),ad(this)}this.editable=s2(this),a2(this);let a=W0(this),s=o2(this),l=r?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,s,a);(u||!e.selection.eq(n.selection))&&(o=!0);let c=l=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Hv(this);if(o){this.domObserver.stop();let d=u&&(Mr||Qt)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&Gk(n.selection,e.selection);if(u){let f=Qt?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(e.doc,s,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Hg(e.doc,s,a,this.dom,this)),f&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&dk(this))?Si(this,d):(k2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),l=="reset")this.dom.scrollTop=0;else if(l=="to selection"){let d=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",f=>f(this)))if(e.selection instanceof ie){let f=this.docView.domAfterPos(e.selection.from);f.nodeType==1&&$g(this,f.getBoundingClientRect(),d)}else $g(this,this.coordsAtPos(e.selection.head,1),d)}else c&&Vv(c)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[e];if(s!=null&&(i=r?r(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[e];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Wv(this.dom),Si(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}posAtCoords(e){return Zv(this,e)}coordsAtPos(e,r=1){return m2(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return tk(this,r||this.state,e)}destroy(){!this.docView||(vk(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],W0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Dk(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}};function o2(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"&&(e.class+=" "+r[n]),n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),[mt.node(0,t.state.doc.content.size,e)]}function a2(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:mt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function s2(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Gk(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function l2(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function Kk(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function u2(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ye=class{constructor(e,r){this.match=e,this.match=e,this.handler=typeof r=="string"?Jk(r):r}};function Jk(t){return function(e,r,n,i){let o=t;if(r[1]){let a=r[0].lastIndexOf(r[1]);o+=r[0].slice(a+r[1].length),n+=a;let s=n-i;s>0&&(o=r[0].slice(a-s,a)+o,n=i)}return e.tr.insertText(o,n,i)}}var Zk=500;function j2({rules:t}){let e=new _e({state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,o){return P2(r,n,i,o,t,e)},handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&P2(r,n.pos,n.pos,"",t,e)})}}},isInputRules:!0});return e}function P2(t,e,r,n,i,o){if(t.composing)return!1;let a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;let l=s.parent.textBetween(Math.max(0,s.parentOffset-Zk),s.parentOffset,null,"￼")+n;for(let u=0;u<i.length;u++){let c=i[u].match.exec(l),d=c&&i[u].handler(a,c,e-(c[0].length-n.length),r);if(!!d)return t.dispatch(d.setMeta(o,{transform:d,from:e,to:r,text:n})),!0}return!1}var XP=new Ye(/--$/,"—"),YP=new Ye(/\.\.\.$/,"…"),QP=new Ye(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),ej=new Ye(/"$/,"”"),tj=new Ye(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),rj=new Ye(/'$/,"’");function Ei(t,e,r=null,n){return new Ye(t,(i,o,a,s)=>{let l=r instanceof Function?r(o):r,u=i.tr.delete(a,s),c=u.doc.resolve(a),d=c.blockRange(),f=d&&ms(d,e,l);if(!f)return null;u.wrap(d,f);let h=u.doc.resolve(a-1).nodeBefore;return h&&h.type==e&&gs(u.doc,a-1)&&(!n||n(o,h))&&u.join(a-1),u})}function mu(t,e,r=null){return new Ye(t,(n,i,o,a)=>{let s=n.doc.resolve(o),l=r instanceof Function?r(i):r;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?n.tr.delete(o,a).setBlockType(o,o,e,l):null})}function wd(t,e,r,n,i,o){if(t.composing)return!1;let a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;let l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"￼")+n;for(let u=0;u<i.length;u++){let c=i[u].match.exec(l),d=c&&c[0]&&i[u].handler(a,c,e-(c[0].length-n.length),r);if(!!d)return t.dispatch(d.setMeta(o,{transform:d,from:e,to:r,text:n})),!0}return!1}var Xk=new ze("MILKDOWN_CUSTOM_INPUTRULES"),q2=({rules:t})=>{let e=new _e({key:Xk,isInputRules:!0,state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,o){return wd(r,n,i,o,t,e)},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&wd(r,n.pos,n.pos,"",t,e)}),!1)},handleKeyDown(r,n){if(n.key!=="Enter")return!1;let{$cursor:i}=r.state.selection;return i?wd(r,i.pos,i.pos,`
`,t,e):!1}}});return e};function Yn(t,e){return new Ye(t,(r,n,i,o)=>{let{tr:a}=r,s=n.length,l=i,u=o;if(n[s-1]){let c=n[0],d=n[s-1],f=n[s-2],h=i+c.indexOf(f),p=h+f.length-1,m=h+f.lastIndexOf(d),b=m+d.length;if(Yk(i,o,r).filter(k=>k.mark.type.excludes(e)).filter(k=>k.end>h).length)return null;b<p&&a.delete(b,p),m>h&&a.delete(h,m),l=h,u=l+d.length}return a.addMark(l,u,e.create()),a.removeStoredMark(e),a})}function Yk(t,e,r){let n=[];return r.doc.nodesBetween(t,e,(i,o)=>{n=[...n,...i.marks.map(a=>({start:o,end:o+i.nodeSize,mark:a}))]}),n}var gu=(t,e,r)=>{var n;let i=t.state,{from:o}=i.selection,{node:a}=t.domAtPos(o),s=a instanceof Text?a.parentElement:a;if(!(s instanceof HTMLElement))throw new Error;let l=s.getBoundingClientRect(),u=e.getBoundingClientRect(),c=(n=e.parentElement)==null?void 0:n.getBoundingClientRect();if(!c)throw new Error;let[d,f]=r(l,u,c);e.style.top=d+"px",e.style.left=f+"px"},bu=(t,e,r)=>{let n=t.state,{from:i,to:o}=n.selection,a=t.coordsAtPos(i),s=t.coordsAtPos(o),l=e.getBoundingClientRect(),u=e.parentElement;if(!u)throw new Error;let c=u.getBoundingClientRect(),[d,f]=r(a,s,l,c);e.style.top=d+"px",e.style.left=f+"px"},vd=t=>Object.assign(Object.create(t),t).setTime(Date.now()),Qk=(t,e)=>Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t;var eD=t=>e=>{for(let r=e.depth;r>0;r--){let n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}},H2=t=>e=>eD(t)(e.$from),tr=(t,e)=>{if(!(t instanceof ie))return;let{node:r,$from:n}=t;if(Qk(e,r))return{node:r,pos:n.pos,start:n.start(n.depth),depth:n.depth}};var yu=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),tD=(t,e,r)=>{let{$cursor:n}=t.selection;if(!n||(r?!r.endOfTextblock("backward",t):n.parentOffset>0))return!1;let i=W2(n);if(!i){let a=n.blockRange(),s=a&&Zo(a);return s==null?!1:(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&K2(t,i,e))return!0;if(n.parent.content.size==0&&(la(o,"end")||ie.isSelectable(o))){let a=au(t.doc,n.before(),n.after(),G.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection(la(o,"end")?ce.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):ie.create(s.doc,i.pos-o.nodeSize)),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function la(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}var rD=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;o=W2(n)}let a=o&&o.nodeBefore;return!a||!ie.isSelectable(a)?!1:(e&&e(t.tr.setSelection(ie.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function W2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}var nD=(t,e,r)=>{let{$cursor:n}=t.selection;if(!n||(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size))return!1;let i=U2(n);if(!i)return!1;let o=i.nodeAfter;if(K2(t,i,e))return!0;if(n.parent.content.size==0&&(la(o,"start")||ie.isSelectable(o))){let a=au(t.doc,n.before(),n.after(),G.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection(la(o,"start")?ce.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):ie.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},iD=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;o=U2(n)}let a=o&&o.nodeAfter;return!a||!ie.isSelectable(a)?!1:(e&&e(t.tr.setSelection(ie.create(t.doc,o.pos)).scrollIntoView()),!0)};function U2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}var oD=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Dd(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}var aD=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),a=Dd(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let s=r.after(),l=t.tr.replaceWith(s,s,a.createAndFill());l.setSelection(ce.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},sD=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof vt||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=Dd(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=t.tr.insert(a,o.createAndFill());s.setSelection(le.create(s.doc,a+1)),e(s.scrollIntoView())}return!0},lD=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(ao(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&Zo(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)},uD=(t,e)=>{let{$from:r,$to:n}=t.selection;if(t.selection instanceof ie&&t.selection.node.isBlock)return!r.parentOffset||!ao(t.doc,r.pos)?!1:(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){let i=n.parentOffset==n.parent.content.size,o=t.tr;(t.selection instanceof le||t.selection instanceof vt)&&o.deleteSelection();let a=r.depth==0?null:Dd(r.node(-1).contentMatchAt(r.indexAfter(-1))),s=i&&a?[{type:a}]:void 0,l=ao(o.doc,o.mapping.map(r.pos),1,s);if(!s&&!l&&ao(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(s=[{type:a}]),l=!0),l&&(o.split(o.mapping.map(r.pos),1,s),!i&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),c=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(c.index(),c.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}e(o.scrollIntoView())}return!0};var G2=(t,e)=>{let{$from:r,to:n}=t.selection,i,o=r.sharedDepth(n);return o==0?!1:(i=r.before(o),e&&e(t.tr.setSelection(ie.create(t.doc,i))),!0)},cD=(t,e)=>(e&&e(t.tr.setSelection(new vt(t.doc))),!0);function dD(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||gs(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function K2(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o,a;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(dD(t,e,r))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(o=(a=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(r){let d=e.pos+i.nodeSize,f=$.empty;for(let m=o.length-1;m>=0;m--)f=$.from(o[m].create(null,f));f=$.from(n.copy(f));let h=t.tr.step(new dt(e.pos-1,d,e.pos,d,new G(f,1,0),o.length,!0)),p=d+2*o.length;gs(h.doc,p)&&h.join(p),r(h.scrollIntoView())}return!0}let l=ce.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Zo(u);if(c!=null&&c>=e.depth)return r&&r(t.tr.lift(u,c).scrollIntoView()),!0;if(s&&la(i,"start",!0)&&la(n,"end")){let d=n,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(r){let m=$.empty;for(let x=f.length-1;x>=0;x--)m=$.from(f[x].copy(m));let b=t.tr.step(new dt(e.pos-f.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new G(m,f.length,0),0,!0));r(b.scrollIntoView())}return!0}}return!1}function J2(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(e.tr.setSelection(le.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}var fD=J2(-1),hD=J2(1);function kn(t,e=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=a&&ms(a,t,e);return s?(n&&n(r.tr.wrap(a,s).scrollIntoView()),!0):!1}}function ua(t,e=null){return function(r,n){let{from:i,to:o}=r.selection,a=!1;return r.doc.nodesBetween(i,o,(s,l)=>{if(a)return!1;if(!(!s.isTextblock||s.hasMarkup(t,e)))if(s.type==t)a=!0;else{let u=r.doc.resolve(l),c=u.index();a=u.parent.canReplaceWith(c,c+1,t)}}),a?(n&&n(r.tr.setBlockType(i,o,t,e).scrollIntoView()),!0):!1}}function pD(t,e,r){for(let n=0;n<e.length;n++){let{$from:i,$to:o}=e[n],a=i.depth==0?t.type.allowsMarkType(r):!1;if(t.nodesBetween(i.pos,o.pos,s=>{if(a)return!1;a=s.inlineContent&&s.type.allowsMarkType(r)}),a)return!0}return!1}function mo(t,e=null){return function(r,n){let{empty:i,$cursor:o,ranges:a}=r.selection;if(i&&!o||!pD(r.doc,a,t))return!1;if(n)if(o)t.isInSet(r.storedMarks||o.marks())?n(r.tr.removeStoredMark(t)):n(r.tr.addStoredMark(t.create(e)));else{let s=!1,l=r.tr;for(let u=0;!s&&u<a.length;u++){let{$from:c,$to:d}=a[u];s=r.doc.rangeHasMark(c.pos,d.pos,t)}for(let u=0;u<a.length;u++){let{$from:c,$to:d}=a[u];if(s)l.removeMark(c.pos,d.pos,t);else{let f=c.pos,h=d.pos,p=c.nodeAfter,m=d.nodeBefore,b=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,x=m&&m.isText?/\s*$/.exec(m.text)[0].length:0;f+b<h&&(f+=b,h-=x),l.addMark(f,h,t.create(e))}}n(l.scrollIntoView())}return!0}}function Es(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}var kd=Es(yu,tD,rD),V2=Es(yu,nD,iD),Qn={Enter:Es(oD,sD,lD,uD),"Mod-Enter":aD,Backspace:kd,"Mod-Backspace":kd,"Shift-Backspace":kd,Delete:V2,"Mod-Delete":V2,"Mod-a":cD},Z2={"Ctrl-h":Qn.Backspace,"Alt-Backspace":Qn["Mod-Backspace"],"Ctrl-d":Qn.Delete,"Ctrl-Alt-Backspace":Qn["Mod-Delete"],"Alt-Delete":Qn["Mod-Delete"],"Alt-d":Qn["Mod-Delete"],"Ctrl-a":fD,"Ctrl-e":hD};for(let t in Qn)Z2[t]=Qn[t];var mD=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,xu=mD?Z2:Qn;var ei={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},vu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},X2=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),gD=typeof navigator<"u"&&/Apple Computer/.test(navigator.vendor),bD=typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),Y2=typeof navigator<"u"&&/Mac/.test(navigator.platform),yD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),xD=X2&&(Y2||+X2[1]<57)||bD&&Y2;for(gt=0;gt<10;gt++)ei[48+gt]=ei[96+gt]=String(gt);var gt;for(gt=1;gt<=24;gt++)ei[gt+111]="F"+gt;var gt;for(gt=65;gt<=90;gt++)ei[gt]=String.fromCharCode(gt+32),vu[gt]=String.fromCharCode(gt);var gt;for(wu in ei)vu.hasOwnProperty(wu)||(vu[wu]=ei[wu]);var wu;function Q2(t){var e=xD&&(t.ctrlKey||t.altKey||t.metaKey)||(gD||yD)&&t.shiftKey&&t.key&&t.key.length==1,r=!e&&t.key||(t.shiftKey?vu:ei)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}var wD=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function vD(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))wD?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function kD(t){let e=Object.create(null);for(let r in t)e[vD(r)]=t[r];return e}function Cd(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}function an(t){return new _e({props:{handleKeyDown:Sd(t)}})}function Sd(t){let e=kD(t);return function(r,n){let i=Q2(n),o=i.length==1&&i!=" ",a,s=e[Cd(i,n,!o)];if(s&&s(r.state,r.dispatch,r))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=ei[n.keyCode])&&a!=i){let l=e[Cd(a,n,!0)];if(l&&l(r.state,r.dispatch,r))return!0}else if(o&&n.shiftKey){let l=e[Cd(i,n,!0)];if(l&&l(r.state,r.dispatch,r))return!0}return!1}}function _d(t){if(t)throw t}var w4=Qi(Ed(),1),Id=Qi(u4(),1);function Ms(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function c4(){let t=[],e={run:r,use:n};return e;function r(...i){let o=-1,a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...u){let c=t[++o],d=-1;if(l){a(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?DD(c,s)(...u):a(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function DD(t,e){let r;return n;function n(...a){let s=t.length>a.length,l;s&&a.push(i);try{l=t.apply(this,a)}catch(u){let c=u;if(s&&r)throw c;return i(c)}s||(l instanceof Promise?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){r||(r=!0,e(a,...s))}function o(a){i(null,a)}}var g4=Qi(Ed(),1);function go(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?d4(t.position):"start"in t||"end"in t?d4(t):"line"in t||"column"in t?Md(t):""}function Md(t){return f4(t&&t.line)+":"+f4(t&&t.column)}function d4(t){return Md(t&&t.start)+"-"+Md(t&&t.end)}function f4(t){return t&&typeof t=="number"?t:1}var rr=class extends Error{constructor(e,r,n){let i=[null,null],o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof r=="string"&&(n=r,r=void 0),typeof n=="string"){let a=n.indexOf(":");a===-1?i[1]=n:(i[0]=n.slice(0,a),i[1]=n.slice(a+1))}r&&("type"in r||"position"in r?r.position&&(o=r.position):"start"in r||"end"in r?o=r:("line"in r||"column"in r)&&(o.start=r)),this.name=go(r)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.source=i[0],this.ruleId=i[1],this.position=o,this.actual,this.expected,this.file,this.url,this.note}};rr.prototype.file="";rr.prototype.name="";rr.prototype.reason="";rr.prototype.message="";rr.prototype.stack="";rr.prototype.fatal=null;rr.prototype.column=null;rr.prototype.line=null;rr.prototype.source=null;rr.prototype.ruleId=null;rr.prototype.position=null;var sn={basename:CD,dirname:SD,extname:_D,join:ED,sep:"/"};function CD(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');As(t);let r=0,n=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(o){r=i+1;break}}else n<0&&(o=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(o){r=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.charCodeAt(i)===e.charCodeAt(s--)?s<0&&(n=i):(s=-1,n=a));return r===n?n=a:n<0&&(n=t.length),t.slice(r,n)}function SD(t){if(As(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.charCodeAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function _D(t){As(t);let e=t.length,r=-1,n=0,i=-1,o=0,a;for(;e--;){let s=t.charCodeAt(e);if(s===47){if(a){n=e+1;break}continue}r<0&&(a=!0,r=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function ED(...t){let e=-1,r;for(;++e<t.length;)As(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":MD(r)}function MD(t){As(t);let e=t.charCodeAt(0)===47,r=AD(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.charCodeAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function AD(t,e){let r="",n=0,i=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,o=0;continue}}else if(r.length>0){r="",n=0,i=a,o=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return r}function As(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}var h4={cwd:TD};function TD(){return"/"}function ca(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function p4(t){if(typeof t=="string")t=new URL(t);else if(!ca(t)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return FD(t)}function FD(t){if(t.hostname!==""){let n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}let e=t.pathname,r=-1;for(;++r<e.length;)if(e.charCodeAt(r)===37&&e.charCodeAt(r+1)===50){let n=e.charCodeAt(r+2);if(n===70||n===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}var Ad=["history","path","basename","stem","extname","dirname"],Ts=class{constructor(e){let r;e?typeof e=="string"||(0,g4.default)(e)?r={value:e}:ca(e)?r={path:e}:r=e:r={},this.data={},this.messages=[],this.history=[],this.cwd=h4.cwd(),this.value,this.stored,this.result,this.map;let n=-1;for(;++n<Ad.length;){let o=Ad[n];o in r&&r[o]!==void 0&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)Ad.includes(i)||(this[i]=r[i])}get path(){return this.history[this.history.length-1]}set path(e){ca(e)&&(e=p4(e)),Fd(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?sn.dirname(this.path):void 0}set dirname(e){m4(this.basename,"dirname"),this.path=sn.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?sn.basename(this.path):void 0}set basename(e){Fd(e,"basename"),Td(e,"basename"),this.path=sn.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?sn.extname(this.path):void 0}set extname(e){if(Td(e,"extname"),m4(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=sn.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?sn.basename(this.path,this.extname):void 0}set stem(e){Fd(e,"stem"),Td(e,"stem"),this.path=sn.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,r,n){let i=new rr(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,r,n){let i=this.message(e,r,n);return i.fatal=null,i}fail(e,r,n){let i=this.message(e,r,n);throw i.fatal=!0,i}};function Td(t,e){if(t&&t.includes(sn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+sn.sep+"`")}function Fd(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function m4(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}var Ld=k4().freeze(),v4={}.hasOwnProperty;function k4(){let t=c4(),e=[],r={},n,i=-1;return o.data=a,o.Parser=void 0,o.Compiler=void 0,o.freeze=s,o.attachers=e,o.use=l,o.parse=u,o.stringify=c,o.run=d,o.runSync=f,o.process=h,o.processSync=p,o;function o(){let m=k4(),b=-1;for(;++b<e.length;)m.use(...e[b]);return m.data((0,Id.default)(!0,{},r)),m}function a(m,b){return typeof m=="string"?arguments.length===2?(Nd("data",n),r[m]=b,o):v4.call(r,m)&&r[m]||null:m?(Nd("data",n),r=m,o):r}function s(){if(n)return o;for(;++i<e.length;){let[m,...b]=e[i];if(b[0]===!1)continue;b[0]===!0&&(b[0]=void 0);let x=m.call(o,...b);typeof x=="function"&&t.use(x)}return n=!0,i=Number.POSITIVE_INFINITY,o}function l(m,...b){let x;if(Nd("use",n),m!=null)if(typeof m=="function")O(m,...b);else if(typeof m=="object")Array.isArray(m)?z(m):D(m);else throw new TypeError("Expected usable value, not `"+m+"`");return x&&(r.settings=Object.assign(r.settings||{},x)),o;function k(E){if(typeof E=="function")O(E);else if(typeof E=="object")if(Array.isArray(E)){let[T,...N]=E;O(T,...N)}else D(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function D(E){z(E.plugins),E.settings&&(x=Object.assign(x||{},E.settings))}function z(E){let T=-1;if(E!=null)if(Array.isArray(E))for(;++T<E.length;){let N=E[T];k(N)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function O(E,T){let N=-1,R;for(;++N<e.length;)if(e[N][0]===E){R=e[N];break}R?(Ms(R[1])&&Ms(T)&&(T=(0,Id.default)(!0,R[1],T)),R[1]=T):e.push([...arguments])}}function u(m){o.freeze();let b=Fs(m),x=o.Parser;return Od("parse",x),b4(x,"parse")?new x(String(b),b).parse():x(String(b),b)}function c(m,b){o.freeze();let x=Fs(b),k=o.Compiler;return zd("stringify",k),y4(m),b4(k,"compile")?new k(m,x).compile():k(m,x)}function d(m,b,x){if(y4(m),o.freeze(),!x&&typeof b=="function"&&(x=b,b=void 0),!x)return new Promise(k);k(null,x);function k(D,z){t.run(m,Fs(b),O);function O(E,T,N){T=T||m,E?z(E):D?D(T):x(null,T,N)}}}function f(m,b){let x,k;return o.run(m,b,D),x4("runSync","run",k),x;function D(z,O){_d(z),x=O,k=!0}}function h(m,b){if(o.freeze(),Od("process",o.Parser),zd("process",o.Compiler),!b)return new Promise(x);x(null,b);function x(k,D){let z=Fs(m);o.run(o.parse(z),z,(E,T,N)=>{if(E||!T||!N)O(E);else{let R=o.stringify(T,N);R==null||(ND(R)?N.value=R:N.result=R),O(E,N)}});function O(E,T){E||!T?D(E):k?k(T):b(null,T)}}}function p(m){let b;o.freeze(),Od("processSync",o.Parser),zd("processSync",o.Compiler);let x=Fs(m);return o.process(x,k),x4("processSync","process",b),x;function k(D){b=!0,_d(D)}}}function b4(t,e){return typeof t=="function"&&t.prototype&&(OD(t.prototype)||e in t.prototype)}function OD(t){let e;for(e in t)if(v4.call(t,e))return!0;return!1}function Od(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function zd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Nd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function y4(t){if(!Ms(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function x4(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Fs(t){return zD(t)?t:new Ts(t)}function zD(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ND(t){return typeof t=="string"||(0,w4.default)(t)}function da(t,e){var{includeImageAlt:r=!0}=e||{};return C4(t,r)}function C4(t,e){return t&&typeof t=="object"&&(t.value||(e?t.alt:"")||"children"in t&&D4(t.children,e)||Array.isArray(t)&&D4(t,e))||""}function D4(t,e){for(var r=[],n=-1;++n<t.length;)r[n]=C4(t[n],e);return r.join("")}function ft(t,e,r,n){let i=t.length,o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(e,r),[].splice.apply(t,a);else for(r&&[].splice.apply(t,[e,r]);o<n.length;)a=n.slice(o,o+1e4),a.unshift(e,0),[].splice.apply(t,a),o+=1e4,e+=1e4}function nr(t,e){return t.length>0?(ft(t,t.length,0,e),t):e}var S4={}.hasOwnProperty;function Du(t){let e={},r=-1;for(;++r<t.length;)ID(e,t[r]);return e}function ID(t,e){let r;for(r in e){let i=(S4.call(t,r)?t[r]:void 0)||(t[r]={}),o=e[r],a;for(a in o){S4.call(i,a)||(i[a]=[]);let s=o[a];LD(i[a],Array.isArray(s)?s:s?[s]:[])}}}function LD(t,e){let r=-1,n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);ft(t,0,0,n)}var _4=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Vt=Ai(/[A-Za-z]/),bo=Ai(/\d/),E4=Ai(/[\dA-Fa-f]/),Dt=Ai(/[\dA-Za-z]/),M4=Ai(/[!-/:-@[-`{-~]/),Bd=Ai(/[#-'*+\--9=?A-Z^-~]/);function Mi(t){return t!==null&&(t<32||t===127)}function $e(t){return t!==null&&(t<0||t===32)}function W(t){return t!==null&&t<-2}function Ee(t){return t===-2||t===-1||t===32}var yo=Ai(/\s/),xo=Ai(_4);function Ai(t){return e;function e(r){return r!==null&&t.test(String.fromCharCode(r))}}function oe(t,e,r,n){let i=n?n-1:Number.POSITIVE_INFINITY,o=0;return a;function a(l){return Ee(l)?(t.enter(r),s(l)):e(l)}function s(l){return Ee(l)&&o++<i?(t.consume(l),s):(t.exit(r),e(l))}}var A4={tokenize:BD};function BD(t){let e=t.attempt(this.parser.constructs.contentInitial,n,i),r;return e;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),oe(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){let l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return W(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}var F4={tokenize:$D},T4={tokenize:RD};function $D(t){let e=this,r=[],n=0,i,o,a;return s;function s(D){if(n<r.length){let z=r[n];return e.containerState=z[1],t.attempt(z[0].continuation,l,u)(D)}return u(D)}function l(D){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&k();let z=e.events.length,O=z,E;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){E=e.events[O][1].end;break}x(n);let T=z;for(;T<e.events.length;)e.events[T][1].end=Object.assign({},E),T++;return ft(e.events,O+1,0,e.events.slice(z)),e.events.length=T,u(D)}return s(D)}function u(D){if(n===r.length){if(!i)return f(D);if(i.currentConstruct&&i.currentConstruct.concrete)return p(D);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(T4,c,d)(D)}function c(D){return i&&k(),x(n),f(D)}function d(D){return e.parser.lazy[e.now().line]=n!==r.length,a=e.now().offset,p(D)}function f(D){return e.containerState={},t.attempt(T4,h,p)(D)}function h(D){return n++,r.push([e.currentConstruct,e.containerState]),f(D)}function p(D){if(D===null){i&&k(),x(0),t.consume(D);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),m(D)}function m(D){if(D===null){b(t.exit("chunkFlow"),!0),x(0),t.consume(D);return}return W(D)?(t.consume(D),b(t.exit("chunkFlow")),n=0,e.interrupt=void 0,s):(t.consume(D),m)}function b(D,z){let O=e.sliceStream(D);if(z&&O.push(null),D.previous=o,o&&(o.next=D),o=D,i.defineSkip(D.start),i.write(O),e.parser.lazy[D.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<a&&(!i.events[E][1].end||i.events[E][1].end.offset>a))return;let T=e.events.length,N=T,R,X;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(R){X=e.events[N][1].end;break}R=!0}for(x(n),E=T;E<e.events.length;)e.events[E][1].end=Object.assign({},X),E++;ft(e.events,N+1,0,e.events.slice(T)),e.events.length=E}}function x(D){let z=r.length;for(;z-- >D;){let O=r[z];e.containerState=O[1],O[0].exit.call(e,t)}r.length=D}function k(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function RD(t,e,r){return oe(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fa(t){if(t===null||$e(t)||yo(t))return 1;if(xo(t))return 2}function Ti(t,e,r){let n=[],i=-1;for(;++i<t.length;){let o=t[i].resolveAll;o&&!n.includes(o)&&(e=o(e,r),n.push(o))}return e}var Os={name:"attention",tokenize:jD,resolveAll:PD};function PD(t,e){let r=-1,n,i,o,a,s,l,u,c;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;let d=Object.assign({},t[n][1].end),f=Object.assign({},t[r][1].start);O4(d,-l),O4(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[n][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[r][1].start),end:f},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[n][1].end),end:Object.assign({},t[r][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},s.end)},t[n][1].end=Object.assign({},a.start),t[r][1].start=Object.assign({},s.end),u=[],t[n][1].end.offset-t[n][1].start.offset&&(u=nr(u,[["enter",t[n][1],e],["exit",t[n][1],e]])),u=nr(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),u=nr(u,Ti(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),u=nr(u,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(c=2,u=nr(u,[["enter",t[r][1],e],["exit",t[r][1],e]])):c=0,ft(t,n-1,r-n+3,u),r=n+u.length-c-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function jD(t,e){let r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=fa(n),o;return a;function a(l){return t.enter("attentionSequence"),o=l,s(l)}function s(l){if(l===o)return t.consume(l),s;let u=t.exit("attentionSequence"),c=fa(l),d=!c||c===2&&i||r.includes(l),f=!i||i===2&&c||r.includes(n);return u._open=Boolean(o===42?d:d&&(i||!f)),u._close=Boolean(o===42?f:f&&(c||!d)),e(l)}}function O4(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var $d={name:"autolink",tokenize:qD};function qD(t,e,r){let n=1;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return Vt(p)?(t.consume(p),a):Bd(p)?u(p):r(p)}function a(p){return p===43||p===45||p===46||Dt(p)?s(p):u(p)}function s(p){return p===58?(t.consume(p),l):(p===43||p===45||p===46||Dt(p))&&n++<32?(t.consume(p),s):u(p)}function l(p){return p===62?(t.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||Mi(p)?r(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),n=0,c):Bd(p)?(t.consume(p),u):r(p)}function c(p){return Dt(p)?d(p):r(p)}function d(p){return p===46?(t.consume(p),n=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",h(p)):f(p)}function f(p){return(p===45||Dt(p))&&n++<63?(t.consume(p),p===45?f:d):r(p)}function h(p){return t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e}}var Dn={tokenize:HD,partial:!0};function HD(t,e,r){return oe(t,n,"linePrefix");function n(i){return i===null||W(i)?e(i):r(i)}}var Cu={name:"blockQuote",tokenize:VD,continuation:{tokenize:WD},exit:UD};function VD(t,e,r){let n=this;return i;function i(a){if(a===62){let s=n.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return r(a)}function o(a){return Ee(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function WD(t,e,r){return oe(t,t.attempt(Cu,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function UD(t){t.exit("blockQuote")}var Su={name:"characterEscape",tokenize:GD};function GD(t,e,r){return n;function n(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return M4(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(o)}}var z4=document.createElement("i");function ha(t){let e="&"+t+";";z4.innerHTML=e;let r=z4.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}var _u={name:"characterReference",tokenize:KD};function KD(t,e,r){let n=this,i=0,o,a;return s;function s(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,a=Dt,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=E4,c):(t.enter("characterReferenceValue"),o=7,a=bo,c(d))}function c(d){let f;return d===59&&i?(f=t.exit("characterReferenceValue"),a===Dt&&!ha(n.sliceSerialize(f))?r(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):a(d)&&i++<o?(t.consume(d),c):r(d)}}var Eu={name:"codeFenced",tokenize:JD,concrete:!0};function JD(t,e,r){let n=this,i={tokenize:O,partial:!0},o={tokenize:z,partial:!0},a=this.events[this.events.length-1],s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0,u;return c;function c(E){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u=E,d(E)}function d(E){return E===u?(t.consume(E),l++,d):(t.exit("codeFencedFenceSequence"),l<3?r(E):oe(t,f,"whitespace")(E))}function f(E){return E===null||W(E)?b(E):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||$e(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),oe(t,p,"whitespace")(E)):E===96&&E===u?r(E):(t.consume(E),h)}function p(E){return E===null||W(E)?b(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||W(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(E)):E===96&&E===u?r(E):(t.consume(E),m)}function b(E){return t.exit("codeFencedFence"),n.interrupt?e(E):x(E)}function x(E){return E===null?D(E):W(E)?t.attempt(o,t.attempt(i,D,s?oe(t,x,"linePrefix",s+1):x),D)(E):(t.enter("codeFlowValue"),k(E))}function k(E){return E===null||W(E)?(t.exit("codeFlowValue"),x(E)):(t.consume(E),k)}function D(E){return t.exit("codeFenced"),e(E)}function z(E,T,N){let R=this;return X;function X(ne){return E.enter("lineEnding"),E.consume(ne),E.exit("lineEnding"),K}function K(ne){return R.parser.lazy[R.now().line]?N(ne):T(ne)}}function O(E,T,N){let R=0;return oe(E,X,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function X(H){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),K(H)}function K(H){return H===u?(E.consume(H),R++,K):R<l?N(H):(E.exit("codeFencedFenceSequence"),oe(E,ne,"whitespace")(H))}function ne(H){return H===null||W(H)?(E.exit("codeFencedFence"),T(H)):N(H)}}}var zs={name:"codeIndented",tokenize:XD},ZD={tokenize:YD,partial:!0};function XD(t,e,r){let n=this;return i;function i(u){return t.enter("codeIndented"),oe(t,o,"linePrefix",4+1)(u)}function o(u){let c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):r(u)}function a(u){return u===null?l(u):W(u)?t.attempt(ZD,a,l)(u):(t.enter("codeFlowValue"),s(u))}function s(u){return u===null||W(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),s)}function l(u){return t.exit("codeIndented"),e(u)}}function YD(t,e,r){let n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):W(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):oe(t,o,"linePrefix",4+1)(a)}function o(a){let s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):W(a)?i(a):r(a)}}var Rd={name:"codeText",tokenize:tC,resolve:QD,previous:eC};function QD(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function eC(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tC(t,e,r){let n=this,i=0,o,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),l(f)}function l(f){return f===96?(t.consume(f),i++,l):(t.exit("codeTextSequence"),u(f))}function u(f){return f===null?r(f):f===96?(a=t.enter("codeTextSequence"),o=0,d(f)):f===32?(t.enter("space"),t.consume(f),t.exit("space"),u):W(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||W(f)?(t.exit("codeTextData"),u(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),o++,d):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}function Mu(t){let e={},r=-1,n,i,o,a,s,l,u;for(;++r<t.length;){for(;r in e;)r=e[r];if(n=t[r],r&&n[1].type==="chunkFlow"&&t[r-1][1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,rC(t,r)),r=e[r],u=!0);else if(n[1]._container){for(o=r,i=void 0;o--&&(a=t[o],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);i&&(n[1].end=Object.assign({},t[i][1].start),s=t.slice(i,r),s.unshift(n),ft(t,i,r-i+1,s))}}return!u}function rC(t,e){let r=t[e][1],n=t[e][2],i=e-1,o=[],a=r._tokenizer||n.parser[r.contentType](r.start),s=a.events,l=[],u={},c,d,f=-1,h=r,p=0,m=0,b=[m];for(;h;){for(;t[++i][1]!==h;);o.push(i),h._tokenizer||(c=n.sliceStream(h),h.next||c.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=r;++f<s.length;)s[f][0]==="exit"&&s[f-1][0]==="enter"&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(m=f+1,b.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),f=b.length;f--;){let x=s.slice(b[f],b[f+1]),k=o.pop();l.unshift([k,k+x.length-1]),ft(t,k,2,x)}for(f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}var Pd={tokenize:oC,resolve:iC},nC={tokenize:aC,partial:!0};function iC(t){return Mu(t),t}function oC(t,e){let r;return n;function n(s){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):W(s)?t.check(nC,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function aC(t,e,r){let n=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),oe(t,o,"linePrefix")}function o(a){if(a===null||W(a))return r(a);let s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(n.parser.constructs.flow,r,e)(a)}}function Au(t,e,r,n,i,o,a,s,l){let u=l||Number.POSITIVE_INFINITY,c=0;return d;function d(x){return x===60?(t.enter(n),t.enter(i),t.enter(o),t.consume(x),t.exit(o),f):x===null||x===41||Mi(x)?r(x):(t.enter(n),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),m(x))}function f(x){return x===62?(t.enter(o),t.consume(x),t.exit(o),t.exit(i),t.exit(n),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),h(x))}function h(x){return x===62?(t.exit("chunkString"),t.exit(s),f(x)):x===null||x===60||W(x)?r(x):(t.consume(x),x===92?p:h)}function p(x){return x===60||x===62||x===92?(t.consume(x),h):h(x)}function m(x){return x===40?++c>u?r(x):(t.consume(x),m):x===41?c--?(t.consume(x),m):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(n),e(x)):x===null||$e(x)?c?r(x):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(n),e(x)):Mi(x)?r(x):(t.consume(x),x===92?b:m)}function b(x){return x===40||x===41||x===92?(t.consume(x),m):m(x)}}function Tu(t,e,r,n,i,o){let a=this,s=0,l;return u;function u(h){return t.enter(n),t.enter(i),t.consume(h),t.exit(i),t.enter(o),c}function c(h){return h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs||s>999?r(h):h===93?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(n),e):W(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||W(h)||s++>999?(t.exit("chunkString"),c(h)):(t.consume(h),l=l||!Ee(h),h===92?f:d)}function f(h){return h===91||h===92||h===93?(t.consume(h),s++,d):d(h)}}function Fu(t,e,r,n,i,o){let a;return s;function s(f){return t.enter(n),t.enter(i),t.consume(f),t.exit(i),a=f===40?41:f,l}function l(f){return f===a?(t.enter(i),t.consume(f),t.exit(i),t.exit(n),e):(t.enter(o),u(f))}function u(f){return f===a?(t.exit(o),l(a)):f===null?r(f):W(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),oe(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||W(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:c)}function d(f){return f===a||f===92?(t.consume(f),c):c(f)}}function wo(t,e){let r;return n;function n(i){return W(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):Ee(i)?oe(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}function Wt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var jd={name:"definition",tokenize:lC},sC={tokenize:uC,partial:!0};function lC(t,e,r){let n=this,i;return o;function o(l){return t.enter("definition"),Tu.call(n,t,a,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function a(l){return i=Wt(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),wo(t,Au(t,t.attempt(sC,oe(t,s,"whitespace"),oe(t,s,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(l)}function s(l){return l===null||W(l)?(t.exit("definition"),n.parser.defined.includes(i)||n.parser.defined.push(i),e(l)):r(l)}}function uC(t,e,r){return n;function n(a){return $e(a)?wo(t,i)(a):r(a)}function i(a){return a===34||a===39||a===40?Fu(t,oe(t,o,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString")(a):r(a)}function o(a){return a===null||W(a)?e(a):r(a)}}var qd={name:"hardBreakEscape",tokenize:cC};function cC(t,e,r){return n;function n(o){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(o),i}function i(o){return W(o)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(o)):r(o)}}var Hd={name:"headingAtx",tokenize:fC,resolve:dC};function dC(t,e){let r=t.length-2,n=3,i,o;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},o={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},ft(t,n,r-n+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function fC(t,e,r){let n=this,i=0;return o;function o(c){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&i++<6?(t.consume(c),a):c===null||$e(c)?(t.exit("atxHeadingSequence"),n.interrupt?e(c):s(c)):r(c)}function s(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||W(c)?(t.exit("atxHeading"),e(c)):Ee(c)?oe(t,s,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||$e(c)?(t.exit("atxHeadingText"),s(c)):(t.consume(c),u)}}var N4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Vd=["pre","script","style","textarea"];var Wd={name:"htmlFlow",tokenize:mC,resolveTo:pC,concrete:!0},hC={tokenize:gC,partial:!0};function pC(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function mC(t,e,r){let n=this,i,o,a,s,l;return u;function u(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),c}function c(A){return A===33?(t.consume(A),d):A===47?(t.consume(A),p):A===63?(t.consume(A),i=3,n.interrupt?e:tt):Vt(A)?(t.consume(A),a=String.fromCharCode(A),o=!0,m):r(A)}function d(A){return A===45?(t.consume(A),i=2,f):A===91?(t.consume(A),i=5,a="CDATA[",s=0,h):Vt(A)?(t.consume(A),i=4,n.interrupt?e:tt):r(A)}function f(A){return A===45?(t.consume(A),n.interrupt?e:tt):r(A)}function h(A){return A===a.charCodeAt(s++)?(t.consume(A),s===a.length?n.interrupt?e:K:h):r(A)}function p(A){return Vt(A)?(t.consume(A),a=String.fromCharCode(A),m):r(A)}function m(A){return A===null||A===47||A===62||$e(A)?A!==47&&o&&Vd.includes(a.toLowerCase())?(i=1,n.interrupt?e(A):K(A)):N4.includes(a.toLowerCase())?(i=6,A===47?(t.consume(A),b):n.interrupt?e(A):K(A)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(A):o?k(A):x(A)):A===45||Dt(A)?(t.consume(A),a+=String.fromCharCode(A),m):r(A)}function b(A){return A===62?(t.consume(A),n.interrupt?e:K):r(A)}function x(A){return Ee(A)?(t.consume(A),x):R(A)}function k(A){return A===47?(t.consume(A),R):A===58||A===95||Vt(A)?(t.consume(A),D):Ee(A)?(t.consume(A),k):R(A)}function D(A){return A===45||A===46||A===58||A===95||Dt(A)?(t.consume(A),D):z(A)}function z(A){return A===61?(t.consume(A),O):Ee(A)?(t.consume(A),z):k(A)}function O(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(t.consume(A),l=A,E):Ee(A)?(t.consume(A),O):(l=null,T(A))}function E(A){return A===null||W(A)?r(A):A===l?(t.consume(A),N):(t.consume(A),E)}function T(A){return A===null||A===34||A===39||A===60||A===61||A===62||A===96||$e(A)?z(A):(t.consume(A),T)}function N(A){return A===47||A===62||Ee(A)?k(A):r(A)}function R(A){return A===62?(t.consume(A),X):r(A)}function X(A){return Ee(A)?(t.consume(A),X):A===null||W(A)?K(A):r(A)}function K(A){return A===45&&i===2?(t.consume(A),ke):A===60&&i===1?(t.consume(A),L):A===62&&i===4?(t.consume(A),xe):A===63&&i===3?(t.consume(A),tt):A===93&&i===5?(t.consume(A),De):W(A)&&(i===6||i===7)?t.check(hC,xe,ne)(A):A===null||W(A)?ne(A):(t.consume(A),K)}function ne(A){return t.exit("htmlFlowData"),H(A)}function H(A){return A===null?M(A):W(A)?t.attempt({tokenize:re,partial:!0},H,M)(A):(t.enter("htmlFlowData"),K(A))}function re(A,Pt,Vn){return kr;function kr(jt){return A.enter("lineEnding"),A.consume(jt),A.exit("lineEnding"),pi}function pi(jt){return n.parser.lazy[n.now().line]?Vn(jt):Pt(jt)}}function ke(A){return A===45?(t.consume(A),tt):K(A)}function L(A){return A===47?(t.consume(A),a="",et):K(A)}function et(A){return A===62&&Vd.includes(a.toLowerCase())?(t.consume(A),xe):Vt(A)&&a.length<8?(t.consume(A),a+=String.fromCharCode(A),et):K(A)}function De(A){return A===93?(t.consume(A),tt):K(A)}function tt(A){return A===62?(t.consume(A),xe):A===45&&i===2?(t.consume(A),tt):K(A)}function xe(A){return A===null||W(A)?(t.exit("htmlFlowData"),M(A)):(t.consume(A),xe)}function M(A){return t.exit("htmlFlow"),e(A)}}function gC(t,e,r){return n;function n(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(Dn,e,r)}}var Ud={name:"htmlText",tokenize:bC};function bC(t,e,r){let n=this,i,o,a,s;return l;function l(M){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(M),u}function u(M){return M===33?(t.consume(M),c):M===47?(t.consume(M),T):M===63?(t.consume(M),O):Vt(M)?(t.consume(M),X):r(M)}function c(M){return M===45?(t.consume(M),d):M===91?(t.consume(M),o="CDATA[",a=0,b):Vt(M)?(t.consume(M),z):r(M)}function d(M){return M===45?(t.consume(M),f):r(M)}function f(M){return M===null||M===62?r(M):M===45?(t.consume(M),h):p(M)}function h(M){return M===null||M===62?r(M):p(M)}function p(M){return M===null?r(M):M===45?(t.consume(M),m):W(M)?(s=p,De(M)):(t.consume(M),p)}function m(M){return M===45?(t.consume(M),xe):p(M)}function b(M){return M===o.charCodeAt(a++)?(t.consume(M),a===o.length?x:b):r(M)}function x(M){return M===null?r(M):M===93?(t.consume(M),k):W(M)?(s=x,De(M)):(t.consume(M),x)}function k(M){return M===93?(t.consume(M),D):x(M)}function D(M){return M===62?xe(M):M===93?(t.consume(M),D):x(M)}function z(M){return M===null||M===62?xe(M):W(M)?(s=z,De(M)):(t.consume(M),z)}function O(M){return M===null?r(M):M===63?(t.consume(M),E):W(M)?(s=O,De(M)):(t.consume(M),O)}function E(M){return M===62?xe(M):O(M)}function T(M){return Vt(M)?(t.consume(M),N):r(M)}function N(M){return M===45||Dt(M)?(t.consume(M),N):R(M)}function R(M){return W(M)?(s=R,De(M)):Ee(M)?(t.consume(M),R):xe(M)}function X(M){return M===45||Dt(M)?(t.consume(M),X):M===47||M===62||$e(M)?K(M):r(M)}function K(M){return M===47?(t.consume(M),xe):M===58||M===95||Vt(M)?(t.consume(M),ne):W(M)?(s=K,De(M)):Ee(M)?(t.consume(M),K):xe(M)}function ne(M){return M===45||M===46||M===58||M===95||Dt(M)?(t.consume(M),ne):H(M)}function H(M){return M===61?(t.consume(M),re):W(M)?(s=H,De(M)):Ee(M)?(t.consume(M),H):K(M)}function re(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(t.consume(M),i=M,ke):W(M)?(s=re,De(M)):Ee(M)?(t.consume(M),re):(t.consume(M),i=void 0,et)}function ke(M){return M===i?(t.consume(M),L):M===null?r(M):W(M)?(s=ke,De(M)):(t.consume(M),ke)}function L(M){return M===62||M===47||$e(M)?K(M):r(M)}function et(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===62||$e(M)?K(M):(t.consume(M),et)}function De(M){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),oe(t,tt,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tt(M){return t.enter("htmlTextData"),s(M)}function xe(M){return M===62?(t.consume(M),t.exit("htmlTextData"),t.exit("htmlText"),e):r(M)}}var vo={name:"labelEnd",tokenize:DC,resolveTo:kC,resolveAll:vC},yC={tokenize:CC},xC={tokenize:SC},wC={tokenize:_C};function vC(t){let e=-1,r;for(;++e<t.length;)r=t[e][1],(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(t.splice(e+1,r.type==="labelImage"?4:2),r.type="data",e++);return t}function kC(t,e){let r=t.length,n=0,i,o,a,s;for(;r--;)if(i=t[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);let l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[a][1].end)},c={type:"labelText",start:Object.assign({},t[o+n+2][1].end),end:Object.assign({},t[a-2][1].start)};return s=[["enter",l,e],["enter",u,e]],s=nr(s,t.slice(o+1,o+n+3)),s=nr(s,[["enter",c,e]]),s=nr(s,Ti(e.parser.constructs.insideSpan.null,t.slice(o+n+4,a-3),e)),s=nr(s,[["exit",c,e],t[a-2],t[a-1],["exit",u,e]]),s=nr(s,t.slice(a+1)),s=nr(s,[["exit",l,e]]),ft(t,o,t.length,s),t}function DC(t,e,r){let n=this,i=n.events.length,o,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){o=n.events[i][1];break}return s;function s(c){return o?o._inactive?u(c):(a=n.parser.defined.includes(Wt(n.sliceSerialize({start:o.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelEnd"),l):r(c)}function l(c){return c===40?t.attempt(yC,e,a?e:u)(c):c===91?t.attempt(xC,e,a?t.attempt(wC,e,u):u)(c):a?e(c):u(c)}function u(c){return o._balanced=!0,r(c)}}function CC(t,e,r){return n;function n(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),wo(t,i)}function i(l){return l===41?s(l):Au(t,o,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function o(l){return $e(l)?wo(t,a)(l):s(l)}function a(l){return l===34||l===39||l===40?Fu(t,wo(t,s),r,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):s(l)}function s(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):r(l)}}function SC(t,e,r){let n=this;return i;function i(a){return Tu.call(n,t,o,r,"reference","referenceMarker","referenceString")(a)}function o(a){return n.parser.defined.includes(Wt(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(a):r(a)}}function _C(t,e,r){return n;function n(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):r(o)}}var Gd={name:"labelStartImage",tokenize:EC,resolveAll:vo.resolveAll};function EC(t,e,r){let n=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):r(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):e(s)}}var Kd={name:"labelStartLink",tokenize:MC,resolveAll:vo.resolveAll};function MC(t,e,r){let n=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}var Ns={name:"lineEnding",tokenize:AC};function AC(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),oe(t,e,"linePrefix")}}var ko={name:"thematicBreak",tokenize:TC};function TC(t,e,r){let n=0,i;return o;function o(l){return t.enter("thematicBreak"),i=l,a(l)}function a(l){return l===i?(t.enter("thematicBreakSequence"),s(l)):Ee(l)?oe(t,a,"whitespace")(l):n<3||l!==null&&!W(l)?r(l):(t.exit("thematicBreak"),e(l))}function s(l){return l===i?(t.consume(l),n++,s):(t.exit("thematicBreakSequence"),a(l))}}var Ut={name:"list",tokenize:zC,continuation:{tokenize:NC},exit:LC},FC={tokenize:BC,partial:!0},OC={tokenize:IC,partial:!0};function zC(t,e,r){let n=this,i=n.events[n.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(h){let p=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:bo(h)){if(n.containerState.type||(n.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(ko,r,u)(h):u(h);if(!n.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return r(h)}function l(h){return bo(h)&&++a<10?(t.consume(h),l):(!n.interrupt||a<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),u(h)):r(h)}function u(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,t.check(Dn,n.interrupt?r:c,t.attempt(FC,f,d))}function c(h){return n.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return Ee(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),f):r(h)}function f(h){return n.containerState.size=o+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function NC(t,e,r){let n=this;return n.containerState._closeFlow=void 0,t.check(Dn,i,o);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,oe(t,e,"listItemIndent",n.containerState.size+1)(s)}function o(s){return n.containerState.furtherBlankLines||!Ee(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(OC,e,a)(s))}function a(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,oe(t,t.attempt(Ut,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function IC(t,e,r){let n=this;return oe(t,i,"listItemIndent",n.containerState.size+1);function i(o){let a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?e(o):r(o)}}function LC(t){t.exit(this.containerState.type)}function BC(t,e,r){let n=this;return oe(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){let a=n.events[n.events.length-1];return!Ee(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):r(o)}}var Ou={name:"setextUnderline",tokenize:RC,resolveTo:$C};function $C(t,e){let r=t.length,n,i,o;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!o&&t[r][1].type==="definition"&&(o=r);let a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[n][1],e]),t[n][1].end=Object.assign({},t[o][1].end)):t[n][1]=a,t.push(["exit",a,e]),t}function RC(t,e,r){let n=this,i=n.events.length,o,a;for(;i--;)if(n.events[i][1].type!=="lineEnding"&&n.events[i][1].type!=="linePrefix"&&n.events[i][1].type!=="content"){a=n.events[i][1].type==="paragraph";break}return s;function s(c){return!n.parser.lazy[n.now().line]&&(n.interrupt||a)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),o=c,l(c)):r(c)}function l(c){return c===o?(t.consume(c),l):(t.exit("setextHeadingLineSequence"),oe(t,u,"lineSuffix")(c))}function u(c){return c===null||W(c)?(t.exit("setextHeadingLine"),e(c)):r(c)}}var I4={tokenize:PC};function PC(t){let e=this,r=t.attempt(Dn,n,t.attempt(this.parser.constructs.flowInitial,i,oe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Pd,i)),"linePrefix")));return r;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,r}}var L4={resolveAll:P4()},B4=R4("string"),$4=R4("text");function R4(t){return{tokenize:e,resolveAll:P4(t==="text"?jC:void 0)};function e(r){let n=this,i=this.parser.constructs[t],o=r.attempt(i,a,s);return a;function a(c){return u(c)?o(c):s(c)}function s(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),l}function l(c){return u(c)?(r.exit("data"),o(c)):(r.consume(c),l)}function u(c){if(c===null)return!0;let d=i[c],f=-1;if(d)for(;++f<d.length;){let h=d[f];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function P4(t){return e;function e(r,n){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(r,n):r}}function jC(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){let n=t[r-1][1],i=e.sliceStream(n),o=i.length,a=-1,s=0,l;for(;o--;){let u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(u===-2)l=!0,s++;else if(u!==-1){o++;break}}if(s){let u={type:r===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-s,offset:n.end.offset-s,_index:n.start._index+o,_bufferIndex:o?a:n.start._bufferIndex+a},end:Object.assign({},n.end)};n.end=Object.assign({},u.start),n.start.offset===n.end.offset?Object.assign(n,u):(t.splice(r,0,["enter",u,e],["exit",u,e]),r+=2)}r++}return t}function j4(t,e,r){let n=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},o=[],a=[],s=[],l=!0,u={consume:z,enter:O,exit:E,attempt:R(T),check:R(N),interrupt:R(N,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:b,defineSkip:x,write:h},d=e.tokenize.call(c,u),f;return e.resolveAll&&o.push(e),c;function h(H){return a=nr(a,H),k(),a[a.length-1]!==null?[]:(X(e,0),c.events=Ti(o,c.events,c),c.events)}function p(H,re){return HC(m(H),re)}function m(H){return qC(a,H)}function b(){return Object.assign({},n)}function x(H){i[H.line]=H.column,ne()}function k(){let H;for(;n._index<a.length;){let re=a[n._index];if(typeof re=="string")for(H=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===H&&n._bufferIndex<re.length;)D(re.charCodeAt(n._bufferIndex));else D(re)}}function D(H){l=void 0,f=H,d=d(H)}function z(H){W(H)?(n.line++,n.column=1,n.offset+=H===-3?2:1,ne()):H!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=H,l=!0}function O(H,re){let ke=re||{};return ke.type=H,ke.start=b(),c.events.push(["enter",ke,c]),s.push(ke),ke}function E(H){let re=s.pop();return re.end=b(),c.events.push(["exit",re,c]),re}function T(H,re){X(H,re.from)}function N(H,re){re.restore()}function R(H,re){return ke;function ke(L,et,De){let tt,xe,M,A;return Array.isArray(L)?Vn(L):"tokenize"in L?Vn([L]):Pt(L);function Pt(Je){return hn;function hn(hr){let mi=hr!==null&&Je[hr],gi=hr!==null&&Je.null,Bo=[...Array.isArray(mi)?mi:mi?[mi]:[],...Array.isArray(gi)?gi:gi?[gi]:[]];return Vn(Bo)(hr)}}function Vn(Je){return tt=Je,xe=0,Je.length===0?De:kr(Je[xe])}function kr(Je){return hn;function hn(hr){return A=K(),M=Je,Je.partial||(c.currentConstruct=Je),Je.name&&c.parser.constructs.disable.null.includes(Je.name)?jt(hr):Je.tokenize.call(re?Object.assign(Object.create(c),re):c,u,pi,jt)(hr)}}function pi(Je){return l=!0,H(M,A),et}function jt(Je){return l=!0,A.restore(),++xe<tt.length?kr(tt[xe]):De}}}function X(H,re){H.resolveAll&&!o.includes(H)&&o.push(H),H.resolve&&ft(c.events,re,c.events.length-re,H.resolve(c.events.slice(re),c)),H.resolveTo&&(c.events=H.resolveTo(c.events,c))}function K(){let H=b(),re=c.previous,ke=c.currentConstruct,L=c.events.length,et=Array.from(s);return{restore:De,from:L};function De(){n=H,c.previous=re,c.currentConstruct=ke,c.events.length=L,s=et,ne()}}function ne(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function qC(t,e){let r=e.start._index,n=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex,a;return r===i?a=[t[r].slice(n,o)]:(a=t.slice(r,i),n>-1&&(a[0]=a[0].slice(n)),o>0&&a.push(t[i].slice(0,o))),a}function HC(t,e){let r=-1,n=[],i;for(;++r<t.length;){let o=t[r],a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,n.push(a)}return n.join("")}var Jd={};ow(Jd,{attentionMarkers:()=>XC,contentInitial:()=>WC,disable:()=>YC,document:()=>VC,flow:()=>GC,flowInitial:()=>UC,insideSpan:()=>ZC,string:()=>KC,text:()=>JC});var VC={[42]:Ut,[43]:Ut,[45]:Ut,[48]:Ut,[49]:Ut,[50]:Ut,[51]:Ut,[52]:Ut,[53]:Ut,[54]:Ut,[55]:Ut,[56]:Ut,[57]:Ut,[62]:Cu},WC={[91]:jd},UC={[-2]:zs,[-1]:zs,[32]:zs},GC={[35]:Hd,[42]:ko,[45]:[Ou,ko],[60]:Wd,[61]:Ou,[95]:ko,[96]:Eu,[126]:Eu},KC={[38]:_u,[92]:Su},JC={[-5]:Ns,[-4]:Ns,[-3]:Ns,[33]:Gd,[38]:_u,[42]:Os,[60]:[$d,Ud],[91]:Kd,[92]:[qd,Su],[93]:vo,[95]:Os,[96]:Rd},ZC={null:[Os,L4]},XC={null:[42,95]},YC={null:[]};function q4(t={}){let e=Du([Jd].concat(t.extensions||[])),r={defined:[],lazy:{},constructs:e,content:n(A4),document:n(F4),flow:n(I4),string:n(B4),text:n($4)};return r;function n(i){return o;function o(a){return j4(r,i,a)}}}var H4=/[\0\t\n\r]/g;function V4(){let t=1,e="",r=!0,n;return i;function i(o,a,s){let l=[],u,c,d,f,h;for(o=e+o.toString(a),d=0,e="",r&&(o.charCodeAt(0)===65279&&d++,r=void 0);d<o.length;){if(H4.lastIndex=d,u=H4.exec(o),f=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(f),!u){e=o.slice(d);break}if(h===10&&d===f&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),d<f&&(l.push(o.slice(d,f)),t+=f-d),h){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}d=f+1}return s&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}function W4(t){for(;!Mu(t););return t}function zu(t,e){let r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCharCode(r)}var QC=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Nu(t){return t.replace(QC,eS)}function eS(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){let i=r.charCodeAt(1),o=i===120||i===88;return zu(r.slice(o?2:1),o?16:10)}return ha(r)||t}var Zd={}.hasOwnProperty,Xd=function(t,e,r){return typeof e!="string"&&(r=e,e=void 0),tS(r)(W4(q4(r).document().write(V4()(t,e,!0))))};function tS(t={}){let e=G4({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(bm),autolinkProtocol:ne,autolinkEmail:ne,atxHeading:l($o),blockQuote:l(gi),characterEscape:ne,characterReference:ne,codeFenced:l(Bo),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Bo,u),codeText:l(Xa,u),codeTextData:ne,data:ne,codeFlowValue:ne,definition:l(vl),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(kl),hardBreakEscape:l(Xi),hardBreakTrailing:l(Xi),htmlFlow:l(Yi,u),htmlFlowData:ne,htmlText:l(Yi,u),htmlTextData:ne,image:l(Kx),label:u,link:l(bm),listItem:l(Jx),listItemValue:m,listOrdered:l(ym,p),listUnordered:l(ym),paragraph:l(Zx),reference:pi,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l($o),strong:l(Xx),thematicBreak:l(Qx)},exit:{atxHeading:d(),atxHeadingSequence:N,autolink:d(),autolinkEmail:mi,autolinkProtocol:hr,blockQuote:d(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:Je,characterReferenceMarkerNumeric:Je,characterReferenceValue:hn,codeFenced:d(D),codeFencedFence:k,codeFencedFenceInfo:b,codeFencedFenceMeta:x,codeFlowValue:H,codeIndented:d(z),codeText:d(De),codeTextData:H,data:H,definition:d(),definitionDestinationString:T,definitionLabelString:O,definitionTitleString:E,emphasis:d(),hardBreakEscape:d(ke),hardBreakTrailing:d(ke),htmlFlow:d(L),htmlFlowData:H,htmlText:d(et),htmlTextData:H,image:d(xe),label:A,labelText:M,lineEnding:re,link:d(tt),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:jt,resourceDestinationString:Pt,resourceTitleString:Vn,resource:kr,setextHeading:d(K),setextHeadingLineSequence:X,setextHeadingText:R,strong:d(),thematicBreak:d()}},t.mdastExtensions||[]),r={};return n;function n(B){let Z={type:"root",children:[]},me=[Z],He=[],Ir=[],Ya={stack:me,tokenStack:He,config:e,enter:c,exit:f,buffer:u,resume:h,setData:o,getData:a},Ze=-1;for(;++Ze<B.length;)if(B[Ze][1].type==="listOrdered"||B[Ze][1].type==="listUnordered")if(B[Ze][0]==="enter")Ir.push(Ze);else{let Tt=Ir.pop();Ze=i(B,Tt,Ze)}for(Ze=-1;++Ze<B.length;){let Tt=e[B[Ze][0]];Zd.call(Tt,B[Ze][1].type)&&Tt[B[Ze][1].type].call(Object.assign({sliceSerialize:B[Ze][2].sliceSerialize},Ya),B[Ze][1])}if(He.length>0){let Tt=He[He.length-1];(Tt[1]||U4).call(Ya,void 0,Tt[0])}for(Z.position={start:s(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:s(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)Z=e.transforms[Ze](Z)||Z;return Z}function i(B,Z,me){let He=Z-1,Ir=-1,Ya=!1,Ze,Tt,Ro,Qa;for(;++He<=me;){let ct=B[He];if(ct[1].type==="listUnordered"||ct[1].type==="listOrdered"||ct[1].type==="blockQuote"?(ct[0]==="enter"?Ir++:Ir--,Qa=void 0):ct[1].type==="lineEndingBlank"?ct[0]==="enter"&&(Ze&&!Qa&&!Ir&&!Ro&&(Ro=He),Qa=void 0):ct[1].type==="linePrefix"||ct[1].type==="listItemValue"||ct[1].type==="listItemMarker"||ct[1].type==="listItemPrefix"||ct[1].type==="listItemPrefixWhitespace"||(Qa=void 0),!Ir&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||Ir===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(Ze){let s0=He;for(Tt=void 0;s0--;){let Wn=B[s0];if(Wn[1].type==="lineEnding"||Wn[1].type==="lineEndingBlank"){if(Wn[0]==="exit")continue;Tt&&(B[Tt][1].type="lineEndingBlank",Ya=!0),Wn[1].type="lineEnding",Tt=s0}else if(!(Wn[1].type==="linePrefix"||Wn[1].type==="blockQuotePrefix"||Wn[1].type==="blockQuotePrefixWhitespace"||Wn[1].type==="blockQuoteMarker"||Wn[1].type==="listItemIndent"))break}Ro&&(!Tt||Ro<Tt)&&(Ze._spread=!0),Ze.end=Object.assign({},Tt?B[Tt][1].start:ct[1].end),B.splice(Tt||He,0,["exit",Ze,ct[2]]),He++,me++}ct[1].type==="listItemPrefix"&&(Ze={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start)},B.splice(He,0,["enter",Ze,ct[2]]),He++,me++,Ro=void 0,Qa=!0)}}return B[Z][1]._spread=Ya,me}function o(B,Z){r[B]=Z}function a(B){return r[B]}function s(B){return{line:B.line,column:B.column,offset:B.offset}}function l(B,Z){return me;function me(He){c.call(this,B(He),He),Z&&Z.call(this,He)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(B,Z,me){return this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([Z,me]),B.position={start:s(Z.start)},B}function d(B){return Z;function Z(me){B&&B.call(this,me),f.call(this,me)}}function f(B,Z){let me=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==B.type&&(Z?Z.call(this,B,He[0]):(He[1]||U4).call(this,B,He[0]));else throw new Error("Cannot close `"+B.type+"` ("+go({start:B.start,end:B.end})+"): it’s not open");return me.position.end=s(B.end),me}function h(){return da(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function m(B){if(a("expectingFirstListItemValue")){let Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(B),10),o("expectingFirstListItemValue")}}function b(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=B}function x(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=B}function k(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function D(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function z(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.value=B.replace(/(\r?\n|\r)$/g,"")}function O(B){let Z=this.resume(),me=this.stack[this.stack.length-1];me.label=Z,me.identifier=Wt(this.sliceSerialize(B)).toLowerCase()}function E(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.title=B}function T(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.url=B}function N(B){let Z=this.stack[this.stack.length-1];if(!Z.depth){let me=this.sliceSerialize(B).length;Z.depth=me}}function R(){o("setextHeadingSlurpLineEnding",!0)}function X(B){let Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(B).charCodeAt(0)===61?1:2}function K(){o("setextHeadingSlurpLineEnding")}function ne(B){let Z=this.stack[this.stack.length-1],me=Z.children[Z.children.length-1];(!me||me.type!=="text")&&(me=Yx(),me.position={start:s(B.start)},Z.children.push(me)),this.stack.push(me)}function H(B){let Z=this.stack.pop();Z.value+=this.sliceSerialize(B),Z.position.end=s(B.end)}function re(B){let Z=this.stack[this.stack.length-1];if(a("atHardBreak")){let me=Z.children[Z.children.length-1];me.position.end=s(B.end),o("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(Z.type)&&(ne.call(this,B),H.call(this,B))}function ke(){o("atHardBreak",!0)}function L(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.value=B}function et(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.value=B}function De(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.value=B}function tt(){let B=this.stack[this.stack.length-1];a("inReference")?(B.type+="Reference",B.referenceType=a("referenceType")||"shortcut",delete B.url,delete B.title):(delete B.identifier,delete B.label),o("referenceType")}function xe(){let B=this.stack[this.stack.length-1];a("inReference")?(B.type+="Reference",B.referenceType=a("referenceType")||"shortcut",delete B.url,delete B.title):(delete B.identifier,delete B.label),o("referenceType")}function M(B){let Z=this.stack[this.stack.length-2],me=this.sliceSerialize(B);Z.label=Nu(me),Z.identifier=Wt(me).toLowerCase()}function A(){let B=this.stack[this.stack.length-1],Z=this.resume(),me=this.stack[this.stack.length-1];o("inReference",!0),me.type==="link"?me.children=B.children:me.alt=Z}function Pt(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.url=B}function Vn(){let B=this.resume(),Z=this.stack[this.stack.length-1];Z.title=B}function kr(){o("inReference")}function pi(){o("referenceType","collapsed")}function jt(B){let Z=this.resume(),me=this.stack[this.stack.length-1];me.label=Z,me.identifier=Wt(this.sliceSerialize(B)).toLowerCase(),o("referenceType","full")}function Je(B){o("characterReferenceType",B.type)}function hn(B){let Z=this.sliceSerialize(B),me=a("characterReferenceType"),He;me?(He=zu(Z,me==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):He=ha(Z);let Ir=this.stack.pop();Ir.value+=He,Ir.position.end=s(B.end)}function hr(B){H.call(this,B);let Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(B)}function mi(B){H.call(this,B);let Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(B)}function gi(){return{type:"blockquote",children:[]}}function Bo(){return{type:"code",lang:null,meta:null,value:""}}function Xa(){return{type:"inlineCode",value:""}}function vl(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kl(){return{type:"emphasis",children:[]}}function $o(){return{type:"heading",depth:void 0,children:[]}}function Xi(){return{type:"break"}}function Yi(){return{type:"html",value:""}}function Kx(){return{type:"image",title:null,url:"",alt:null}}function bm(){return{type:"link",title:null,url:"",children:[]}}function ym(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function Jx(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function Zx(){return{type:"paragraph",children:[]}}function Xx(){return{type:"strong",children:[]}}function Yx(){return{type:"text",value:""}}function Qx(){return{type:"thematicBreak"}}}function G4(t,e){let r=-1;for(;++r<e.length;){let n=e[r];Array.isArray(n)?G4(t,n):rS(t,n)}return t}function rS(t,e){let r;for(r in e)if(Zd.call(e,r)){let n=r==="canContainEols"||r==="transforms",o=(Zd.call(t,r)?t[r]:void 0)||(t[r]=n?[]:{}),a=e[r];a&&(n?t[r]=[...o,...a]:Object.assign(o,a))}}function U4(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+go({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+go({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+go({start:e.start,end:e.end})+") is still open")}function Yd(t){Object.assign(this,{Parser:r=>{let n=this.data("settings");return Xd(r,Object.assign({},n,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var K4=Yd;var J4={}.hasOwnProperty;function Z4(t,e){var r=e||{};function n(i){var o=n.invalid,a=n.handlers;if(i&&J4.call(i,t)&&(o=J4.call(a,i[t])?a[i[t]]:n.unknown),o)return o.apply(this,arguments)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function Is(t,e){let r=-1,n;if(e.extensions)for(;++r<e.extensions.length;)Is(t,e.extensions[r]);for(n in e)n==="extensions"||(n==="unsafe"||n==="join"?t[n]=[...t[n]||[],...e[n]||[]]:n==="handlers"?t[n]=Object.assign(t[n],e[n]||{}):t.options[n]=e[n]);return t}function Oe(t){let e=t||{},r=e.now||{},n=e.lineShift||0,i=r.line||1,o=r.column||1;return{move:l,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:n}}function s(u){n+=u}function l(u=""){let c=u.split(/\r?\n|\r/g),d=c[c.length-1];return i+=c.length-1,o=c.length===1?o+d.length:1+d.length+n,u}}function Cn(t,e,r){let n=e.indexStack,i=t.children||[],o=Oe(r),a=[],s=-1;for(n.push(-1);++s<i.length;){let u=i[s];n[n.length-1]=s,a.push(o.move(e.handle(u,t,e,{before:`
`,after:`
`,...o.current()}))),u.type!=="list"&&(e.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move(l(u,i[s+1])))}return n.pop(),a.join("");function l(u,c){let d=e.join.length;for(;d--;){let f=e.join[d](u,c,t,e);if(f===!0||f===1)break;if(typeof f=="number")return`
`.repeat(1+f);if(f===!1)return`

<!---->

`}return`

`}}var nS=/\r?\n|\r/g;function Fi(t,e){let r=[],n=0,i=0,o;for(;o=nS.exec(t);)a(t.slice(n,o.index)),r.push(o[0]),n=o.index+o[0].length,i++;return a(t.slice(n)),r.join("");function a(s){r.push(e(s,i,!s))}}function X4(t,e,r,n){let i=r.enter("blockquote"),o=Oe(n);o.move("> "),o.shift(2);let a=Fi(Cn(t,r,o.current()),iS);return i(),a}function iS(t,e,r){return">"+(r?"":" ")+t}function Iu(t,e){return Y4(t,e.inConstruct,!0)&&!Y4(t,e.notInConstruct,!1)}function Y4(t,e,r){if(!e)return r;typeof e=="string"&&(e=[e]);let n=-1;for(;++n<e.length;)if(t.includes(e[n]))return!0;return!1}function Qd(t,e,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Iu(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Lu(t,e){let r=String(t),n=r.indexOf(e),i=n,o=0,a=0;if(typeof e!="string"||e.length!==1)throw new Error("Expected character");for(;n!==-1;)n===i?++o>a&&(a=o):o=1,i=n+1,n=r.indexOf(e,i);return a}function Ls(t,e){return Boolean(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Q4(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Bu(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Pe(t,e,r){let n=(r.before||"")+(e||"")+(r.after||""),i=[],o=[],a={},s=-1;for(;++s<t.unsafe.length;){let c=t.unsafe[s];if(!Iu(t.stack,c))continue;let d=Bu(c),f;for(;f=d.exec(n);){let h="before"in c||Boolean(c.atBreak),p="after"in c,m=f.index+(h?f[1].length:0);i.includes(m)?(a[m].before&&!h&&(a[m].before=!1),a[m].after&&!p&&(a[m].after=!1)):(i.push(m),a[m]={before:h,after:p})}}i.sort(oS);let l=r.before?r.before.length:0,u=n.length-(r.after?r.after.length:0);for(s=-1;++s<i.length;){let c=i[s];c<l||c>=u||c+1<u&&i[s+1]===c+1&&a[c].after&&!a[c+1].before&&!a[c+1].after||i[s-1]===c-1&&a[c].before&&!a[c-1].before&&!a[c-1].after||(l!==c&&o.push(e3(n.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(n.charAt(c))&&(!r.encode||!r.encode.includes(n.charAt(c)))?o.push("\\"):(o.push("&#x"+n.charCodeAt(c).toString(16).toUpperCase()+";"),l++))}return o.push(e3(n.slice(l,u),r.after)),o.join("")}function oS(t,e){return t-e}function e3(t,e){let r=/\\(?=[!-/:-@[-`{-~])/g,n=[],i=[],o=t+e,a=-1,s=0,l;for(;l=r.exec(o);)n.push(l.index);for(;++a<n.length;)s!==n[a]&&i.push(t.slice(s,n[a])),i.push("\\"),s=n[a];return i.push(t.slice(s)),i.join("")}function t3(t,e,r,n){let i=Q4(r),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Ls(t,r)){let d=r.enter("codeIndented"),f=Fi(o,aS);return d(),f}let s=Oe(n),l=i.repeat(Math.max(Lu(o,i)+1,3)),u=r.enter("codeFenced"),c=s.move(l);if(t.lang){let d=r.enter("codeFencedLang"+a);c+=s.move(Pe(r,t.lang,{before:c,after:" ",encode:["`"],...s.current()})),d()}if(t.lang&&t.meta){let d=r.enter("codeFencedMeta"+a);c+=s.move(" "),c+=s.move(Pe(r,t.meta,{before:c,after:`
`,encode:["`"],...s.current()})),d()}return c+=s.move(`
`),o&&(c+=s.move(o+`
`)),c+=s.move(l),u(),c}function aS(t,e,r){return(r?"":"    ")+t}function ti(t){return t.label||!t.identifier?t.label||"":Nu(t.identifier)}function pa(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function r3(t,e,r,n){let i=pa(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("definition"),s=r.enter("label"),l=Oe(n),u=l.move("[");return u+=l.move(Pe(r,ti(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(Pe(r,t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=r.enter("destinationRaw"),u+=l.move(Pe(r,t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),s(),t.title&&(s=r.enter("title"+o),u+=l.move(" "+i),u+=l.move(Pe(r,t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),a(),u}function n3(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Ct(t,e,r){let n=e.indexStack,i=t.children||[],o=[],a=-1,s=r.before;n.push(-1);let l=Oe(r);for(;++a<i.length;){let u=i[a],c;if(n[n.length-1]=a,a+1<i.length){let d=e.handle.handlers[i[a+1].type];d&&d.peek&&(d=d.peek),c=d?d(i[a+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else c=r.after;o.length>0&&(s==="\r"||s===`
`)&&u.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",l=Oe(r),l.move(o.join(""))),o.push(l.move(e.handle(u,t,e,{...l.current(),before:s,after:c}))),s=o[o.length-1].slice(-1)}return n.pop(),o.join("")}ef.peek=sS;function ef(t,e,r,n){let i=n3(r),o=r.enter("emphasis"),a=Oe(n),s=a.move(i);return s+=a.move(Ct(t,r,{before:s,after:i,...a.current()})),s+=a.move(i),o(),s}function sS(t,e,r){return r.options.emphasis||"*"}var Bs=function(t){if(t==null)return dS;if(typeof t=="string")return cS(t);if(typeof t=="object")return Array.isArray(t)?lS(t):uS(t);if(typeof t=="function")return $u(t);throw new Error("Expected function, string, or object as test")};function lS(t){let e=[],r=-1;for(;++r<t.length;)e[r]=Bs(t[r]);return $u(n);function n(...i){let o=-1;for(;++o<e.length;)if(e[o].call(this,...i))return!0;return!1}}function uS(t){return $u(e);function e(r){let n;for(n in t)if(r[n]!==t[n])return!1;return!0}}function cS(t){return $u(e);function e(r){return r&&r.type===t}}function $u(t){return e;function e(...r){return Boolean(t.call(this,...r))}}function dS(){return!0}var i3=!0,Rs="skip",$s=!1,Ru=function(t,e,r,n){typeof e=="function"&&typeof r!="function"&&(n=r,r=e,e=null);let i=Bs(e),o=n?-1:1;a(t,null,[])();function a(s,l,u){let c=typeof s=="object"&&s!==null?s:{},d;return typeof c.type=="string"&&(d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(f,"name",{value:"node ("+(c.type+(d?"<"+d+">":""))+")"})),f;function f(){let h=[],p,m,b;if((!e||i(s,l,u[u.length-1]||null))&&(h=fS(r(s,u)),h[0]===$s))return h;if(s.children&&h[0]!==Rs)for(m=(n?s.children.length:-1)+o,b=u.concat(s);m>-1&&m<s.children.length;){if(p=a(s.children[m],m,b)(),p[0]===$s)return p;m=typeof p[1]=="number"?p[1]:m+o}return h}}};function fS(t){return Array.isArray(t)?t:typeof t=="number"?[i3,t]:[t]}var Oi=function(t,e,r,n){typeof e=="function"&&typeof r!="function"&&(n=r,r=e,e=null),Ru(t,e,i,n);function i(o,a){let s=a[a.length-1];return r(o,s?s.children.indexOf(o):null,s)}};function Pu(t,e){let r=!1;return Oi(t,n=>{if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,$s}),Boolean((!t.depth||t.depth<3)&&da(t)&&(e.options.setext||r))}function o3(t,e,r,n){let i=Math.max(Math.min(6,t.depth||1),1),o=Oe(n);if(Pu(t,r)){let c=r.enter("headingSetext"),d=r.enter("phrasing"),f=Ct(t,r,{...o.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}let a="#".repeat(i),s=r.enter("headingAtx"),l=r.enter("phrasing");o.move(a+" ");let u=Ct(t,r,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?a+" "+u:a,r.options.closeAtx&&(u+=" "+a),l(),s(),u}tf.peek=hS;function tf(t){return t.value||""}function hS(){return"<"}rf.peek=pS;function rf(t,e,r,n){let i=pa(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("image"),s=r.enter("label"),l=Oe(n),u=l.move("![");return u+=l.move(Pe(r,t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(Pe(r,t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=r.enter("destinationRaw"),u+=l.move(Pe(r,t.url,{before:u,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=r.enter("title"+o),u+=l.move(" "+i),u+=l.move(Pe(r,t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),a(),u}function pS(){return"!"}nf.peek=mS;function nf(t,e,r,n){let i=t.referenceType,o=r.enter("imageReference"),a=r.enter("label"),s=Oe(n),l=s.move("!["),u=Pe(r,t.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();let c=r.stack;r.stack=[],a=r.enter("reference");let d=Pe(r,ti(t),{before:l,after:"]",...s.current()});return a(),r.stack=c,o(),i==="full"||!u||u!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function mS(){return"!"}Ps.peek=gS;function Ps(t,e,r){let n=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++o<r.unsafe.length;){let a=r.unsafe[o],s=Bu(a),l;if(!!a.atBreak)for(;l=s.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return i+n+i}function gS(){return"`"}function of(t,e){let r=da(t);return Boolean(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}af.peek=bS;function af(t,e,r,n){let i=pa(r),o=i==='"'?"Quote":"Apostrophe",a=Oe(n),s,l;if(of(t,r)){let c=r.stack;r.stack=[],s=r.enter("autolink");let d=a.move("<");return d+=a.move(Ct(t,r,{before:d,after:">",...a.current()})),d+=a.move(">"),s(),r.stack=c,d}s=r.enter("link"),l=r.enter("label");let u=a.move("[");return u+=a.move(Ct(t,r,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=r.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(Pe(r,t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=r.enter("destinationRaw"),u+=a.move(Pe(r,t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=r.enter("title"+o),u+=a.move(" "+i),u+=a.move(Pe(r,t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),s(),u}function bS(t,e,r){return of(t,r)?"<":"["}sf.peek=yS;function sf(t,e,r,n){let i=t.referenceType,o=r.enter("linkReference"),a=r.enter("label"),s=Oe(n),l=s.move("["),u=Ct(t,r,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();let c=r.stack;r.stack=[],a=r.enter("reference");let d=Pe(r,ti(t),{before:l,after:"]",...s.current()});return a(),r.stack=c,o(),i==="full"||!u||u!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function yS(){return"["}function ma(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function a3(t){let e=ma(t),r=t.options.bulletOther;if(!r)return e==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+r+"`) to be different");return r}function ju(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function s3(t){let e=ju(t),r=t.options.bulletOrderedOther;if(!r)return e==="."?")":".";if(r!=="."&&r!==")")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+r+"`) to be different");return r}function qu(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function l3(t,e,r,n){let i=r.enter("list"),o=r.bulletCurrent,a=t.ordered?ju(r):ma(r),s=t.ordered?s3(r):a3(r),l=r.bulletLastUsed,u=!1;if(e&&(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther)&&l&&a===l&&(u=!0),!t.ordered){let d=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),qu(r)===a&&d){let f=-1;for(;++f<t.children.length;){let h=t.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=s),r.bulletCurrent=a;let c=Cn(t,r,n);return r.bulletLastUsed=a,r.bulletCurrent=o,i(),c}function u3(t){let e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Hu(t,e,r,n){let i=u3(r),o=r.bulletCurrent||ma(r);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);let s=Oe(n);s.move(o+" ".repeat(a-o.length)),s.shift(a);let l=r.enter("listItem"),u=Fi(Cn(t,r,s.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(a))+d:(h?o:o+" ".repeat(a-o.length))+d}}function c3(t,e,r,n){let i=r.enter("paragraph"),o=r.enter("phrasing"),a=Ct(t,r,n);return o(),i(),a}function d3(t,e,r,n){return Cn(t,r,n)}function f3(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}lf.peek=xS;function lf(t,e,r,n){let i=f3(r),o=r.enter("strong"),a=Oe(n),s=a.move(i+i);return s+=a.move(Ct(t,r,{before:s,after:i,...a.current()})),s+=a.move(i+i),o(),s}function xS(t,e,r){return r.options.strong||"*"}function h3(t,e,r,n){return Pe(r,t.value,n)}function p3(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function m3(t,e,r){let n=(qu(r)+(r.options.ruleSpaces?" ":"")).repeat(p3(r));return r.options.ruleSpaces?n.slice(0,-1):n}var g3={blockquote:X4,break:Qd,code:t3,definition:r3,emphasis:ef,hardBreak:Qd,heading:o3,html:tf,image:rf,imageReference:nf,inlineCode:Ps,link:af,linkReference:sf,list:l3,listItem:Hu,paragraph:c3,root:d3,strong:lf,text:h3,thematicBreak:m3};var b3=[wS];function wS(t,e,r,n){if(e.type==="code"&&Ls(e,n)&&(t.type==="list"||t.type===e.type&&Ls(t,n))||t.type==="list"&&t.type===e.type&&Boolean(t.ordered)===Boolean(e.ordered)&&!(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther))return!1;if("spread"in r&&typeof r.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Pu(e,n))?void 0:r.spread?1:0}var Do=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],y3=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Do},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Do},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing",notInConstruct:Do},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Do},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Do},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Do},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Do},{atBreak:!0,character:"~"}];function uf(t,e={}){let r={enter:i,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};Is(r,{unsafe:y3,join:b3,handlers:g3}),Is(r,e),r.options.tightDefinitions&&Is(r,{join:[DS]}),r.handle=Z4("type",{invalid:vS,unknown:kS,handlers:r.handlers});let n=r.handle(t,null,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return n&&n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n;function i(o){return r.stack.push(o),a;function a(){r.stack.pop()}}}function vS(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function kS(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function DS(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function cf(t){Object.assign(this,{Compiler:r=>{let n=this.data("settings");return uf(r,Object.assign({},n,t,{extensions:this.data("toMarkdownExtensions")||[]}))}})}var x3=cf;var df=Ld().use(K4).use(x3).freeze();var CS=Object.defineProperty,SS=Object.defineProperties,_S=Object.getOwnPropertyDescriptors,Wu=Object.getOwnPropertySymbols,D3=Object.prototype.hasOwnProperty,C3=Object.prototype.propertyIsEnumerable,w3=(t,e,r)=>e in t?CS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Uu=(t,e)=>{for(var r in e||(e={}))D3.call(e,r)&&w3(t,r,e[r]);if(Wu)for(var r of Wu(e))C3.call(e,r)&&w3(t,r,e[r]);return t},gf=(t,e)=>SS(t,_S(e)),v3=(t,e)=>{var r={};for(var n in t)D3.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Wu)for(var n of Wu(t))e.indexOf(n)<0&&C3.call(t,n)&&(r[n]=t[n]);return r},ES=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ga=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},zi=(t,e,r)=>(ES(t,e,"access private method"),r),bf,S3,ff,_3,Gu,yf,xf,E3,wf,M3,Vu,hf,A3=()=>{let t=o=>o.elements.length,e=o=>o.elements[t(o)-1];return{size:t,top:e,push:o=>a=>{var s;(s=e(o))==null||s.push(a)},open:o=>a=>{o.elements.push(a)},close:o=>{let a=o.elements.pop();if(!a)throw k0();return a}}},MS=(t,e,...r)=>{t.content.push(e,...r)},AS=t=>t.content.pop(),TS=(t,e,r)=>{let n={type:t,content:e,attrs:r,push:(...i)=>MS(n,...i),pop:()=>AS(n)};return n},{size:FS,push:OS,top:zS,open:NS,close:IS}=A3(),k3=t=>t.isText,LS=(t,e,r)=>{if(k3(e)&&k3(r)&&Fe.sameSet(e.marks,r.marks))return t.text(e.text+r.text,e.marks)},BS=t=>(e,r)=>NS(t)(TS(e,[],r)),T3=t=>(e,r,n)=>{let i=e.createAndFill(r,n,t.marks);if(!i)throw P1(e,r,n);return OS(t)(i),i},F3=t=>()=>{t.marks=Fe.none;let e=IS(t);return T3(t)(e.type,e.attrs,e.content)},$S=t=>(e,r)=>{let n=e.create(r);t.marks=n.addToSet(t.marks)},RS=t=>e=>{t.marks=e.removeFromSet(t.marks)},PS=t=>e=>{let r=zS(t);if(!r)throw k0();let n=r.pop(),i=t.schema.text(e,t.marks);if(!n){r.push(i);return}let o=LS(t.schema,n,i);if(o){r.push(o);return}r.push(n,i)},jS=t=>()=>{let e;do e=F3(t)();while(FS(t));return e},qS=t=>{let e={marks:[],elements:[],schema:t};return{build:jS(e),openMark:$S(e),closeMark:RS(e),addText:PS(e),openNode:BS(e),addNode:T3(e),closeNode:F3(e)}},pf=class{constructor(e,r,n){ga(this,bf),ga(this,ff),this.stack=e,this.schema=r,this.specMap=n,this.run=(i,o)=>{let a=i.runSync(i.parse(o));return this.next(a),this},this.next=(i=[])=>([i].flat().forEach(o=>zi(this,ff,_3).call(this,o)),this),this.toDoc=()=>this.stack.build(),this.injectRoot=(i,o,a)=>(this.stack.openNode(o,a),this.next(i.children),this),this.addText=(i="")=>(this.stack.addText(i),this),this.addNode=(...i)=>(this.stack.addNode(...i),this),this.openNode=(...i)=>(this.stack.openNode(...i),this),this.closeNode=(...i)=>(this.stack.closeNode(...i),this),this.openMark=(...i)=>(this.stack.openMark(...i),this),this.closeMark=(...i)=>(this.stack.closeMark(...i),this)}};bf=new WeakSet;S3=function(t){let e=Object.values(this.specMap).find(r=>r.match(t));if(!e)throw j1(t);return e};ff=new WeakSet;_3=function(t){let{key:e,runner:r,is:n}=zi(this,bf,S3).call(this,t),i=this.schema[n==="node"?"nodes":"marks"][e];r(this,t,i)};var O3=(t,e,r)=>n=>{let i=new pf(qS(t),t,e);return i.run(r,n),i.toDoc()},HS=(t,e,...r)=>{t.children||(t.children=[]),t.children.push(e,...r)},VS=t=>{var e;return(e=t.children)==null?void 0:e.pop()},z3=(t,e,r,n={})=>{let i={type:t,children:e,props:n,value:r,push:(...o)=>HS(i,...o),pop:()=>VS(i)};return i},{size:WS,push:US,open:GS,close:KS}=A3(),N3=t=>{let{children:e}=t;return e&&(t.children=e.reduce((r,n,i)=>{if(i===0)return[n];let o=r[r.length-1];if(o&&n.isMark&&n.type===o.type){let a=n,{children:s}=a,l=v3(a,["children"]),u=o,{children:c}=u,d=v3(u,["children"]);if(s&&c&&JSON.stringify(l)===JSON.stringify(d)){let f=gf(Uu({},d),{children:[...c,...s]});return r.slice(0,-1).concat(N3(f))}}return r.concat(n)},[])),t},JS=t=>{let e=gf(Uu({},t.props),{type:t.type});return t.children&&(e.children=t.children),t.value&&(e.value=t.value),e},I3=t=>(e,r,n)=>GS(t)(z3(e,[],r,n)),L3=t=>(e,r,n,i)=>{let o=z3(e,r,n,i),a=N3(JS(o));return US(t)(a),a},vf=t=>()=>{let e=KS(t);return L3(t)(e.type,e.children,e.value,e.props)},ZS=t=>(e,r,n,i)=>{e.isInSet(t.marks)||(t.marks=e.addToSet(t.marks),I3(t)(r,n,gf(Uu({},i),{isMark:!0})))},XS=t=>e=>e.isInSet(t.marks)?(t.marks=e.type.removeFromSet(t.marks),vf(t)()):null,YS=t=>()=>{let e=null;do e=vf(t)();while(WS(t));return e},QS=()=>{let t={marks:[],elements:[]};return{build:YS(t),openMark:ZS(t),closeMark:XS(t),openNode:I3(t),addNode:L3(t),closeNode:vf(t)}},e_=t=>Object.prototype.hasOwnProperty.call(t,"size"),mf=class{constructor(e,r,n){ga(this,Gu),ga(this,xf),ga(this,wf),ga(this,Vu),this.stack=e,this.schema=r,this.specMap=n,this.toString=i=>i.stringify(this.stack.build()),this.next=i=>e_(i)?(i.forEach(o=>{zi(this,Vu,hf).call(this,o)}),this):(zi(this,Vu,hf).call(this,i),this),this.addNode=(...i)=>(this.stack.addNode(...i),this),this.openNode=(...i)=>(this.stack.openNode(...i),this),this.closeNode=(...i)=>(this.stack.closeNode(...i),this),this.withMark=(...i)=>(this.stack.openMark(...i),this)}run(e){return this.next(e),this}};Gu=new WeakSet;yf=function(t){let e=Object.entries(this.specMap).map(([r,n])=>Uu({key:r},n)).find(r=>r.match(t));if(!e)throw q1(t.type);return e};xf=new WeakSet;E3=function(t){let{runner:e}=zi(this,Gu,yf).call(this,t);e(this,t)};wf=new WeakSet;M3=function(t,e){let{runner:r}=zi(this,Gu,yf).call(this,t);return r(this,t,e)};Vu=new WeakSet;hf=function(t){let{marks:e}=t,r=o=>{var a;return(a=o.type.spec.priority)!=null?a:50};[...e].sort((o,a)=>r(o)-r(a)).every(o=>!zi(this,wf,M3).call(this,o,t))&&zi(this,xf,E3).call(this,t),e.forEach(o=>this.stack.closeMark(o))};var B3=(t,e,r)=>n=>{let i=new mf(QS(),t,e);return i.run(n),i.toString(r)};globalThis.process&&!globalThis.process.env&&(globalThis.process.env={});function t_(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function r_(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $3=function(){function t(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(r_(this));var i=this.tags[this.tags.length-1];if(!1)var o;if(this.isSpeedy){var a=t_(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}();var St="-ms-",ba="-moz-",Ie="-webkit-",Ku="comm",ya="rule",xa="decl";var R3="@import";var Ju="@keyframes";var P3=Math.abs,Co=String.fromCharCode,j3=Object.assign;function q3(t,e){return(((e<<2^Nt(t,0))<<2^Nt(t,1))<<2^Nt(t,2))<<2^Nt(t,3)}function Zu(t){return t.trim()}function H3(t,e){return(t=e.exec(t))?t[0]:t}function Le(t,e,r){return t.replace(e,r)}function js(t,e){return t.indexOf(e)}function Nt(t,e){return t.charCodeAt(e)|0}function Ni(t,e,r){return t.slice(e,r)}function ir(t){return t.length}function wa(t){return t.length}function va(t,e){return e.push(t),t}function V3(t,e){return t.map(e).join("")}var Xu=1,ka=1,W3=0,or=0,bt=0,Ca="";function qs(t,e,r,n,i,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:Xu,column:ka,length:a,return:""}}function Sa(t,e){return j3(qs("",null,null,"",null,null,0),t,{length:-t.length},e)}function U3(){return bt}function G3(){return bt=or>0?Nt(Ca,--or):0,ka--,bt===10&&(ka=1,Xu--),bt}function ar(){return bt=or<W3?Nt(Ca,or++):0,ka++,bt===10&&(ka=1,Xu++),bt}function Hr(){return Nt(Ca,or)}function Hs(){return or}function _a(t,e){return Ni(Ca,t,e)}function Da(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yu(t){return Xu=ka=1,W3=ir(Ca=t),or=0,[]}function Qu(t){return Ca="",t}function Ea(t){return Zu(_a(or-1,kf(t===91?t+2:t===40?t+1:t)))}function K3(t){for(;(bt=Hr())&&bt<33;)ar();return Da(t)>2||Da(bt)>3?"":" "}function J3(t,e){for(;--e&&ar()&&!(bt<48||bt>102||bt>57&&bt<65||bt>70&&bt<97););return _a(t,Hs()+(e<6&&Hr()==32&&ar()==32))}function kf(t){for(;ar();)switch(bt){case t:return or;case 34:case 39:t!==34&&t!==39&&kf(bt);break;case 40:t===41&&kf(t);break;case 92:ar();break}return or}function Z3(t,e){for(;ar()&&t+bt!==47+10;)if(t+bt===42+42&&Hr()===47)break;return"/*"+_a(e,or-1)+"*"+Co(t===47?t:ar())}function X3(t){for(;!Da(Hr());)ar();return _a(t,or)}function e6(t){return Qu(ec("",null,null,null,[""],t=Yu(t),0,[0],t))}function ec(t,e,r,n,i,o,a,s,l){for(var u=0,c=0,d=a,f=0,h=0,p=0,m=1,b=1,x=1,k=0,D="",z=i,O=o,E=n,T=D;b;)switch(p=k,k=ar()){case 40:if(p!=108&&T.charCodeAt(d-1)==58){js(T+=Le(Ea(k),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:T+=Ea(k);break;case 9:case 10:case 13:case 32:T+=K3(p);break;case 92:T+=J3(Hs()-1,7);continue;case 47:switch(Hr()){case 42:case 47:va(n_(Z3(ar(),Hs()),e,r),l);break;default:T+="/"}break;case 123*m:s[u++]=ir(T)*x;case 125*m:case 59:case 0:switch(k){case 0:case 125:b=0;case 59+c:h>0&&ir(T)-d&&va(h>32?Q3(T+";",n,r,d-1):Q3(Le(T," ","")+";",n,r,d-2),l);break;case 59:T+=";";default:if(va(E=Y3(T,e,r,u,c,i,s,D,z=[],O=[],d),o),k===123)if(c===0)ec(T,e,E,E,z,o,d,s,O);else switch(f){case 100:case 109:case 115:ec(t,E,E,n&&va(Y3(t,E,E,0,0,i,s,D,i,z=[],d),O),i,O,d,s,n?z:O);break;default:ec(T,E,E,E,[""],O,0,s,O)}}u=c=h=0,m=x=1,D=T="",d=a;break;case 58:d=1+ir(T),h=p;default:if(m<1){if(k==123)--m;else if(k==125&&m++==0&&G3()==125)continue}switch(T+=Co(k),k*m){case 38:x=c>0?1:(T+="\f",-1);break;case 44:s[u++]=(ir(T)-1)*x,x=1;break;case 64:Hr()===45&&(T+=Ea(ar())),f=Hr(),c=d=ir(D=T+=X3(Hs())),k++;break;case 45:p===45&&ir(T)==2&&(m=0)}}return o}function Y3(t,e,r,n,i,o,a,s,l,u,c){for(var d=i-1,f=i===0?o:[""],h=wa(f),p=0,m=0,b=0;p<n;++p)for(var x=0,k=Ni(t,d+1,d=P3(m=a[p])),D=t;x<h;++x)(D=Zu(m>0?f[x]+" "+k:Le(k,/&\f/g,f[x])))&&(l[b++]=D);return qs(t,e,r,i===0?ya:s,l,u,c)}function n_(t,e,r){return qs(t,e,r,Ku,Co(U3()),Ni(t,2,-2),0)}function Q3(t,e,r,n){return qs(t,e,r,xa,Ni(t,0,n),Ni(t,n+1,-1),n)}function Df(t,e){switch(q3(t,e)){case 5103:return Ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ie+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ie+t+ba+t+St+t+t;case 6828:case 4268:return Ie+t+St+t+t;case 6165:return Ie+t+St+"flex-"+t+t;case 5187:return Ie+t+Le(t,/(\w+).+(:[^]+)/,Ie+"box-$1$2"+St+"flex-$1$2")+t;case 5443:return Ie+t+St+"flex-item-"+Le(t,/flex-|-self/,"")+t;case 4675:return Ie+t+St+"flex-line-pack"+Le(t,/align-content|flex-|-self/,"")+t;case 5548:return Ie+t+St+Le(t,"shrink","negative")+t;case 5292:return Ie+t+St+Le(t,"basis","preferred-size")+t;case 6060:return Ie+"box-"+Le(t,"-grow","")+Ie+t+St+Le(t,"grow","positive")+t;case 4554:return Ie+Le(t,/([^-])(transform)/g,"$1"+Ie+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,Ie+"$1"),/(image-set)/,Ie+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,Ie+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,Ie+"box-pack:$3"+St+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ie+t+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,Ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ir(t)-1-e>6)switch(Nt(t,e+1)){case 109:if(Nt(t,e+4)!==45)break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+Ie+"$2-$3$1"+ba+(Nt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~js(t,"stretch")?Df(Le(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nt(t,e+1)!==115)break;case 6444:switch(Nt(t,ir(t)-3-(~js(t,"!important")&&10))){case 107:return Le(t,":",":"+Ie)+t;case 101:return Le(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ie+(Nt(t,14)===45?"inline-":"")+"box$3$1"+Ie+"$2$3$1"+St+"$2box$3")+t}break;case 5936:switch(Nt(t,e+11)){case 114:return Ie+t+St+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ie+t+St+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ie+t+St+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ie+t+St+t+t}return t}function Ii(t,e){for(var r="",n=wa(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function t6(t,e,r,n){switch(t.type){case R3:case xa:return t.return=t.return||t.value;case Ku:return"";case Ju:return t.return=t.value+"{"+Ii(t.children,n)+"}";case ya:t.value=t.props.join(",")}return ir(r=Ii(t.children,n))?t.return=t.value+"{"+r+"}":""}function r6(t){var e=wa(t);return function(r,n,i,o){for(var a="",s=0;s<e;s++)a+=t[s](r,n,i,o)||"";return a}}function n6(t){return function(e){e.root||(e=e.return)&&t(e)}}function i6(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case xa:t.return=Df(t.value,t.length);break;case Ju:return Ii([Sa(t,{value:Le(t.value,"@","@"+Ie)})],n);case ya:if(t.length)return V3(t.props,function(i){switch(H3(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ii([Sa(t,{props:[Le(i,/:(read-\w+)/,":"+ba+"$1")]})],n);case"::placeholder":return Ii([Sa(t,{props:[Le(i,/:(plac\w+)/,":"+Ie+"input-$1")]}),Sa(t,{props:[Le(i,/:(plac\w+)/,":"+ba+"$1")]}),Sa(t,{props:[Le(i,/:(plac\w+)/,St+"input-$1")]})],n)}return""})}}var i_=function(e,r,n){for(var i=0,o=0;i=o,o=Hr(),i===38&&o===12&&(r[n]=1),!Da(o);)ar();return _a(e,or)},o_=function(e,r){var n=-1,i=44;do switch(Da(i)){case 0:i===38&&Hr()===12&&(r[n]=1),e[n]+=i_(or-1,r,n);break;case 2:e[n]+=Ea(i);break;case 4:if(i===44){e[++n]=Hr()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Co(i)}while(i=ar());return e},a_=function(e,r){return Qu(o_(Yu(e),r))},o6=new WeakMap,s_=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!o6.get(n))&&!i){o6.set(e,!0);for(var o=[],a=a_(r,o),s=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)e.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},l_=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};var u_=[i6],c_=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var b=m.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||u_,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var b=m.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)o[b[x]]=!0;s.push(m)});var l,u=[s_,l_];{var c,d=[t6,n6(function(m){c.insert(m)})],f=r6(u.concat(i,d)),h=function(b){return Ii(e6(b),f)};l=function(b,x,k,D){c=k,h(b?b+"{"+x.styles+"}":x.styles),D&&(p.inserted[x.name]=!0)}}var p={key:r,sheet:new $3({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(s),p},a6=c_;var f6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ar=(t,e,r)=>(f6(t,e,"read from private field"),r?r.call(t):e.get(t)),tc=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},d_=(t,e,r,n)=>(f6(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ma,Aa,Ta,rc;function f_(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var h_={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function p_(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var m_=/[A-Z]|^ms/g,g_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,h6=function(e){return e.charCodeAt(1)===45},s6=function(e){return e!=null&&typeof e!="boolean"},Cf=p_(function(t){return h6(t)?t:t.replace(m_,"-$&").toLowerCase()}),l6=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(g_,function(n,i,o){return Sn={name:i,styles:o,next:Sn},i})}return h_[e]!==1&&!h6(e)&&typeof r=="number"&&r!==0?r+"px":r};function Vs(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Sn={name:r.name,styles:r.styles,next:Sn},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Sn={name:n.name,styles:n.styles,next:Sn},n=n.next;var i=r.styles+";";return i}return b_(t,e,r)}case"function":{if(t!==void 0){var o=Sn,a=r(t);return Sn=o,Vs(t,e,a)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function b_(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Vs(t,e,r[i])+";";else for(var o in r){var a=r[o];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":s6(a)&&(n+=Cf(o)+":"+l6(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var s=0;s<a.length;s++)s6(a[s])&&(n+=Cf(o)+":"+l6(o,a[s])+";");else{var l=Vs(t,e,a);switch(o){case"animation":case"animationName":{n+=Cf(o)+":"+l+";";break}default:n+=o+"{"+l+"}"}}}return n}var u6=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Sn,Sf=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Sn=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,o+=Vs(n,r,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=Vs(n,r,e[s]),i&&(o+=a[s]);u6.lastIndex=0;for(var l="",u;(u=u6.exec(o))!==null;)l+="-"+u[1];var c=f_(o)+l;return{name:c,styles:o,next:Sn}},y_=!0;function p6(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var x_=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||y_===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},w_=function(e,r,n){x_(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function c6(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function d6(t,e,r){var n=[],i=p6(t,n,r);return n.length<2?r:i+e(n)}var v_=function(e){var r=a6(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=Sf(u,r.registered,void 0);return w_(r,d,!1),r.key+"-"+d.name},i=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=Sf(u,r.registered),f="animation-"+d.name;return c6(r,{name:d.name,styles:"@keyframes "+f+"{"+d.styles+"}"}),f},o=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=Sf(u,r.registered);c6(r,d)},a=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return d6(r.registered,n,k_(u))};return{css:n,cx:a,injectGlobal:o,keyframes:i,hydrate:function(l){l.forEach(function(u){r.inserted[u]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:p6.bind(null,r.registered),merge:d6.bind(null,r.registered,n)}},k_=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=t(i);else{o="";for(var a in i)i[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=i}o&&(r&&(r+=" "),r+=o)}}return r},m6=t=>v_(t),_f=Te({key:"milkdown"},"EmotionConfig"),Li=Te({},"Emotion"),Tr=t=>Te(()=>null,t),nc=class{constructor(){tc(this,Ma,ls()),tc(this,Aa,new Map),tc(this,Ta,new Set),tc(this,rc,()=>{})}inject(e){e(Ar(this,Ma).sliceMap)}has(e){let r=typeof e=="string"?e:e.sliceName;return Ar(this,Aa).has(r)?!0:Ar(this,Ma).getSlice(e).get()(null)!=null}set(e,r){let n=typeof e=="string"?e:e.sliceName;Ar(this,Aa).set(n,r)}get(e,r){let n=typeof e=="string"?e:e.sliceName,i=Ar(this,Aa).get(n);return i&&(Ar(this,Ma).getSlice(e).set(i),Ar(this,Aa).delete(e)),Ar(this,Ma).getSlice(e).get()(r)}onFlush(e,r=!0){Ar(this,Ta).has(e)||Ar(this,Ta).add(e),r&&e()}async switch(e,r){e.get(Li).flush(),await r(e)(e),this.runExecutor(),Ar(this,Ta).forEach(i=>i())}flush(e){e.get(Li).flush(),this.runExecutor(),Ar(this,Ta).forEach(n=>n())}setExecutor(e){e(),d_(this,rc,e)}runExecutor(){Ar(this,rc).call(this)}};Ma=new WeakMap;Aa=new WeakMap;Ta=new WeakMap;rc=new WeakMap;var sr=Te(new nc,"themeManager"),g6=()=>new nc,Ge=Tr("border"),D_=Tr("code-fence"),rt=Tr("color"),_t=Tr("font"),So=Tr("global"),ut=Tr("icon"),C_=Tr("image"),S_=Tr("inner-editor"),__=Tr("input-chip"),Gt=Tr("scrollbar"),It=Tr("shadow"),we=Tr("size"),E_=Tr("task-list-item"),Ef=[rt,we,_t,Gt,It,Ge,ut,So,D_,C_,S_,E_,__],ic=t=>{let e=/^([a-f\d])([a-f\d])([a-f\d])$/i,r=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,n=u=>parseInt(u,16),i=t.slice(1).replace(e,(u,c,d,f)=>c+c+d+d+f+f),[o,a="0",s="0",l="0"]=i.match(r)||[];return o?[a,s,l].map(n):null},gr=t=>(e,r=1)=>t.get(rt,[e,r]);var M_=Object.defineProperty,A_=Object.defineProperties,T_=Object.getOwnPropertyDescriptors,b6=Object.getOwnPropertySymbols,F_=Object.prototype.hasOwnProperty,O_=Object.prototype.propertyIsEnumerable,y6=(t,e,r)=>e in t?M_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bi=(t,e)=>{for(var r in e||(e={}))F_.call(e,r)&&y6(t,r,e[r]);if(b6)for(var r of b6(e))O_.call(e,r)&&y6(t,r,e[r]);return t},oc=(t,e)=>A_(t,T_(e)),S6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Lt=(t,e,r)=>(S6(t,e,"read from private field"),r?r.call(t):e.get(t)),ri=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},_n=(t,e,r,n)=>(S6(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ws,Fa,Us,Gs,Ks,Js,Oa,ac,sc,Mf=Br("ConfigReady"),z_=t=>e=>(e.record(Mf),async r=>{await t(r),r.done(Mf)}),x6=Te([],"themeTimer"),Af=Br("ThemeEnvironmentReady"),_o=Br("ThemeReady"),N_=new ze("MILKDOWN_THEME_RESET"),I_=t=>{let e=g6();return t.inject(_f).inject(Li).inject(sr,e).inject(x6,[Mf]).record(_o).record(Af),async r=>{await r.waitTimers(x6);let n=m6(r.get(_f));Ef.forEach(i=>{e.inject(i)}),r.set(Li,n),r.done(Af),await r.wait(En),r.update(ln,i=>i.concat(new _e({key:N_,view:()=>(e.runExecutor(),{destroy:()=>{n.flush()}})})))}},cc=t=>{let e=null,r=()=>async n=>{await n.wait(Af);let i=n.get(Li),o=n.get(sr);o.setExecutor(()=>{t?.(i,o),e?.(i,o),Ef.forEach(a=>{o.has(a)||console.warn("Theme key not found: ",a.sliceName)}),o.get(So,void 0)}),n.done(_o)};return r.override=n=>(e=n,r),r},En=Br("InitReady"),w6=Te([],"initTimer"),L_=Te({},"editor"),dc=Te([],"inputRules"),ln=Te([],"prosePlugins"),Qs=Te([],"remarkPlugins"),el=Te([],"nodeView"),tl=Te([],"markView"),Zs=Te(df(),"remark"),B_=t=>e=>(e.inject(L_,t).inject(ln).inject(Qs).inject(dc).inject(el).inject(tl).inject(Zs,df()).inject(w6,[_o]).record(En),async r=>{await r.waitTimers(w6),r.done(En)}),Mn=Br("schemaReady"),Et=Te({},"schema"),Tf=Te([],"schemaTimer"),$i=Te([],"nodes"),Ri=Te([],"marks"),v6=t=>{var e;return oc(Bi({},t),{parseDOM:(e=t.parseDOM)==null?void 0:e.map(r=>Bi({priority:t.priority},r))})},$_=t=>(t.inject(Et).inject($i).inject(Ri).inject(Tf,[En]).record(Mn),async e=>{await e.waitTimers(Tf);let r=e.get(Zs),i=e.get(Qs).reduce((s,l)=>s.use(l),r);e.set(Zs,i);let o=Object.fromEntries(e.get($i).map(([s,l])=>[s,v6(l)])),a=Object.fromEntries(e.get(Ri).map(([s,l])=>[s,v6(l)]));e.set(Et,new tu({nodes:o,marks:a})),e.done(Mn)}),za=Te(()=>{},"parser"),k6=Te([],"parserTimer"),Ff=Br("ParserReady"),R_=t=>(t.inject(za).inject(k6,[Mn]).record(Ff),async e=>{await e.waitTimers(k6);let r=e.get($i),n=e.get(Ri),i=e.get(Zs),o=e.get(Et),a=[...r.map(([l,u])=>Bi({id:l},u)).map(l=>oc(Bi({},l),{is:"node"})),...n.map(([l,u])=>Bi({id:l},u)).map(l=>oc(Bi({},l),{is:"mark"}))],s=Object.fromEntries(a.map(({id:l,parseMarkdown:u,is:c})=>[l,oc(Bi({},u),{is:c,key:l})]));e.set(za,O3(o,s,i)),e.done(Ff)}),Pi=Te(()=>"","serializer"),D6=Te([],"serializerTimer"),Xs=Br("SerializerReady"),P_=t=>(t.inject(Pi).inject(D6,[Mn]).record(Xs),async e=>{await e.waitTimers(D6);let r=e.get($i),n=e.get(Ri),i=e.get(Zs),o=e.get(Et),a=[...r,...n],s=Object.fromEntries(a.map(([l,u])=>[l,u.toMarkdown]));e.set(Pi,B3(o,s,i)),e.done(Xs)}),C6=Te("","defaultValue"),lc=Te({},"editorState"),Of=Te(t=>t,"stateOptions"),zf=Te([],"editorStateTimer"),Nf=Br("EditorStateReady"),j_=new ze("MILKDOWN_STATE_TRACKER"),q_=(t,e,r)=>{if(typeof t=="string")return e(t);if(t.type==="html")return Rr.fromSchema(r).parse(t.dom);if(t.type==="json")return Zt.fromJSON(r,t.value);throw L1(t)},H_=t=>(t.inject(C6).inject(lc).inject(Of).inject(zf,[Ff,Xs,$f]).record(Nf),async e=>{await e.waitTimers(zf);let r=e.get(Et),n=e.get(za),i=e.get(dc),o=e.get(Of),a=e.get(ln),s=e.get(C6),l=q_(s,n,r),u=[...a,new _e({key:j_,state:{init:()=>{},apply:(f,h,p,m)=>{e.set(lc,m)}}}),q2({rules:i}),an(xu)];e.set(ln,u);let c=o({schema:r,doc:l,plugins:u}),d=nn.create(c);e.set(lc,d),e.done(Nf)}),Vr=Te({},"editorView"),uc=Te({},"editorViewOptions"),Na=Te(null,"root"),If=Te([],"editorViewTimer"),Ys=Br("EditorViewReady"),V_=t=>{let e=document.createElement("div");return e.className="milkdown",t.appendChild(e),e},W_=t=>{t.classList.add("editor"),t.setAttribute("role","textbox")},U_=new ze("MILKDOWN_VIEW_CLEAR"),G_=t=>(t.inject(Na,document.body).inject(Vr).inject(uc).inject(If,[Nf]).record(Ys),async e=>{await e.wait(En);let r=e.get(Na)||document.body,n=typeof r=="string"?document.querySelector(r):r;e.update(ln,u=>[new _e({key:U_,view:c=>{let d=n?V_(n):void 0;return(()=>{if(d&&n){let h=c.dom;n.replaceChild(d,h),d.appendChild(h)}})(),{destroy:()=>{d?.parentNode&&d?.parentNode.replaceChild(c.dom,d),d?.remove()}}}}),...u]),await e.waitTimers(If);let i=e.get(lc),o=e.get(uc),a=Object.fromEntries(e.get(el)),s=Object.fromEntries(e.get(tl)),l=new sa(n,Bi({state:i,nodeViews:a,markViews:s},o));W_(l.dom),e.set(Vr,l),e.done(Ys)}),Lf=class{constructor(){ri(this,Ws,void 0),ri(this,Fa,void 0),_n(this,Ws,ls()),_n(this,Fa,null),this.setCtx=e=>{_n(this,Fa,e)}}create(e,r){return e(Lt(this,Ws).sliceMap,r)}get(e){return Lt(this,Ws).getSlice(e).get()}call(e,r){if(Lt(this,Fa)==null)throw H1();let i=this.get(e)(r),o=Lt(this,Fa).get(Vr);return i(o.state,o.dispatch,o)}};Ws=new WeakMap;Fa=new WeakMap;var ve=(t,e)=>[t,e],be=(t="cmdKey")=>Te(()=>()=>!1,t),Kt=Te({},"commands"),Bf=Te([],"commandsTimer"),$f=Br("CommandsReady"),K_=t=>{let e=new Lf;return t.inject(Kt,e).inject(Bf,[Mn]).record($f),async r=>{await r.waitTimers(Bf),r.done($f),await r.wait(Ys),e.setCtx(r)}},_6=class{constructor(){ri(this,Us,void 0),ri(this,Gs,void 0),ri(this,Ks,void 0),ri(this,Js,void 0),ri(this,Oa,void 0),ri(this,ac,void 0),ri(this,sc,void 0),_n(this,Us,ls()),_n(this,Gs,G1()),_n(this,Ks,new Set),_n(this,Js,[]),_n(this,Oa,new Zl(Lt(this,Us),Lt(this,Gs))),_n(this,ac,new Xl(Lt(this,Us),Lt(this,Gs))),_n(this,sc,()=>{let t=[I_,$_,R_,P_,K_,H_,G_,B_(this)],e=z_(async r=>{await Promise.all(Lt(this,Js).map(n=>n(r)))});this.use(t.concat(e))}),this.use=t=>([t].flat().forEach(e=>{Lt(this,Ks).add(e(Lt(this,ac)))}),this),this.config=t=>(Lt(this,Js).push(t),this),this.create=async()=>(Lt(this,sc).call(this),await Promise.all([...Lt(this,Ks)].map(t=>t(Lt(this,Oa)))),this),this.action=t=>t(Lt(this,Oa))}static make(){return new _6}get ctx(){return Lt(this,Oa)}},E6=_6;Us=new WeakMap;Gs=new WeakMap;Ks=new WeakMap;Js=new WeakMap;Oa=new WeakMap;ac=new WeakMap;sc=new WeakMap;var fc=200,Bt=function(){};Bt.prototype.append=function(e){return e.length?(e=Bt.from(e),!this.length&&e||e.length<fc&&this.leafAppend(e)||this.length<fc&&e.leafPrepend(this)||this.appendInner(e)):this};Bt.prototype.prepend=function(e){return e.length?Bt.from(e).append(this):this};Bt.prototype.appendInner=function(e){return new J_(this,e)};Bt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Bt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Bt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Bt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Bt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},r,n),i};Bt.from=function(e){return e instanceof Bt?e:e&&e.length?new M6(e):Bt.empty};var M6=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=fc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=fc)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Bt);Bt.empty=new M6([]);var J_=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Bt),Z_=Bt,Rf=Z_;var X_=500,Fr=class{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;r&&(i=this.remapping(n,this.items.length),o=i.maps.length);let a=e.tr,s,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(n,f+1),o=i.maps.length),o--,c.push(d);return}if(i){c.push(new Wr(d.map));let h=d.step.map(i.slice(o)),p;h&&a.maybeStep(h).doc&&(p=a.mapping.maps[a.mapping.maps.length-1],u.push(new Wr(p,void 0,void 0,u.length+c.length))),o--,p&&i.appendMap(p,o)}else a.maybeStep(d.step);if(d.selection)return s=i?d.selection.map(i.slice(o)):d.selection,l=new Fr(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(e,r,n,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new Wr(e.mapping.maps[c],d,r),h;(h=l&&l.merge(f))&&(f=h,c?o.pop():s=s.slice(0,s.length-1)),o.push(f),r&&(a++,r=void 0),i||(l=f)}let u=a-n.depth;return u>Q_&&(s=Y_(s,u),a-=u),new Fr(s.append(o),a)}remapping(e,r){let n=new Kn;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},e,r),n}addMaps(e){return this.eventCount==0?this:new Fr(this.items.append(e.map(r=>new Wr(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(f=>{f.selection&&s--},i);let l=r;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let p=o.maps[h];if(f.step){let m=e.steps[h].invert(e.docs[h]),b=f.selection&&f.selection.map(o.slice(l+1,h));b&&s++,n.push(new Wr(p,m,b))}else n.push(new Wr(p))},i);let u=[];for(let f=r;f<a;f++)u.push(new Wr(o.maps[f]));let c=this.items.slice(0,i).append(u).append(n),d=new Fr(c,s);return d.emptyItemCount()>X_&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=e)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let c=a.selection&&a.selection.map(r.slice(n));c&&o++;let d=new Wr(u.invert(),l,c),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else a.map&&n--},this.items.length,0),new Fr(Rf.from(i.reverse()),o)}};Fr.empty=new Fr(Rf.empty,0);function Y_(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}var Wr=class{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Wr(r.getMap().invert(),r,this.selection)}}},An=class{constructor(e,r,n,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i}},Q_=20;function eE(t,e,r,n){let i=r.getMeta(ji),o;if(i)return i.historyState;r.getMeta(rE)&&(t=new An(t.done,t.undone,null,0));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(a&&a.getMeta(ji))return a.getMeta(ji).redo?new An(t.done.addTransform(r,void 0,n,hc(e)),t.undone,A6(r.mapping.maps[r.steps.length-1]),t.prevTime):new An(t.done,t.undone.addTransform(r,void 0,n,hc(e)),null,t.prevTime);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=t.prevTime==0||!a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!tE(r,t.prevRanges)),l=a?Pf(t.prevRanges,r.mapping):A6(r.mapping.maps[r.steps.length-1]);return new An(t.done.addTransform(r,s?e.selection.getBookmark():void 0,n,hc(e)),Fr.empty,l,r.time)}else return(o=r.getMeta("rebased"))?new An(t.done.rebased(r,o),t.undone.rebased(r,o),Pf(t.prevRanges,r.mapping),t.prevTime):new An(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Pf(t.prevRanges,r.mapping),t.prevTime)}function tE(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<e.length;o+=2)n<=e[o+1]&&i>=e[o]&&(r=!0)}),r}function A6(t){let e=[];return t.forEach((r,n,i,o)=>e.push(i,o)),e}function Pf(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),o=e.map(t[n+1],-1);i<=o&&r.push(i,o)}return r}function F6(t,e,r,n){let i=hc(e),o=ji.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),u=new An(n?l:a.remaining,n?a.remaining:l,null,0);r(a.transform.setSelection(s).setMeta(ji,{redo:n,historyState:u}).scrollIntoView())}var jf=!1,T6=null;function hc(t){let e=t.plugins;if(T6!=e){jf=!1,T6=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){jf=!0;break}}return jf}var ji=new ze("history"),rE=new ze("closeHistory");function pc(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new _e({key:ji,state:{init(){return new An(Fr.empty,Fr.empty,null,0)},apply(e,r,n){return eE(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?qi:n=="historyRedo"?Tn:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}var qi=(t,e)=>{let r=ji.getState(t);return!r||r.done.eventCount==0?!1:(e&&F6(r,t,e,!1),!0)},Tn=(t,e)=>{let r=ji.getState(t);return!r||r.undone.eventCount==0?!1:(e&&F6(r,t,e,!0),!0)};var nE=Object.defineProperty,iE=Object.defineProperties,oE=Object.getOwnPropertyDescriptors,O6=Object.getOwnPropertySymbols,aE=Object.prototype.hasOwnProperty,sE=Object.prototype.propertyIsEnumerable,z6=(t,e,r)=>e in t?nE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lE=(t,e)=>{for(var r in e||(e={}))aE.call(e,r)&&z6(t,r,e[r]);if(O6)for(var r of O6(e))sE.call(e,r)&&z6(t,r,e[r]);return t},uE=(t,e)=>iE(t,oE(e)),mc=({injectGlobal:t})=>t`
    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */
    .ProseMirror {
        position: relative;
    }

    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: break-spaces;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    .ProseMirror-hideselection *::selection {
        background: transparent;
    }
    .ProseMirror-hideselection *::-moz-selection {
        background: transparent;
    }
    .ProseMirror-hideselection {
        caret-color: transparent;
    }

    .ProseMirror-selectednode {
        outline: 2px solid #8cf;
    }

    /* Make sure li selections wrap around markers */

    li.ProseMirror-selectednode {
        outline: none;
    }

    li.ProseMirror-selectednode:after {
        content: '';
        position: absolute;
        left: -32px;
        right: -2px;
        top: -2px;
        bottom: -2px;
        border: 2px solid #8cf;
        pointer-events: none;
    }

    /* Protect against generic img rules */

    img.ProseMirror-separator {
        display: inline !important;
        border: none !important;
        margin: 0 !important;
    }
`,cE=(t,{css:e})=>{let r=gr(t),n=t.get(we,"radius"),i=t.get(we,"lineWidth");return e`
        background-color: ${r("background")};
        color: ${r("neutral")};
        font-size: 0.875em;
        padding: 1.2em 0.4em 1.4em;
        border-radius: ${n};
        font-family: ${t.get(_t,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 11.71em;
            box-sizing: border-box;
            border-radius: ${n};
            margin: 0 1.2em 1.2em;
            cursor: pointer;
            background-color: ${r("surface")};
            position: relative;
            display: flex;
            color: ${r("neutral",.87)};
            letter-spacing: 0.5px;
            height: 3em;
            align-items: center;

            ${t.get(Ge,void 0)};
            ${t.get(It,void 0)};

            & > .icon {
                width: 2em;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: ${r("solid",.87)};
                border-left: ${i} solid ${r("line")};

                text-align: center;
                transition: all 0.2s ease-in-out;
                &:hover {
                    background: ${r("background")};
                    color: ${r("primary")};
                }
            }

            > span:first-child {
                padding-left: 1em;
                flex: 1;
                font-weight: 500;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 1em;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${r("secondary",.12)};
                color: ${r("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 3em;
            box-sizing: border-box;
            left: 1.2em;
            padding: 0.5em 0;
            max-height: 16.75em;
            width: 11.71em;
            background-color: ${r("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(Gt,["y"])}
            ${t.get(Ge,void 0)};
            ${t.get(It,void 0)};
        }
    `},dE=(t,e)=>{t.set("code-fence",({editable:r,onSelectLanguage:n,onBlur:i,onFocus:o,languageList:a})=>{let s=document.createElement("div"),l=document.createElement("div"),u=document.createElement("ul"),c=document.createElement("pre"),d=document.createElement("code"),f=document.createElement("div");f.className="code-fence_selector";let h=document.createElement("span");f.appendChild(h);let p=t.get(ut,"downArrow");r()&&p&&f.appendChild(p.dom),d.spellcheck=!1,l.className="code-fence_selector-wrapper",l.contentEditable="false",l.append(f),l.append(u),c.append(d);let m=document.createElement("div");d.append(m),m.style.whiteSpace="inherit",s.append(l,c),s.classList.add("code-fence"),t.onFlush(()=>{let D=cE(t,e);D&&s.classList.add(D)}),u.className="code-fence_selector-list",u.addEventListener("mousedown",D=>{if(D.preventDefault(),D.stopPropagation(),!r())return;let z=D.target;if(!(z instanceof HTMLLIElement))return;let O=z.dataset.value;O!=null&&n(O)}),f.addEventListener("mousedown",D=>{D.preventDefault(),D.stopPropagation(),r()&&o()});let b=()=>{!r()||u.dataset.fold==="true"||i()};return document.addEventListener("mousedown",b),a.forEach(D=>{let z=document.createElement("li");z.className="code-fence_selector-list-item",z.innerText=D||"--",u.appendChild(z),z.setAttribute("data-value",D)}),{dom:s,contentDOM:m,onUpdate:D=>{s.dataset.language=D.attrs.language,h.innerText=D.attrs.language||"--",u.setAttribute("data-fold",D.attrs.fold?"true":"false")},onDestroy:()=>{s.remove(),document.removeEventListener("mousedown",b)}}})},fE=(t,{css:e})=>{let r=gr(t);t.set("image",({placeholder:n,isBlock:i,onError:o,onLoad:a})=>{let s=m=>{var b;return(b=t.get(ut,m))==null?void 0:b.dom},l=document.createElement("span");l.classList.add("image-container"),t.onFlush(()=>{let m=e`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                line-height: 1;

                ${i?`
                width: 100%;
                margin: 0 auto;
                `:""}

                &.ProseMirror-selectednode::after {
                    content: '';
                    background: ${r("secondary",.38)};
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }

                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 2em;
                    font-size: inherit;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 3em;
                    background-color: ${r("background")};
                    border-radius: ${t.get(we,"radius")};
                    display: inline-flex;
                    gap: 2em;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 0.875em;
                            color: ${r("neutral",.6)};
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${n}';
                        }
                    }
                }
            `;m&&l.classList.add(m)});let u=document.createElement("img");l.append(u);let c=s("image"),d=document.createElement("span");d.classList.add("placeholder"),l.append(c,d);let f=m=>{let b=s(m);l.replaceChild(b,c),c=b},h=m=>{l.classList.add("system","loading"),f("loading");let b=document.createElement("img");b.src=m,b.onerror=()=>{o?.(b)},b.onload=()=>{a?.(b)}};return{dom:l,onUpdate:m=>{let{src:b,alt:x,title:k,loading:D,failed:z}=m.attrs;if(u.src=b,u.title=k||x,u.alt=x,b.length===0){l.classList.add("system","empty"),f("image");return}if(D){h(b);return}if(z){l.classList.remove("loading","empty"),l.classList.add("system","failed"),f("brokenImage");return}if(b.length>0){l.classList.remove("system","empty","loading");return}l.classList.add("system","empty"),f("image")}}})},hE=(t,{css:e})=>{let r=gr(t),n=t.get(we,"radius"),i=t.get(_t,"code"),o=e`
        color: ${r("neutral",.87)};
        background-color: ${r("background")};
        border-radius: ${n};
        padding: 1em 2em;
        font-size: 0.875em;
        font-family: ${i};
        overflow: hidden;
        line-height: 1.5;
        .ProseMirror {
            outline: none;
        }
    `,a=e`
        display: none;
    `,s=e`
        display: flex;
        justify-content: center;
        padding: 1em 0;
    `;return{codeStyle:o,hideCodeStyle:a,previewPanelStyle:s}},pE=(t,e)=>{let r=!1,n;return{isEditing:()=>r,innerView:()=>n,openEditor:(a,s)=>{n=new sa(a,{state:nn.create({doc:s,plugins:[pc(),an(uE(lE({},xu),{Backspace:Es(yu,u=>{var c;if(!u.selection.empty||n&&n.state.doc.textContent.length>0)return!1;let{dispatch:d,state:f}=t,h=(c=f.schema.nodes.paragraph)==null?void 0:c.create();if(!h)return!1;let p=f.tr.replaceSelectionWith(h),m=p.selection.from-2;return m<0&&(m=0),d(p.setSelection(le.create(p.doc,m))),t.focus(),!0}),"Mod-Enter":(u,c)=>{var d;if(c){let{state:f}=t,{to:h}=f.selection,p=(d=f.schema.nodes.paragraph)==null?void 0:d.createAndFill();if(!p)return!1;let m=f.tr.replaceWith(h,h,p);t.dispatch(m.setSelection(le.create(m.doc,h))),t.focus()}return!0}})),an({"Mod-z":qi,"Mod-y":Tn,"Shift-Mod-z":Tn})]}),plugins:[],dispatchTransaction:u=>{if(!n)return;let{state:c,transactions:d}=n.state.applyTransaction(u);if(n.updateState(c),!u.getMeta("fromOutside")){let f=t.state.tr,h=Xt.offset(e()+1);d.forEach(p=>{let{steps:m}=p;m.forEach(b=>{let x=b.map(h);if(!x)throw Error("step discarded!");f.step(x)})}),f.docChanged&&t.dispatch(f)}}}),n.focus();let{state:l}=n;n.dispatch(l.tr.setSelection(le.create(l.doc,0))),r=!0},closeEditor:()=>{n&&n.destroy(),n=void 0,r=!1}}},mE=(t,e)=>{t.set("inner-editor",({view:r,getPos:n,render:i})=>{let o=pE(r,n),a=document.createElement("div");a.classList.add("math-block");let s=document.createElement("div"),l=document.createElement("div"),u="",c="",d="";return t.onFlush(()=>{({codeStyle:u,hideCodeStyle:c,previewPanelStyle:d}=hE(t,e)),u&&c&&s.classList.add(u,c),d&&l.classList.add(d)}),a.append(s),{dom:a,preview:l,editor:s,onUpdate:(f,h)=>{var p;if(h){let x=f.attrs.value||f.textContent||"";s.dataset.value=x,i(x);return}let m=o.innerView();if(m){let x=m.state,k=f.content.findDiffStart(x.doc.content);if(k!=null){let D=f.content.findDiffEnd(x.doc.content);if(D){let{a:z,b:O}=D,E=k-Math.min(z,O);E>0&&(z+=E,O+=E),m.dispatch(x.tr.replace(k,O,f.slice(k,z)).setMeta("fromOutside",!0))}}}let b=((p=f.content.firstChild)==null?void 0:p.text)||"";s.dataset.value=b,i(b)},onFocus:f=>{!r.editable||(c&&s.classList.remove(c),o.openEditor(s,f),a.classList.add("ProseMirror-selectednode"))},onBlur:()=>{c&&s.classList.add(c),o.closeEditor(),a.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{l.remove(),s.remove(),a.remove()},stopEvent:f=>{let h=o.innerView(),{target:p}=f,m=p&&h?.dom.contains(p);return!!(h&&m)}}})},gE=(t,{css:e},r)=>{let n=gr(t);return e`
        ${t.get(Ge,void 0)}
        ${t.get(It,void 0)}

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${n("surface")};
        border-radius: ${t.get(we,"radius")};
        font-size: 1em;

        height: 3.5em;
        box-sizing: border-box;
        width: ${r.width};
        padding: 0 1em;
        gap: 1em;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${n("primary")};
            &::placeholder {
                color: ${n("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 2.25em;
            color: ${n("primary")};
            font-size: 0.875em;
            padding: 0 0.5em;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${n("secondary",.12)};
            }
            &.disable {
                color: ${n("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `},bE=(t,e)=>{bu(t,e,(r,n,i,o)=>{let a=t.dom.parentElement;if(!a)throw new Error;let s=n.left-r.left,l=r.left-o.left-(i.width-s)/2,u=r.bottom-o.top+14+a.scrollTop;return l<0&&(l=0),[u,l]})},yE=(t,e)=>{t.set("input-chip",({isBindMode:r,onUpdate:n,buttonText:i,placeholder:o,width:a="25em",calculatePosition:s=bE})=>{let l=null,u=!1,c="",d=document.createElement("div");t.onFlush(()=>{let O=gE(t,e,{width:a});O&&d.classList.add(O)}),d.classList.add("tooltip-input");let f=document.createElement("input");o&&(f.placeholder=o),d.appendChild(f),r||(l=document.createElement("button"),l.innerText=i||"APPLY",d.appendChild(l));let h=()=>{d.classList.add("hide")},p=O=>{d.classList.remove("hide"),s(O,d)},m=O=>{let{target:E}=O;if(E instanceof HTMLInputElement){if(c=E.value,!l){n(c);return}if(!c){l.classList.add("disable"),u=!0;return}l.classList.remove("disable"),u=!1}},b=O=>{u||(O.stopPropagation(),n(c),h())},x=O=>{"key"in O&&O.key==="Enter"&&(n(c),h())};return{dom:d,init:O=>{let E=O.dom.parentElement;if(!E)throw new Error;f.addEventListener("input",m),f.addEventListener("keydown",x),l?.addEventListener("mousedown",b),E.appendChild(d),h()},show:p,hide:h,destroy:()=>{f.removeEventListener("input",m),f.removeEventListener("keydown",x),l?.removeEventListener("mousedown",b),d.remove()},update:O=>{c=O,f.value=O}}})},xE=(t,{css:e})=>{let r=gr(t);t.set("task-list-item",({onChange:n,editable:i})=>{let o=h=>{var p;return(p=t.get(ut,h))==null?void 0:p.dom},a=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),c=document.createElement("div"),d=o("unchecked");s.appendChild(d);let f=h=>{let p=o(h);s.replaceChild(p,d),d=p};return s.append(u,l),a.append(s,c),s.contentEditable="false",u.type="checkbox",i()||(u.disabled=!0,s.style.cursor="not-allowed"),u.onchange=h=>{if(h.target instanceof HTMLInputElement){if(!i()){u.checked=!u.checked;return}h.preventDefault(),n(u.checked)}},a.dataset.type="task-item",a.classList.add("task-list-item"),t.onFlush(()=>{let h=e`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                    width: 100%;
                }

                label {
                    position: absolute;
                    top: 0;
                    left: -2em;
                    display: inline-block;
                    width: 1.5em;
                    height: 1.5em;
                    margin: 0.5em 0;
                    cursor: pointer;
                    input {
                        visibility: hidden;
                    }
                }
                label:before {
                    position: absolute;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    left: 0;
                    border-radius: ${t.get(we,"radius")};
                }
                label:hover:before {
                    background: ${r("background")};
                }
                &[data-checked='true'] {
                    label {
                        color: ${r("primary")};
                    }
                }
                &[data-checked='false'] {
                    label {
                        color: ${r("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 0.5em 0;
                }
            `;h&&a.classList.add(h)}),{dom:a,contentDOM:c,onUpdate:h=>{a.dataset.checked=h.attrs.checked,h.attrs.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),f(h.attrs.checked?"checked":"unchecked")}}})},gc=(t,e)=>{[yE,fE,dE,xE,mE].forEach(r=>{r(t,e)})};var N6,wE=["Roboto","HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue","Helvetica","Arial","Lucida Grande","sans-serif"],vE=["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"],I6={h1:{label:"h1",icon:"looks_one"},h2:{label:"h2",icon:"looks_two"},h3:{label:"h3",icon:"looks_3"},loading:{label:"loading",icon:"hourglass_empty"},quote:{label:"quote",icon:"format_quote"},code:{label:"code",icon:"code"},table:{label:"table",icon:"table_chart"},divider:{label:"divider",icon:"horizontal_rule"},image:{label:"image",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"bullet list",icon:"format_list_bulleted"},orderedList:{label:"ordered list",icon:"format_list_numbered"},taskList:{label:"task list",icon:"checklist"},bold:{label:"bold",icon:"format_bold"},italic:{label:"italic",icon:"format_italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"strike through",icon:"strikethrough_s"},link:{label:"link",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron_left"},rightArrow:{label:"right arrow",icon:"chevron_right"},upArrow:{label:"up arrow",icon:"expand_less"},downArrow:{label:"down arrow",icon:"expand_more"},alignLeft:{label:"align left",icon:"format_align_left"},alignRight:{label:"align right",icon:"format_align_right"},alignCenter:{label:"align center",icon:"format_align_center"},delete:{label:"delete",icon:"delete"},select:{label:"select",icon:"select_all"},unchecked:{label:"unchecked",icon:"check_box_outline_blank"},checked:{label:"checked",icon:"check_box"},undo:{label:"undo",icon:"turn_left"},redo:{label:"redo",icon:"turn_right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"}},kE=t=>{let e=I6[t];if(!e)return;let r=document.createElement("span");return r.className="icon material-icons material-icons-outlined",r.textContent=I6[t].icon,{dom:r,label:e.label}},br={nord0:"#2e3440",nord1:"#3b4252",nord2:"#434c5e",nord3:"#4c566a",nord4:"#d8dee9",nord5:"#e5e9f0",nord6:"#eceff4",nord7:"#8fbcbb",nord8:"#88c0d0",nord9:"#81a1c1",nord10:"#5e81ac",nord11:"#bf616a",nord12:"#d08770",nord13:"#ebcb8b",nord14:"#a3be8c",nord15:"#b48ead"},DE={shadow:br.nord1,primary:br.nord10,secondary:br.nord9,neutral:br.nord0,solid:br.nord3,line:br.nord4,background:br.nord6,surface:"#fff"},CE={shadow:br.nord1,primary:br.nord10,secondary:br.nord9,neutral:br.nord6,solid:br.nord4,line:br.nord2,background:"#252932",surface:br.nord0};var SE=(t,e)=>{let{injectGlobal:r,css:n}=e,i=gr(t),o=t.get(we,"radius"),a=i("neutral",.87),s=i("surface"),l=i("line"),u=i("secondary",.38),c=n`
        .ProseMirror-selectednode {
            outline: ${t.get(we,"lineWidth")} solid ${l};
        }

        li.ProseMirror-selectednode {
            outline: none;
        }

        li.ProseMirror-selectednode::after {
            ${t.get(Ge,void 0)};
        }

        & ::selection {
            background: ${u};
        }
    `,d=n`
        padding: 3.125em 1.25em;
        outline: none;
        & > * {
            margin: 1.875em 0;
        }
    `,f=n`
        p {
            font-size: 1em;
            line-height: 1.5;
            letter-spacing: 0.5px;
        }
    `,h=n`
        blockquote {
            padding-left: 1.875em;
            line-height: 1.75em;
            border-left: 4px solid ${i("primary")};
            margin-left: 0;
            margin-right: 0;
            * {
                font-size: 1em;
                line-height: 1.5em;
            }
        }
    `,p=n`
        h1 {
            font-size: 3em;
            line-height: 1.167;
        }
        h2 {
            font-size: 2.5em;
            line-height: 1.2;
        }
        h3 {
            font-size: 2.125em;
            line-height: 1.05;
        }
        h4 {
            font-size: 1.75em;
            line-height: 1.14;
        }
        h5 {
            font-size: 1.5em;
            line-height: 1;
        }
        h6 {
            font-size: 1.25em;
            line-height: 1;
        }
        .heading {
            margin: 40px 0;
            font-weight: 400;
        }
    `,m=n`
        hr {
            height: ${t.get(we,"lineWidth")};
            background-color: ${l};
            border-width: 0;
        }
    `,b=n`
        .list-item,
        .list-item > * {
            margin: 0.5em 0;
        }

        li {
            &::marker {
                color: ${i("primary")};
            }
        }

        .task-list-item {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            &_checkbox {
                margin: 0.5em 0.5em 0.5em 0;
                height: 1em;
            }
        }
    `,x=n`
        .code-fence {
            pre {
                font-family: ${t.get(_t,"code")};
                margin: 0 1.2em !important;
                white-space: pre;
                overflow: auto;
                ${t.get(Gt,["x"])}

                background-color: ${i("background")};
                color: ${i("neutral")};
                font-size: 0.875em;
                border-radius: ${o};

                code {
                    line-height: 1.5;
                    font-family: ${t.get(_t,"code")};
                }
            }
        }
    `,k=n`
        .image {
            display: inline-block;
            margin: 0 auto;
            object-fit: contain;
            width: 100%;
            position: relative;
            height: auto;
            text-align: center;
        }
    `,D=n`
        .code-inline {
            background-color: ${i("neutral")};
            color: ${i("background")};
            border-radius: ${o};
            font-weight: 500;
            font-family: ${x};
            padding: 0 0.2em;
            font-size: 1.2em;
        }

        .strong {
            font-weight: 600;
        }

        .link,
        a {
            color: ${i("secondary")};
            cursor: pointer;
            transition: all 0.4s ease-in-out;
            font-weight: 500;
            &:hover {
                background-color: ${i("line")};
                box-shadow: 0 0.2em ${i("line")}, 0 -0.2em ${i("line")};
            }
        }

        .strike-through {
            text-decoration-color: ${i("secondary")};
        }
    `,z=n`
        .footnote-definition {
            ${t.get(Ge,void 0)};
            border-radius: ${t.get(we,"radius")};
            background-color: ${i("background")};
            padding: 1em;
            display: flex;
            flex-direction: row;
            & > .footnote-definition_content {
                flex: 1;
                width: calc(100% - 1em);
                & > dd {
                    margin-inline-start: 1em;
                }
                & > dt {
                    color: ${i("secondary")};
                    font-weight: 500;
                }
            }
            & > .footnote-definition_anchor {
                width: 1em;
            }
        }
    `,O=n`
        /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
        .tableWrapper {
            overflow-x: auto;
            margin: 0;
            ${t.get(Gt,["x"])}
            width: 100%;
            * {
                margin: 0;
                box-sizing: border-box;
                font-size: 1em;
            }
        }
        table {
            border-collapse: collapse;
            table-layout: fixed;
            width: 100%;
            overflow: auto;
            border-radius: ${t.get(we,"radius")};
            p {
                line-height: unset;
            }
        }
        tr {
            ${t.get(Ge,"bottom")};
        }
        td,
        th {
            padding: 0 1em;
            vertical-align: top;
            box-sizing: border-box;
            position: relative;

            min-width: 100px;
            ${t.get(Ge,void 0)};
            text-align: left;
            line-height: 3;
            height: 3em;
        }
        th {
            background: ${i("background",.5)};
            font-weight: 400;
        }
        .column-resize-handle {
            position: absolute;
            right: -2px;
            top: 0;
            bottom: 0;
            z-index: 20;
            pointer-events: none;
            background: ${i("secondary")};
            width: ${t.get(we,"lineWidth")};
        }
        .resize-cursor {
            cursor: ew-resize;
            cursor: col-resize;
        }

        .selectedCell {
            &::after {
                z-index: 2;
                position: absolute;
                content: '';
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                background: ${i("secondary",.38)};
                pointer-events: none;
            }

            & ::selection {
                background: transparent;
            }
        }
    `;mc(e),r`
        .milkdown {
            .material-icons-outlined {
                font-size: 1.5em;
            }

            position: relative;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;


            color: ${a};
            background: ${s};
            font-family: ${t.get(_t,"typography")};

            ${t.get(It,void 0)}
            ${t.get(Gt,void 0)}
            ${c};

            .editor {
                ${d};

                ${f};
                ${p};
                ${h};
                ${m};
                ${b};
                ${x};
                ${k};

                ${O};
                ${z};

                ${D};
            }
        }
    `},_E={typography:wE,code:vE},EE={radius:"4px",lineWidth:"1px"},ME=t=>(e,r)=>{let{css:n}=e,i=t?CE:DE;r.set(rt,o=>{if(!o)return;let[a,s]=o,l=i[a],u=ic(l);if(!!u)return`rgba(${u?.join(", ")}, ${s||1})`}),r.set(we,o=>{if(!!o)return EE[o]}),r.set(_t,o=>{if(!!o)return _E[o].join(", ")}),r.set(Gt,([o="y",a="normal"]=["y","normal"])=>{let s=r.get(rt,["secondary",.38]),l=r.get(rt,["secondary",.12]),u=r.get(rt,["secondary"]);return n`
            scrollbar-width: thin;
            scrollbar-color: ${s} ${l};
            -webkit-overflow-scrolling: touch;

            &::-webkit-scrollbar {
                ${o==="y"?"width":"height"}: ${a==="thin"?2:12}px;
                background-color: transparent;
            }

            &::-webkit-scrollbar-track {
                border-radius: 999px;
                background: transparent;
                border: 4px solid transparent;
            }

            &::-webkit-scrollbar-thumb {
                border-radius: 999px;
                background-color: ${s};
                border: ${a==="thin"?0:4}px solid transparent;
                background-clip: content-box;
            }

            &::-webkit-scrollbar-thumb:hover {
                background-color: ${u};
            }
        `}),r.set(It,()=>{let o=r.get(we,"lineWidth"),a=s=>r.get(rt,["shadow",s]);return n`
            box-shadow: 0 ${o} ${o} ${a(.14)}, 0 2px ${o} ${a(.12)},
                0 ${o} 3px ${a(.2)};
        `}),r.set(Ge,o=>{let a=r.get(we,"lineWidth"),s=r.get(rt,["line"]);return o?n`
            ${`border-${o}`}: ${a} solid ${s};
        `:n`
                border: ${a} solid ${s};
            `}),r.set(ut,o=>{if(!!o)return kE(o)}),r.set(So,()=>{SE(r,e)}),gc(r,e)},qf=(t=!1)=>cc((e,r)=>ME(t)(e,r)),lJ=qf(!0),uJ=qf(!1),L6=!1;typeof window<"u"&&(L6=Boolean((N6=window.matchMedia)==null?void 0:N6.call(window,"(prefers-color-scheme: dark)").matches));var B6=qf(L6);var AE=t=>crypto.getRandomValues(new Uint8Array(t)),TE=(t,e,r)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*e/t.length);return(o=e)=>{let a="";for(;;){let s=r(i),l=i;for(;l--;)if(a+=t[s[l]&n]||"",a.length===o)return a}}},$6=(t,e=21)=>TE(t,e,AE);var R6=t=>Object.prototype.hasOwnProperty.call(t,"origin"),Mt=class extends Array{findThenRun(e,r){let n=this.findIndex(i=>R6(i)&&i.origin===e);return n<0?this:(r(n),this)}configure(e,r){return this.findThenRun(e,n=>{this.splice(n,1,e(r))})}replace(e,r){return this.findThenRun(e,n=>{this.splice(n,1,r)})}remove(e){return this.findThenRun(e,r=>{this.splice(r,1)})}headless(){return this.filter(R6).forEach(e=>{this.configure(e.origin,{headless:!0})}),this}static create(e){return new Mt(...e)}},gJ=$6("abcedfghicklmn",10);var P6=t=>{let e=()=>async r=>{await r.wait(Mn);let n=t(r);r.update(ln,i=>[...i,n]),e.plugin=n};return e};var j6=t=>{let e=()=>async r=>{await r.wait(En);let n=t(r);r.update(Qs,i=>[...i,n]),e.plugin=n};return e};var FE=t=>(e,...r)=>{var n;let i=(n=t?.(e,...r))!=null?n:r;return Array.isArray(i)?i.filter(o=>o).join(" "):i},Ve=(t,e,r)=>[t,e,r],Hf=(t,e)=>{try{let r=t.get(sr),n=t.get(Li);if(!n.css)throw D0();return{getClassName:FE(e?.className),getStyle:i=>e?.headless?"":i(n),themeManager:r}}catch{throw D0()}},Vf=async(t,e,r,n)=>{if(await t.wait(En),e.remarkPlugins){let o=e.remarkPlugins(t);t.update(Qs,a=>[...a,...o])}let i=await r();if(e.commands&&e.commands(i,t).forEach(([a,s])=>{t.get(Kt).create(a,s)}),e.inputRules){let o=e.inputRules(i,t);t.update(dc,a=>[...a,...o])}if(e.shortcuts){let o=(s,l)=>{var u,c;return(c=(u=n?.keymap)==null?void 0:u[s])!=null?c:l},a=Object.entries(e.shortcuts).flatMap(([s,[l,u,c]])=>{let d=()=>t.get(Kt).call(l,c),f=o(s,u);return Array.isArray(f)?f.map(h=>({key:h,runner:d})):{key:f,runner:d}}).map(s=>[s.key,s.runner]);t.update(ln,s=>s.concat(an(Object.fromEntries(a))))}if(e.prosePlugins){let o=e.prosePlugins(i,t);t.update(ln,a=>[...a,...o])}},Wf=t=>{let e=r=>{let n=t(r);return n.origin=e,n};return e},Uf=(t,e,r)=>{let n=e,i=(o,a)=>r((...s)=>o(t(...s),...s),a);return n.extend=i,n},Hi=(t,e)=>Uf(t,Wf(r=>n=>(e?.forEach(i=>n.inject(i)),async i=>{var o;await i.wait(_o);let a=Hf(i,r),s=t(a,r);if(s.view=(o=r?.view)!=null?o:s.view,await Vf(i,s,async()=>{let l=s.schema(i);i.update(Ri,d=>[...d,[s.id,l]]),await i.wait(Mn);let c=i.get(Et).marks[s.id];if(!c)throw new Error;return c},r),s.view){let l=s.view(i);i.update(tl,u=>[...u,[s.id,l]])}})),Hi),it=(t,e)=>Uf(t,Wf(r=>n=>(e?.forEach(i=>n.inject(i)),async i=>{var o;await i.wait(_o);let a=Hf(i,r),s=t(a,r);if(s.view=(o=r?.view)!=null?o:s.view,await Vf(i,s,async()=>{let l=s.schema(i);i.update($i,d=>[...d,[s.id,l]]),await i.wait(Mn);let c=i.get(Et).nodes[s.id];if(!c)throw new Error;return c},r),s.view){let l=s.view(i);i.update(el,u=>[...u,[s.id,l]])}})),it),lr=(t,e)=>Uf(t,Wf(r=>n=>(e?.forEach(i=>n.inject(i)),async i=>{await i.wait(_o);let o=Hf(i,r),a=t(o,r);if(await Vf(i,a,async()=>{let s={},l={};if(a.schema){let h=a.schema(i);if(h.node){s=h.node;let p=Object.entries(h.node);i.update($i,m=>[...m,...p])}if(h.mark){l=h.mark;let p=Object.entries(h.mark);i.update(Ri,m=>[...m,...p])}}await i.wait(Mn);let u=i.get(Et),c=Object.keys(s).map(h=>[h,u.nodes[h]]),d=Object.keys(l).map(h=>[h,u.marks[h]]);return Object.fromEntries([...c,...d])},r),a.view){let s=a.view(i),l=Object.entries(s).filter(([c])=>i.get($i).findIndex(d=>d[0]===c)!==-1),u=Object.entries(s).filter(([c])=>i.get(Ri).findIndex(d=>d[0]===c)!==-1);i.update(el,c=>[...c,...l]),i.update(tl,c=>[...c,...u])}})),lr);function bc(t){return function(e,r){let{$from:n,$to:i,node:o}=e.selection;if(o&&o.isBlock||n.depth<2||!n.sameParent(i))return!1;let a=n.node(-1);if(a.type!=t)return!1;if(n.parent.content.size==0&&n.node(-1).childCount==n.indexAfter(-1)){if(n.depth==3||n.node(-3).type!=t||n.index(-2)!=n.node(-2).childCount-1)return!1;if(r){let c=$.empty,d=n.index(-1)?1:n.index(-2)?2:3;for(let b=n.depth-d;b>=n.depth-3;b--)c=$.from(n.node(b).copy(c));let f=n.indexAfter(-1)<n.node(-2).childCount?1:n.indexAfter(-2)<n.node(-3).childCount?2:3;c=c.append($.from(t.createAndFill()));let h=n.before(n.depth-(d-1)),p=e.tr.replace(h,n.after(-f),new G(c,4-d,0)),m=-1;p.doc.nodesBetween(h,p.doc.content.size,(b,x)=>{if(m>-1)return!1;b.isTextblock&&b.content.size==0&&(m=x+1)}),m>-1&&p.setSelection(ce.near(p.doc.resolve(m))),r(p.scrollIntoView())}return!0}let s=i.pos==n.end()?a.contentMatchAt(0).defaultType:null,l=e.tr.delete(n.pos,i.pos),u=s?[null,{type:s}]:void 0;return ao(l.doc,n.pos,2,u)?(r&&r(l.split(n.pos,2,u).scrollIntoView()),!0):!1}}function Ia(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return o?r?n.node(o.depth-1).type==t?OE(e,r,t,o):zE(e,r,o):!0:!1}}function OE(t,e,r,n){let i=t.tr,o=n.end,a=n.$to.end(n.depth);return o<a&&(i.step(new dt(o-1,a,o,a,new G($.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new ds(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth)),e(i.lift(n,Zo(n)).scrollIntoView()),!0}function zE(t,e,r){let n=t.tr,i=r.parent;for(let h=r.end,p=r.endIndex-1,m=r.startIndex;p>m;p--)h-=i.child(p).nodeSize,n.delete(h-1,h+1);let o=n.doc.resolve(r.start),a=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let s=r.startIndex==0,l=r.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(s?0:1),c+1,a.content.append(l?$.empty:$.from(i))))return!1;let d=o.pos,f=d+a.nodeSize;return n.step(new dt(d-(s?1:0),f+(l?1:0),d+1,f-1,new G((s?$.empty:$.from(i.copy($.empty))).append(l?$.empty:$.from(i.copy($.empty))),s?0:1,l?0:1),s?0:1)),e(n.scrollIntoView()),!0}function La(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=t)return!1;if(r){let u=l.lastChild&&l.lastChild.type==s.type,c=$.from(u?t.create():null),d=new G($.from(t.create(null,$.from(s.type.create(null,c)))),u?3:1,0),f=o.start,h=o.end;r(e.tr.step(new dt(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}var q6={}.hasOwnProperty;function V6(t){let e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return Oi(t,"definition",n=>{let i=H6(n.identifier);i&&!q6.call(e,i)&&(e[i]=n)}),r;function r(n){let i=H6(n);return i&&q6.call(e,i)?e[i]:null}}function H6(t){return String(t||"").toUpperCase()}function Gf(){return t=>{let e=V6(t);Oi(t,(r,n,i)=>{if(r.type==="definition"&&i!==null&&typeof n=="number")return i.children.splice(n,1),[Rs,n];if(r.type==="imageReference"||r.type==="linkReference"){let o=e(r.identifier);if(o&&i!==null&&typeof n=="number"){let a=r.type==="imageReference"?{type:"image",url:o.url,title:o.title,alt:r.alt}:{type:"link",url:o.url,title:o.title,children:r.children};return i.children[n]=a,[Rs,n]}}})}}var NE=Object.defineProperty,IE=Object.defineProperties,LE=Object.getOwnPropertyDescriptors,W6=Object.getOwnPropertySymbols,BE=Object.prototype.hasOwnProperty,$E=Object.prototype.propertyIsEnumerable,U6=(t,e,r)=>e in t?NE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fn=(t,e)=>{for(var r in e||(e={}))BE.call(e,r)&&U6(t,r,e[r]);if(W6)for(var r of W6(e))$E.call(e,r)&&U6(t,r,e[r]);return t},On=(t,e)=>IE(t,LE(e)),yt={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},G6="code_inline",Qf=be("ToggleInlineCode"),RE=Hi(t=>({id:G6,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",{class:t.getClassName(e.attrs,"code-inline")}],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,r,n)=>{e.openMark(n),e.addText(r.value),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===G6,runner:(e,r,n)=>{e.withMark(r,"inlineCode",n.text||"")}}}),inputRules:e=>[Yn(/(?:^|[^`])(`([^`]+)`)$/,e)],commands:e=>[ve(Qf,()=>mo(e))],shortcuts:{[yt.CodeInline]:Ve(Qf,"Mod-e")}})),Kf="em",eh=be("ToggleItalic"),PE=Hi(t=>({id:Kf,schema:()=>({parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",{class:t.getClassName(e.attrs,Kf)}],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,r,n)=>{e.openMark(n),e.next(r.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===Kf,runner:(e,r)=>{e.withMark(r,"emphasis")}}}),inputRules:e=>[Yn(/(?:^|[^_])(_([^_]+)_)$/,e),Yn(/(?:^|[^*])(\*([^*]+)\*)$/,e)],commands:e=>[ve(eh,()=>mo(e))],shortcuts:{[yt.Em]:Ve(eh,"Mod-i")}})),jE=new ze("MILKDOWN_LINK_INPUT"),Y6=be("ToggleLink"),th=be("ModifyLink"),yc="link",qE=Hi((t,e)=>({id:yc,schema:()=>({attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:r=>{if(!(r instanceof HTMLElement))throw new Error;return{href:r.getAttribute("href"),title:r.getAttribute("title")}}}],toDOM:r=>["a",On(Fn({},r.attrs),{class:t.getClassName(r.attrs,yc)})],parseMarkdown:{match:r=>r.type==="link",runner:(r,n,i)=>{let o=n.url,a=n.title;r.openMark(i,{href:o,title:a}),r.next(n.children),r.closeMark(i)}},toMarkdown:{match:r=>r.type.name===yc,runner:(r,n)=>{r.withMark(n,"link",void 0,{title:n.attrs.title,url:n.attrs.href})}}}),commands:r=>[ve(Y6,(n="")=>mo(r,{href:n})),ve(th,(n="")=>(i,o)=>{var a;if(!o)return!1;let{marks:s}=i.schema,l,u=-1,{selection:c}=i,{from:d,to:f}=c;if(i.doc.nodesBetween(d,d===f?f+1:f,(k,D)=>{var z;if((z=s.link)!=null&&z.isInSet(k.marks))return l=k,u=D,!1}),!l)return!1;let h=l.marks.find(({type:k})=>k===r);if(!h)return!1;let p=u,m=u+l.nodeSize,{tr:b}=i,x=(a=s.link)==null?void 0:a.create(On(Fn({},h.attrs),{href:n}));return x?(o(b.removeMark(p,m,h).addMark(p,m,x).setSelection(new le(b.selection.$anchor)).scrollIntoView()),!0):!1})],inputRules:(r,n)=>[new Ye(/\[(?<text>.*?)]\((?<href>.*?)(?=“|\))"?(?<title>[^"]+)?"?\)/,(i,o,a,s)=>{let[l,u="",c,d]=o,{tr:f}=i;if(l){let h=u||"link";f.replaceWith(a,s,n.get(Et).text(h)).addMark(a,h.length+a,r.create({title:d,href:c}))}return f})],prosePlugins:(r,n)=>{let i=!1;return[new _e({key:jE,view:o=>{var a,s,l;let u=t.themeManager.get("input-chip",{placeholder:(s=(a=e?.input)==null?void 0:a.placeholder)!=null?s:"Input Web Link",buttonText:(l=e?.input)==null?void 0:l.buttonText,onUpdate:h=>{n.get(Kt).call(th,h)},calculatePosition:(h,p)=>{bu(h,p,(m,b,x,k)=>{let D=h.dom.parentElement;if(!D)throw new Error;let z=b.left-m.left,O=m.left-k.left-(x.width-z)/2,E=m.bottom-k.top+14+D.scrollTop;return i&&(E=m.top-k.top-x.height-14+D.scrollTop),O<0&&(O=0),[E,O]})}});if(!u)return{};let c=h=>{let{selection:p,doc:m}=h.state,{from:b,to:x}=p;if(!h.hasFocus())return!1;if(p.empty&&p instanceof le&&x<m.content.size&&b<m.content.size&&m.rangeHasMark(b,b===x?x+1:x,r))return i=!1,!0;if(p instanceof ie){let{node:k}=p;if(k.type.name==="image"&&k.marks.findIndex(D=>D.type.name===yc)>-1)return i=!0,!0}return!1},d=h=>{let{selection:p}=h.state,m,{from:b,to:x}=p;if(h.state.doc.nodesBetween(b,b===x?x+1:x,z=>{if(r.isInSet(z.marks))return m=z,!1}),!m)return;let k=m.marks.find(z=>z.type===r);return k?k.attrs.href:void 0},f=h=>{if(!h.editable)return;c(h)?(u.show(h),u.update(d(h))):u.hide()};return u.init(o),f(o),{update:(h,p)=>{p?.doc.eq(h.state.doc)&&p.selection.eq(h.state.selection)||requestAnimationFrame(()=>{f(h)})},destroy:()=>{u.destroy()}}}})]}})),Jf="strong",rh=be("ToggleBold"),HE=Hi(t=>({id:Jf,schema:()=>({parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"}],toDOM:e=>["strong",{class:t.getClassName(e.attrs,Jf)}],parseMarkdown:{match:e=>e.type==="strong",runner:(e,r,n)=>{e.openMark(n),e.next(r.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===Jf,runner:(e,r)=>{e.withMark(r,"strong")}}}),inputRules:e=>[Yn(/(?:__)([^_]+)(?:__)$/,e),Yn(/(?:\*\*)([^*]+)(?:\*\*)$/,e)],commands:e=>[ve(rh,()=>mo(e))],shortcuts:{[yt.Bold]:Ve(rh,"Mod-b")}})),VE=[RE(),PE(),HE(),qE()],xc="blockquote",nh=be("WrapInBlockquote"),WE=it(t=>({id:xc,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",{class:t.getClassName(e.attrs,xc)},0],parseMarkdown:{match:({type:e})=>e===xc,runner:(e,r,n)=>{e.openNode(n).next(r.children).closeNode()}},toMarkdown:{match:e=>e.type.name===xc,runner:(e,r)=>{e.openNode("blockquote").next(r.content).closeNode()}}}),inputRules:e=>[Ei(/^\s*>\s$/,e)],commands:e=>[ve(nh,()=>kn(e))],shortcuts:{[yt.Blockquote]:Ve(nh,"Mod-Shift-b")}})),ih=be("WrapInBulletList"),UE=it(t=>{let e="bullet_list";return{id:e,schema:()=>({content:"listItem+",group:"block",parseDOM:[{tag:"ul"}],toDOM:r=>["ul",{class:t.getClassName(r.attrs,"bullet-list")},0],parseMarkdown:{match:({type:r,ordered:n})=>r==="list"&&!n,runner:(r,n,i)=>{r.openNode(i).next(n.children).closeNode()}},toMarkdown:{match:r=>r.type.name===e,runner:(r,n)=>{r.openNode("list",void 0,{ordered:!1}).next(n.content).closeNode()}}}),inputRules:r=>[Ei(/^\s*([-+*])\s$/,r)],commands:r=>[ve(ih,()=>kn(r))],shortcuts:{[yt.BulletList]:Ve(ih,"Mod-Alt-8")}}}),GE=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],KE=/^```(?<language>[a-z]*)?[\s\n]$/,JE=/^~~~(?<language>[a-z]*)?[\s\n]$/,oh=be("TurnIntoCodeFence"),Zf="fence",ZE=it((t,e)=>{let r=e?.languageList||GE;return{id:Zf,schema:n=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:i=>{var o;if(!(i instanceof HTMLElement))throw new Error("Parse DOM error.");return{language:(o=i.querySelector("pre"))==null?void 0:o.dataset.language}},getContent:(i,o)=>{var a,s;if(!(i instanceof HTMLElement))throw new Error("Parse DOM error.");let l=o.text((s=(a=i.querySelector("pre"))==null?void 0:a.textContent)!=null?s:"");return $.from(l)}},{tag:"pre",preserveWhitespace:"full",getAttrs:i=>{if(!(i instanceof HTMLElement))throw new Error("Parse DOM error.");return{language:i.dataset.language}}}],toDOM:i=>{let o=document.createElement("select");return r.forEach(a=>{let s=document.createElement("option");s.value=a,s.innerText=a||"--",a===i.attrs.language&&(s.selected=!0),o.appendChild(s)}),o.onchange=a=>{let s=a.target;if(!(s instanceof HTMLSelectElement))return;let l=n.get(Vr);if(!l.editable){s.value=i.attrs.language;return}let{top:u,left:c}=s.getBoundingClientRect(),d=l.posAtCoords({top:u,left:c});if(!d)return;let{tr:f}=l.state;l.dispatch(f.setNodeMarkup(d.inside,void 0,On(Fn({},i.attrs),{language:s.value})))},["div",{class:"code-fence-container"},o,["pre",{"data-language":i.attrs.language,class:t.getClassName(i.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:({type:i})=>i==="code",runner:(i,o,a)=>{let s=o.lang,l=o.value;i.openNode(a,{language:s}),l&&i.addText(l),i.closeNode()}},toMarkdown:{match:i=>i.type.name===Zf,runner:(i,o)=>{var a;i.addNode("code",void 0,((a=o.content.firstChild)==null?void 0:a.text)||"",{lang:o.attrs.language})}}}),inputRules:n=>[mu(KE,n,i=>{let[o,a]=i;if(!!o)return{language:a}}),mu(JE,n,i=>{let[o,a]=i;if(!!o)return{language:a}})],commands:n=>[ve(oh,()=>ua(n))],shortcuts:{[yt.CodeFence]:Ve(oh,"Mod-Alt-c")},view:()=>(n,i,o)=>{let a=n,s=m=>{let{tr:b}=i.state;i.dispatch(b.setNodeMarkup(o(),void 0,{fold:!0,language:m}))},l=()=>{let{tr:m}=i.state;i.dispatch(m.setNodeMarkup(o(),void 0,On(Fn({},a.attrs),{fold:!0})))},u=()=>{let{tr:m}=i.state;i.dispatch(m.setNodeMarkup(o(),void 0,On(Fn({},a.attrs),{fold:!1})))},c=t.themeManager.get("code-fence",{onBlur:l,onFocus:u,onSelectLanguage:s,editable:()=>i.editable,languageList:r});if(!c)return{};let{dom:d,contentDOM:f,onUpdate:h,onDestroy:p}=c;return h(a),{dom:d,contentDOM:f,update:m=>m.type.name!==Zf?!1:(a=m,h(a),!0),destroy:p}}}}),XE=it(()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,r)=>{t.injectRoot(e,r)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}})})),ah=be("InsertHardbreak"),YE=it(t=>({id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:e=>["br",{class:t.getClassName(e.attrs,"hardbreak")}],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,r,n)=>{e.addNode(n)}},toMarkdown:{match:e=>e.type.name==="hardbreak",runner:e=>{e.addNode("break")}}}),commands:e=>[ve(ah,()=>(r,n)=>{var i;let{selection:o,tr:a}=r;if(o.empty){let s=o.$from.node();if(s.childCount>0&&((i=s.lastChild)==null?void 0:i.type.name)==="hardbreak")return n?.(a.replaceRangeWith(o.to-1,o.to,r.schema.node("paragraph")).setSelection(ce.near(a.doc.resolve(o.to))).scrollIntoView()),!0}return n?.(a.setMeta("hardbreak",!0).replaceSelectionWith(e.create()).scrollIntoView()),!0})],shortcuts:{[yt.HardBreak]:Ve(ah,"Shift-Enter")},prosePlugins:e=>[new _e({key:new ze("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(r,n,i)=>{if(!r.length)return;let[o]=r;if(!o)return;let[a]=o.steps;if(o.getMeta("hardbreak")){if(!(a instanceof pt))return;let{from:u}=a;return i.tr.setNodeMarkup(u,e,void 0,[])}if(a instanceof Pr){let u=i.tr,{from:c,to:d}=a;return i.doc.nodesBetween(c,d,(f,h)=>{f.type===e&&(u=u.setNodeMarkup(h,e,void 0,[]))}),u}}})]})),K6=Array(6).fill(0).map((t,e)=>e+1),Vi=be("TurnIntoHeading"),Xf=new ze("MILKDOWN_ID"),QE=t=>t.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),eM=it((t,e)=>{var r;let n="heading",i=(r=e?.getId)!=null?r:QE;return{id:n,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:K6.map(o=>({tag:`h${o}`,getAttrs:a=>{if(!(a instanceof HTMLElement))throw new Error;return{level:o,id:a.id}}})),toDOM:o=>[`h${o.attrs.level}`,{id:o.attrs.id||i(o),class:t.getClassName(o.attrs,`heading h${o.attrs.level}`)},0],parseMarkdown:{match:({type:o})=>o===n,runner:(o,a,s)=>{let l=a.depth;o.openNode(s,{level:l}),o.next(a.children),o.closeNode()}},toMarkdown:{match:o=>o.type.name===n,runner:(o,a)=>{var s;if(o.openNode("heading",void 0,{depth:a.attrs.level}),a.childCount>=1&&((s=a.lastChild)==null?void 0:s.type.name)==="hardbreak"){let u=[];a.content.forEach((c,d,f)=>{f!==a.childCount-1&&u.push(c)}),o.next($.fromArray(u))}else o.next(a.content);o.closeNode()}}}),inputRules:o=>K6.map(a=>mu(new RegExp(`^(#{1,${a}})\\s$`),o,()=>({level:a}))),commands:o=>[ve(Vi,(a=1)=>ua(o,{level:a}))],shortcuts:{[yt.H1]:Ve(Vi,"Mod-Alt-1",1),[yt.H2]:Ve(Vi,"Mod-Alt-2",2),[yt.H3]:Ve(Vi,"Mod-Alt-3",3),[yt.H4]:Ve(Vi,"Mod-Alt-4",4),[yt.H5]:Ve(Vi,"Mod-Alt-5",5),[yt.H6]:Ve(Vi,"Mod-Alt-6",6)},prosePlugins:(o,a)=>{let s=!1,l=(u,c)=>{let d=u.tr;u.doc.descendants((f,h)=>{if(f.type===o&&!s){if(f.textContent.trim().length===0)return;let p=f.attrs,m=i(f);p.id!==m&&d.setMeta(Xf,!0).setNodeMarkup(h,void 0,On(Fn({},p),{id:m}))}}),c(d)};return[new _e({key:Xf,props:{handleDOMEvents:{compositionstart:()=>(s=!0,!1),compositionend:()=>{s=!1;let u=a.get(Vr);return setTimeout(()=>{l(u.state,c=>u.dispatch(c))},0),!1}}},appendTransaction:(u,c,d)=>{let f=null;return u.every(h=>!h.getMeta(Xf))&&u.some(h=>h.docChanged)&&l(d,h=>{f=h}),f},view:u=>{let c=u.state.doc,d=u.state.tr;return c.descendants((f,h)=>{f.type.name==="heading"&&f.attrs.level&&(f.attrs.id||(d=d.setNodeMarkup(h,void 0,On(Fn({},f.attrs),{id:i(f)}))))}),u.dispatch(d),{}}})]}}}),Yf="hr",Q6=be("InsertHr"),tM=it(t=>({id:Yf,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:t.getClassName(e.attrs,Yf)}],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,r,n)=>{e.addNode(n)}},toMarkdown:{match:e=>e.type.name===Yf,runner:e=>{e.addNode("thematicBreak")}}}),inputRules:e=>[new Ye(/^(?:---|___\s|\*\*\*\s)$/,(r,n,i,o)=>{let{tr:a}=r;return n[0]&&a.replaceWith(i-1,o,e.create()),a})],commands:(e,r)=>[ve(Q6,()=>(n,i)=>{if(!i)return!0;let o=r.get(Et).node("paragraph"),{tr:a,selection:s}=n,{from:l}=s,u=e.create();if(!u)return!0;let c=a.replaceSelectionWith(u).insert(l,o),d=ce.findFrom(c.doc.resolve(l),1,!0);return d&&i(c.setSelection(d).scrollIntoView()),!0})]})),sh=be("ModifyImage"),eb=be("InsertImage"),wc="image",rM=new ze("MILKDOWN_IMAGE_INPUT"),nM=it((t,e)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:null},title:{default:null}},parseDOM:[{tag:"img[src]",getAttrs:r=>{if(!(r instanceof HTMLElement))throw new Error;return{src:r.getAttribute("src")||"",alt:r.getAttribute("alt"),title:r.getAttribute("title")||r.getAttribute("alt"),width:r.getAttribute("width")}}}],toDOM:r=>["img",On(Fn({},r.attrs),{class:t.getClassName(r.attrs,wc)})],parseMarkdown:{match:({type:r})=>r===wc,runner:(r,n,i)=>{let o=n.url,a=n.alt,s=n.title;r.addNode(i,{src:o,alt:a,title:s})}},toMarkdown:{match:r=>r.type.name===wc,runner:(r,n)=>{r.addNode("image",void 0,void 0,{title:n.attrs.title,url:n.attrs.src,alt:n.attrs.alt})}}}),commands:r=>[ve(eb,(n="")=>(i,o)=>{if(!o)return!0;let{tr:a}=i,s=r.create({src:n});if(!s)return!0;let l=a.replaceSelectionWith(s);return o(l.scrollIntoView()),!0}),ve(sh,(n="")=>(i,o)=>{let a=tr(i.selection,r);if(!a)return!1;let{tr:s}=i;return o?.(s.setNodeMarkup(a.pos,void 0,On(Fn({},a.node.attrs),{loading:!0,src:n})).scrollIntoView()),!0})],inputRules:r=>[new Ye(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(n,i,o,a)=>{let[s,l,u="",c]=i,{tr:d}=n;return s&&d.replaceWith(o,a,r.create({src:u,alt:l,title:c})),d})],view:()=>r=>{var n,i;let o=r,a=(n=e?.placeholder)!=null?n:"Add an Image",s=(i=e?.isBlock)!=null?i:!1,l=t.themeManager.get("image",{placeholder:a,isBlock:s});if(!l)return{};let{dom:u,onUpdate:c}=l;return c(o),{dom:u,update:d=>d.type.name!==wc?!1:(o=d,c(o),!0),selectNode:()=>{u.classList.add("ProseMirror-selectednode")},deselectNode:()=>{u.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(r,n)=>[new _e({key:rM,view:i=>{var o,a,s;let l=t.themeManager.get("input-chip",{placeholder:(a=(o=e?.input)==null?void 0:o.placeholder)!=null?a:"Input Image Link",buttonText:(s=e?.input)==null?void 0:s.buttonText,onUpdate:f=>{n.get(Kt).call(sh,f)}});if(!l)return{};let u=f=>Boolean(f.hasFocus()&&r&&tr(f.state.selection,r)),c=f=>{let h=tr(f.state.selection,r);return h?h.node.attrs.src:void 0},d=f=>{if(!f.editable)return;u(f)?(l.show(f),l.update(c(f))):l.hide()};return l.init(i),d(i),{update:(f,h)=>{h?.doc.eq(f.state.doc)&&h.selection.eq(f.state.selection)||d(f)},destroy:()=>{l.destroy()}}}})]})),J6="list_item",lh=be("SplitListItem"),uh=be("SinkListItem"),ch=be("LiftListItem"),iM=it(t=>({id:J6,schema:()=>({group:"listItem",content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:e=>["li",{class:t.getClassName(e.attrs,"list-item")},0],parseMarkdown:{match:({type:e,checked:r})=>e==="listItem"&&r===null,runner:(e,r,n)=>{e.openNode(n),e.next(r.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===J6,runner:(e,r)=>{e.openNode("listItem"),e.next(r.content),e.closeNode()}}}),inputRules:e=>[Ei(/^\s*([-+*])\s$/,e)],commands:e=>[ve(lh,()=>bc(e)),ve(uh,()=>La(e)),ve(ch,()=>Ia(e))],shortcuts:{[yt.NextListItem]:Ve(lh,"Enter"),[yt.SinkListItem]:Ve(uh,"Mod-]"),[yt.LiftListItem]:Ve(ch,"Mod-[")}})),dh=be("WrapInOrderedList"),Z6="ordered_list",oM=it(t=>({id:Z6,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",On(Fn({},e.attrs.order===1?{}:e.attrs.order),{class:t.getClassName(e.attrs,"ordered-list")}),0],parseMarkdown:{match:({type:e,ordered:r})=>e==="list"&&!!r,runner:(e,r,n)=>{e.openNode(n).next(r.children).closeNode()}},toMarkdown:{match:e=>e.type.name===Z6,runner:(e,r)=>{e.openNode("list",void 0,{ordered:!0,start:1}),e.next(r.content),e.closeNode()}}}),inputRules:e=>[Ei(/^(\d+)\.\s$/,e,r=>({order:Number(r[1])}),(r,n)=>n.childCount+n.attrs.order===Number(r[1]))],commands:e=>[ve(dh,()=>kn(e))],shortcuts:{[yt.OrderedList]:Ve(dh,"Mod-Alt-7")}})),fh=be("TurnIntoText"),X6="paragraph",aM=it(t=>({id:X6,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",{class:t.getClassName(e.attrs,X6)},0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,r,n)=>{e.openNode(n),r.children?e.next(r.children):e.addText(r.value),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,r)=>{var n;if(e.openNode("paragraph"),r.childCount>=1&&((n=r.lastChild)==null?void 0:n.type.name)==="hardbreak"){let o=[];r.content.forEach((a,s,l)=>{l!==r.childCount-1&&o.push(a)}),e.next($.fromArray(o))}else e.next(r.content);e.closeNode()}}}),commands:e=>[ve(fh,()=>ua(e))],shortcuts:{[yt.Text]:Ve(fh,"Mod-Alt-0")}})),sM=it(()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}})})),lM=[XE(),aM(),YE(),WE(),ZE(),UE(),oM(),iM(),eM(),tM(),nM(),sM()],uM=t=>!!t.children,cM=t=>t.type==="html";function dM(t,e){return r(t,0,null)[0];function r(n,i,o){if(uM(n)){let a=[];for(let s=0,l=n.children.length;s<l;s++){let u=n.children[s];if(u){let c=r(u,s,n);if(c)for(let d=0,f=c.length;d<f;d++){let h=c[d];h&&a.push(h)}}}n.children=a}return e(n,i,o)}}var fM=()=>{function t(e){dM(e,r=>cM(r)?[]:[r])}return t},hM=new ze("MILKDOWN_INLINE_NODES_CURSOR"),hh=new _e({key:hM,state:{init(){return!1},apply(t){if(!t.selection.empty)return!1;let e=t.selection.$from,r=e.nodeBefore,n=e.nodeAfter;return!!(r&&n&&r.isInline&&!r.isText&&n.isInline&&!n.isText)}},props:{handleDOMEvents:{beforeinput:(t,e)=>{if(hh.getState(t.state)&&e instanceof InputEvent){let n=t.state.selection.from;return e.preventDefault(),t.dispatch(t.state.tr.insertText(e.data||"",n)),!0}return!1}},decorations(t){if(hh.getState(t)){let n=t.selection.$from.pos,i=document.createElement("span"),o=mt.widget(n,i,{side:-1}),a=document.createElement("span"),s=mt.widget(n,a);return setTimeout(()=>{i.contentEditable="true",a.contentEditable="true"}),Xe.create(t.doc,[o,s])}return Xe.empty}}}),pM=[lr(()=>({prosePlugins:()=>[hh],remarkPlugins:()=>[Gf,fM]}))()],mM=Mt.create([...lM,...VE]),vc=Mt.create([...pM,...mM]),tb={ToggleInlineCode:Qf,ToggleItalic:eh,ToggleLink:Y6,ToggleBold:rh,ModifyLink:th,ModifyImage:sh,WrapInBlockquote:nh,WrapInBulletList:ih,WrapInOrderedList:dh,TurnIntoCodeFence:oh,TurnIntoHeading:Vi,TurnIntoText:fh,InsertHardbreak:ah,InsertHr:Q6,InsertImage:eb,SplitListItem:lh,SinkListItem:uh,LiftListItem:ch};var gM=be("Undo"),bM=be("Redo"),rb=lr(()=>({commands:()=>[ve(gM,()=>qi),ve(bM,()=>Tn)],prosePlugins:()=>[pc(),an({"Mod-z":qi,"Mod-y":Tn,"Shift-Mod-z":Tn})]}))();var yM=Object.defineProperty,xM=Object.defineProperties,wM=Object.getOwnPropertyDescriptors,nb=Object.getOwnPropertySymbols,vM=Object.prototype.hasOwnProperty,kM=Object.prototype.propertyIsEnumerable,ib=(t,e,r)=>e in t?yM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DM=(t,e)=>{for(var r in e||(e={}))vM.call(e,r)&&ib(t,r,e[r]);if(nb)for(var r of nb(e))kM.call(e,r)&&ib(t,r,e[r]);return t},CM=(t,e)=>xM(t,wM(e)),ph=t=>{if(!t)return!1;if(Array.isArray(t))return t.length>1?!1:ph(t[0]);let e=t.content;return e?ph(e):t.type==="text"},SM=new ze("MILKDOWN_CLIPBOARD"),_M=lr(()=>({prosePlugins:(t,e)=>{let r=e.get(Et);return e.update(uc,i=>{var o;return CM(DM({},i),{editable:(o=i.editable)!=null?o:()=>!0})}),[new _e({key:SM,props:{handlePaste:(i,o,a)=>{var s,l;let u=e.get(za),c=e.get(Pi),d=(l=(s=i.props).editable)==null?void 0:l.call(s,i.state),{clipboardData:f}=o;if(!d||!f||i.state.selection.$from.node().type.spec.code)return!1;let p=f.getData("text/plain"),m=f.getData("text/html");if(m.length===0&&p.length===0)return!1;if(m.length>0||p.length===0){let x=document.createElement("template");x.innerHTML=m;let k=Rr.fromSchema(r).parse(x.content);x.remove(),p=c(k)}let b=u(p);return!b||typeof b=="string"?!1:(i.dispatch(i.state.tr.replaceSelection(new G(b.content,a.openStart,a.openEnd))),!0)},clipboardTextSerializer:i=>{let o=e.get(Pi);if(ph(i.content.toJSON()))return i.content.textBetween(0,i.content.size,`

`);let s=r.topNodeType.createAndFill(void 0,i.content);return s?o(s):""}}})]}})),ob=_M();var kc=class{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}},Dc=Te(new kc,"listener"),EM=new ze("MILKDOWN_LISTENER"),ab=t=>(t.inject(Dc,new kc),async e=>{await e.wait(En);let r=e.get(Dc);if(r.doc||r.markdown)throw new Error("listener.doc and listener.markdown are deprecated, use new listener manager API instead");let{listeners:n}=r;n.beforeMounted.forEach(l=>l(e)),await e.wait(Xs);let i=e.get(Pi),o=null,a=null,s=new _e({key:EM,view:()=>({destroy:()=>{n.destroy.forEach(l=>l(e))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach(l=>l(e)),!1),blur:()=>(n.blur.forEach(l=>l(e)),!1)}},state:{init:()=>{},apply:l=>{if(!l.docChanged)return;let{doc:u}=l;if(n.updated.length>0&&(o==null||o!==u)&&n.updated.forEach(c=>{c(e,u,o)}),n.markdownUpdated.length>0){let c=i(l.doc);(a==null||a!==c)&&(n.markdownUpdated.forEach(d=>{d(e,c,a)}),a=c)}o=u}}});e.update(ln,l=>l.concat(s)),await e.wait(Ys),n.mounted.forEach(l=>l(e))});var sb={tokenize:AM,concrete:!0},MM={tokenize:TM,partial:!0};function AM(t,e,r){let n=this,i=n.events[n.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(b){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(b)}function l(b){return b===36?(t.consume(b),a++,l):(t.exit("mathFlowFenceSequence"),a<2?r(b):oe(t,u,"whitespace")(b))}function u(b){return b===null||W(b)?d(b):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),c(b))}function c(b){return b===null||W(b)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),d(b)):b===36?r(b):(t.consume(b),c)}function d(b){return t.exit("mathFlowFence"),n.interrupt?e(b):f(b)}function f(b){return b===null?p(b):W(b)?t.attempt(MM,t.attempt({tokenize:m,partial:!0},p,o?oe(t,f,"linePrefix",o+1):f),p)(b):(t.enter("mathFlowValue"),h(b))}function h(b){return b===null||W(b)?(t.exit("mathFlowValue"),f(b)):(t.consume(b),h)}function p(b){return t.exit("mathFlow"),e(b)}function m(b,x,k){let D=0;return oe(b,z,"linePrefix",4);function z(T){return b.enter("mathFlowFence"),b.enter("mathFlowFenceSequence"),O(T)}function O(T){return T===36?(b.consume(T),D++,O):D<a?k(T):(b.exit("mathFlowFenceSequence"),oe(b,E,"whitespace")(T))}function E(T){return T===null||W(T)?(b.exit("mathFlowFence"),x(T)):k(T)}}}function TM(t,e,r){let n=this;return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o}function o(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function lb(t={}){let e=t.singleDollarTextMath;return e==null&&(e=!0),{tokenize:r,resolve:FM,previous:OM};function r(n,i,o){let a=this,s=0,l,u;return c;function c(m){return n.enter("mathText"),n.enter("mathTextSequence"),d(m)}function d(m){return m===36?(n.consume(m),s++,d):s<2&&!e?o(m):(n.exit("mathTextSequence"),f(m))}function f(m){return m===null?o(m):m===36?(u=n.enter("mathTextSequence"),l=0,p(m)):m===32?(n.enter("space"),n.consume(m),n.exit("space"),f):W(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),f):(n.enter("mathTextData"),h(m))}function h(m){return m===null||m===32||m===36||W(m)?(n.exit("mathTextData"),f(m)):(n.consume(m),h)}function p(m){return m===36?(n.consume(m),l++,p):l===s?(n.exit("mathTextSequence"),n.exit("mathText"),i(m)):(u.type="mathTextData",h(m))}}}function FM(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[r][1].type="mathTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="mathTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function OM(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function mh(t){return{flow:{[36]:sb},text:{[36]:lb(t)}}}function ub(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:o},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:s,mathText:a,mathTextData:s}};function t(l){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},l)}function e(){this.buffer()}function r(){let l=this.resume(),u=this.stack[this.stack.length-1];u.meta=l}function n(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))}function i(l){let u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.exit(l);c.value=u,c.data.hChildren[0].value=u,this.setData("mathFlowInside")}function o(l){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},l),this.buffer()}function a(l){let u=this.resume(),c=this.exit(l);c.value=u,c.data.hChildren[0].value=u}function s(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function cb(t={}){let e=t.singleDollarTextMath;return e==null&&(e=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:["mathFlowMeta"]},{character:"\r",inConstruct:["mathFlowMeta"]},e?{character:"$",inConstruct:["mathFlowMeta","phrasing"]}:{character:"$",after:"\\$",inConstruct:["mathFlowMeta","phrasing"]},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(o,a,s,l){let u=o.value||"",c="$".repeat(Math.max(Lu(u,"$")+1,2)),d=s.enter("mathFlow"),f=Oe(l),h=f.move(c);if(o.meta){let p=s.enter("mathFlowMeta");h+=f.move(Pe(s,o.meta,{...f.current(),before:h,after:" ",encode:["$"]})),p()}return h+=f.move(`
`),u&&(h+=f.move(u+`
`)),h+=f.move(c),d(),h}function n(o){let a=o.value||"",s=1,l="";for(e||s++;new RegExp("(^|[^$])"+"\\$".repeat(s)+"([^$]|$)").test(a);)s++;/[^ \r\n]/.test(a)&&(/[ \r\n$]/.test(a.charAt(0))||/[ \r\n$]/.test(a.charAt(a.length-1)))&&(l=" ");let u="$".repeat(s);return u+l+a+l+u}function i(){return"$"}}function gh(t={}){let e=this.data();r("micromarkExtensions",mh(t)),r("fromMarkdownExtensions",ub()),r("toMarkdownExtensions",cb(t));function r(n,i){(e[n]?e[n]:e[n]=[]).push(i)}}var cr=class{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new cr(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}},wr=class{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new wr(r,cr.range(this,e))}},q=class{constructor(e,r){this.position=void 0;var n="KaTeX parse error: "+e,i,o=r&&r.loc;if(o&&o.start<=o.end){var a=o.lexer.input;i=o.start;var s=o.end;i===a.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=a.slice(i,s).replace(/[^]/g,"$&̲"),u;i>15?u="…"+a.slice(i-15,i):u=a.slice(0,i);var c;s+15<a.length?c=a.slice(s,s+15)+"…":c=a.slice(s),n+=u+l+c}var d=new Error(n);return d.name="ParseError",d.__proto__=q.prototype,d.position=i,d}};q.prototype.__proto__=Error.prototype;var zM=function(e,r){return e.indexOf(r)!==-1},NM=function(e,r){return e===void 0?r:e},IM=/([A-Z])/g,LM=function(e){return e.replace(IM,"-$1").toLowerCase()},BM={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},$M=/[&><"']/g;function RM(t){return String(t).replace($M,e=>BM[e])}var qb=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},PM=function(e){var r=qb(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},jM=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},qM=function(e){var r=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return r!=null?r[1]:"_relative"},fe={contains:zM,deflt:NM,escape:RM,hyphenate:LM,getBaseElem:qb,isCharacterBox:PM,protocolFromUrl:qM},Ic={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function HM(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}var al=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in Ic)if(Ic.hasOwnProperty(r)){var n=Ic[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:HM(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new q("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=fe.protocolFromUrl(e.url));var r=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(r)}},zn=class{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Nn[VM[this.id]]}sub(){return Nn[WM[this.id]]}fracNum(){return Nn[UM[this.id]]}fracDen(){return Nn[GM[this.id]]}cramp(){return Nn[KM[this.id]]}text(){return Nn[JM[this.id]]}isTight(){return this.size>=2}},jh=0,Bc=1,$a=2,oi=3,sl=4,Ur=5,Ra=6,dr=7,Nn=[new zn(jh,0,!1),new zn(Bc,0,!0),new zn($a,1,!1),new zn(oi,1,!0),new zn(sl,2,!1),new zn(Ur,2,!0),new zn(Ra,3,!1),new zn(dr,3,!0)],VM=[sl,Ur,sl,Ur,Ra,dr,Ra,dr],WM=[Ur,Ur,Ur,Ur,dr,dr,dr,dr],UM=[$a,oi,sl,Ur,Ra,dr,Ra,dr],GM=[oi,oi,Ur,Ur,dr,dr,dr,dr],KM=[Bc,Bc,oi,oi,Ur,Ur,dr,dr],JM=[jh,Bc,$a,oi,$a,oi,$a,oi],se={DISPLAY:Nn[jh],TEXT:Nn[$a],SCRIPT:Nn[sl],SCRIPTSCRIPT:Nn[Ra]},Ah=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ZM(t){for(var e=0;e<Ah.length;e++)for(var r=Ah[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var Lc=[];Ah.forEach(t=>t.blocks.forEach(e=>Lc.push(...e)));function Hb(t){for(var e=0;e<Lc.length;e+=2)if(t>=Lc[e]&&t<=Lc[e+1])return!0;return!1}var Ba=80,XM=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},YM=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},QM=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},eA=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},tA=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},rA=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},nA=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},iA=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=XM(r,Ba);break;case"sqrtSize1":i=YM(r,Ba);break;case"sqrtSize2":i=QM(r,Ba);break;case"sqrtSize3":i=eA(r,Ba);break;case"sqrtSize4":i=tA(r,Ba);break;case"sqrtTall":i=nA(r,Ba,n)}return i},oA=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},db={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ao=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return fe.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}},In={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Cc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},fb={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function aA(t,e){In[t]=e}function qh(t,e,r){if(!In[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=In[e][n];if(!i&&t[0]in fb&&(n=fb[t[0]].charCodeAt(0),i=In[e][n]),!i&&r==="text"&&Hb(n)&&(i=In[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var bh={};function sA(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!bh[e]){var r=bh[e]={cssEmPerMu:Cc.quad[e]/18};for(var n in Cc)Cc.hasOwnProperty(n)&&(r[n]=Cc[n][e])}return bh[e]}var lA=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],hb=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],pb=function(e,r){return r.size<2?e:lA[e-1][r.size-1]},cn=class{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||cn.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=hb[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new cn(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:pb(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:hb[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=pb(cn.BASESIZE,e);return this.size===r&&this.textSize===cn.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==cn.BASESIZE?["sizing","reset-size"+this.size,"size"+cn.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=sA(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};cn.BASESIZE=6;var Th={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},uA={ex:!0,em:!0,mu:!0},Vb=function(e){return typeof e!="string"&&(e=e.unit),e in Th||e in uA||e==="ex"},at=function(e,r){var n;if(e.unit in Th)n=Th[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new q("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},U=function(e){return+e.toFixed(4)+"em"},Gi=function(e){return e.filter(r=>r).join(" ")},Wb=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},Ub=function(e){var r=document.createElement(e);r.className=Gi(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)r.appendChild(this.children[o].toNode());return r},Gb=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+fe.escape(Gi(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=fe.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+fe.escape(n)+'"');for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&(r+=" "+o+'="'+fe.escape(this.attributes[o])+'"');r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+e+">",r},To=class{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Wb.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return fe.contains(this.classes,e)}toNode(){return Ub.call(this,"span")}toMarkup(){return Gb.call(this,"span")}},ll=class{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Wb.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return fe.contains(this.classes,e)}toNode(){return Ub.call(this,"a")}toMarkup(){return Gb.call(this,"a")}},Fh=class{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return fe.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=fe.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+fe.escape(r)+'"'),e+="'/>",e}},cA={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"},vr=class{constructor(e,r,n,i,o,a,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.width=a||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var u=ZM(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=cA[this.text])}hasClass(e){return fe.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=U(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Gi(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=fe.escape(Gi(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=fe.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+fe.escape(n)+'"');var o=fe.escape(this.text);return e?(r+=">",r+=o,r+="</span>",r):o}},Ln=class{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}},si=class{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",db[this.pathName]),r}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+db[this.pathName]+"'/>"}},ul=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");return e+="/>",e}};function mb(t){if(t instanceof vr)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function dA(t){if(t instanceof To)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var fA={bin:1,close:1,inner:1,open:1,punct:1,rel:1},hA={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ke={math:{},text:{}};function g(t,e,r,n,i,o){Ke[t][i]={font:e,group:r,replace:n},o&&n&&(Ke[t][n]=Ke[t][i])}var y="math",P="text",w="main",S="ams",nt="accent-token",ee="bin",fr="close",Pa="inner",ue="mathord",wt="op-token",Or="open",Hc="punct",_="rel",ci="spacing",F="textord";g(y,w,_,"≡","\\equiv",!0);g(y,w,_,"≺","\\prec",!0);g(y,w,_,"≻","\\succ",!0);g(y,w,_,"∼","\\sim",!0);g(y,w,_,"⊥","\\perp");g(y,w,_,"⪯","\\preceq",!0);g(y,w,_,"⪰","\\succeq",!0);g(y,w,_,"≃","\\simeq",!0);g(y,w,_,"∣","\\mid",!0);g(y,w,_,"≪","\\ll",!0);g(y,w,_,"≫","\\gg",!0);g(y,w,_,"≍","\\asymp",!0);g(y,w,_,"∥","\\parallel");g(y,w,_,"⋈","\\bowtie",!0);g(y,w,_,"⌣","\\smile",!0);g(y,w,_,"⊑","\\sqsubseteq",!0);g(y,w,_,"⊒","\\sqsupseteq",!0);g(y,w,_,"≐","\\doteq",!0);g(y,w,_,"⌢","\\frown",!0);g(y,w,_,"∋","\\ni",!0);g(y,w,_,"∝","\\propto",!0);g(y,w,_,"⊢","\\vdash",!0);g(y,w,_,"⊣","\\dashv",!0);g(y,w,_,"∋","\\owns");g(y,w,Hc,".","\\ldotp");g(y,w,Hc,"⋅","\\cdotp");g(y,w,F,"#","\\#");g(P,w,F,"#","\\#");g(y,w,F,"&","\\&");g(P,w,F,"&","\\&");g(y,w,F,"ℵ","\\aleph",!0);g(y,w,F,"∀","\\forall",!0);g(y,w,F,"ℏ","\\hbar",!0);g(y,w,F,"∃","\\exists",!0);g(y,w,F,"∇","\\nabla",!0);g(y,w,F,"♭","\\flat",!0);g(y,w,F,"ℓ","\\ell",!0);g(y,w,F,"♮","\\natural",!0);g(y,w,F,"♣","\\clubsuit",!0);g(y,w,F,"℘","\\wp",!0);g(y,w,F,"♯","\\sharp",!0);g(y,w,F,"♢","\\diamondsuit",!0);g(y,w,F,"ℜ","\\Re",!0);g(y,w,F,"♡","\\heartsuit",!0);g(y,w,F,"ℑ","\\Im",!0);g(y,w,F,"♠","\\spadesuit",!0);g(y,w,F,"§","\\S",!0);g(P,w,F,"§","\\S");g(y,w,F,"¶","\\P",!0);g(P,w,F,"¶","\\P");g(y,w,F,"†","\\dag");g(P,w,F,"†","\\dag");g(P,w,F,"†","\\textdagger");g(y,w,F,"‡","\\ddag");g(P,w,F,"‡","\\ddag");g(P,w,F,"‡","\\textdaggerdbl");g(y,w,fr,"⎱","\\rmoustache",!0);g(y,w,Or,"⎰","\\lmoustache",!0);g(y,w,fr,"⟯","\\rgroup",!0);g(y,w,Or,"⟮","\\lgroup",!0);g(y,w,ee,"∓","\\mp",!0);g(y,w,ee,"⊖","\\ominus",!0);g(y,w,ee,"⊎","\\uplus",!0);g(y,w,ee,"⊓","\\sqcap",!0);g(y,w,ee,"∗","\\ast");g(y,w,ee,"⊔","\\sqcup",!0);g(y,w,ee,"◯","\\bigcirc",!0);g(y,w,ee,"∙","\\bullet",!0);g(y,w,ee,"‡","\\ddagger");g(y,w,ee,"≀","\\wr",!0);g(y,w,ee,"⨿","\\amalg");g(y,w,ee,"&","\\And");g(y,w,_,"⟵","\\longleftarrow",!0);g(y,w,_,"⇐","\\Leftarrow",!0);g(y,w,_,"⟸","\\Longleftarrow",!0);g(y,w,_,"⟶","\\longrightarrow",!0);g(y,w,_,"⇒","\\Rightarrow",!0);g(y,w,_,"⟹","\\Longrightarrow",!0);g(y,w,_,"↔","\\leftrightarrow",!0);g(y,w,_,"⟷","\\longleftrightarrow",!0);g(y,w,_,"⇔","\\Leftrightarrow",!0);g(y,w,_,"⟺","\\Longleftrightarrow",!0);g(y,w,_,"↦","\\mapsto",!0);g(y,w,_,"⟼","\\longmapsto",!0);g(y,w,_,"↗","\\nearrow",!0);g(y,w,_,"↩","\\hookleftarrow",!0);g(y,w,_,"↪","\\hookrightarrow",!0);g(y,w,_,"↘","\\searrow",!0);g(y,w,_,"↼","\\leftharpoonup",!0);g(y,w,_,"⇀","\\rightharpoonup",!0);g(y,w,_,"↙","\\swarrow",!0);g(y,w,_,"↽","\\leftharpoondown",!0);g(y,w,_,"⇁","\\rightharpoondown",!0);g(y,w,_,"↖","\\nwarrow",!0);g(y,w,_,"⇌","\\rightleftharpoons",!0);g(y,S,_,"≮","\\nless",!0);g(y,S,_,"","\\@nleqslant");g(y,S,_,"","\\@nleqq");g(y,S,_,"⪇","\\lneq",!0);g(y,S,_,"≨","\\lneqq",!0);g(y,S,_,"","\\@lvertneqq");g(y,S,_,"⋦","\\lnsim",!0);g(y,S,_,"⪉","\\lnapprox",!0);g(y,S,_,"⊀","\\nprec",!0);g(y,S,_,"⋠","\\npreceq",!0);g(y,S,_,"⋨","\\precnsim",!0);g(y,S,_,"⪹","\\precnapprox",!0);g(y,S,_,"≁","\\nsim",!0);g(y,S,_,"","\\@nshortmid");g(y,S,_,"∤","\\nmid",!0);g(y,S,_,"⊬","\\nvdash",!0);g(y,S,_,"⊭","\\nvDash",!0);g(y,S,_,"⋪","\\ntriangleleft");g(y,S,_,"⋬","\\ntrianglelefteq",!0);g(y,S,_,"⊊","\\subsetneq",!0);g(y,S,_,"","\\@varsubsetneq");g(y,S,_,"⫋","\\subsetneqq",!0);g(y,S,_,"","\\@varsubsetneqq");g(y,S,_,"≯","\\ngtr",!0);g(y,S,_,"","\\@ngeqslant");g(y,S,_,"","\\@ngeqq");g(y,S,_,"⪈","\\gneq",!0);g(y,S,_,"≩","\\gneqq",!0);g(y,S,_,"","\\@gvertneqq");g(y,S,_,"⋧","\\gnsim",!0);g(y,S,_,"⪊","\\gnapprox",!0);g(y,S,_,"⊁","\\nsucc",!0);g(y,S,_,"⋡","\\nsucceq",!0);g(y,S,_,"⋩","\\succnsim",!0);g(y,S,_,"⪺","\\succnapprox",!0);g(y,S,_,"≆","\\ncong",!0);g(y,S,_,"","\\@nshortparallel");g(y,S,_,"∦","\\nparallel",!0);g(y,S,_,"⊯","\\nVDash",!0);g(y,S,_,"⋫","\\ntriangleright");g(y,S,_,"⋭","\\ntrianglerighteq",!0);g(y,S,_,"","\\@nsupseteqq");g(y,S,_,"⊋","\\supsetneq",!0);g(y,S,_,"","\\@varsupsetneq");g(y,S,_,"⫌","\\supsetneqq",!0);g(y,S,_,"","\\@varsupsetneqq");g(y,S,_,"⊮","\\nVdash",!0);g(y,S,_,"⪵","\\precneqq",!0);g(y,S,_,"⪶","\\succneqq",!0);g(y,S,_,"","\\@nsubseteqq");g(y,S,ee,"⊴","\\unlhd");g(y,S,ee,"⊵","\\unrhd");g(y,S,_,"↚","\\nleftarrow",!0);g(y,S,_,"↛","\\nrightarrow",!0);g(y,S,_,"⇍","\\nLeftarrow",!0);g(y,S,_,"⇏","\\nRightarrow",!0);g(y,S,_,"↮","\\nleftrightarrow",!0);g(y,S,_,"⇎","\\nLeftrightarrow",!0);g(y,S,_,"△","\\vartriangle");g(y,S,F,"ℏ","\\hslash");g(y,S,F,"▽","\\triangledown");g(y,S,F,"◊","\\lozenge");g(y,S,F,"Ⓢ","\\circledS");g(y,S,F,"®","\\circledR");g(P,S,F,"®","\\circledR");g(y,S,F,"∡","\\measuredangle",!0);g(y,S,F,"∄","\\nexists");g(y,S,F,"℧","\\mho");g(y,S,F,"Ⅎ","\\Finv",!0);g(y,S,F,"⅁","\\Game",!0);g(y,S,F,"‵","\\backprime");g(y,S,F,"▲","\\blacktriangle");g(y,S,F,"▼","\\blacktriangledown");g(y,S,F,"■","\\blacksquare");g(y,S,F,"⧫","\\blacklozenge");g(y,S,F,"★","\\bigstar");g(y,S,F,"∢","\\sphericalangle",!0);g(y,S,F,"∁","\\complement",!0);g(y,S,F,"ð","\\eth",!0);g(P,w,F,"ð","ð");g(y,S,F,"╱","\\diagup");g(y,S,F,"╲","\\diagdown");g(y,S,F,"□","\\square");g(y,S,F,"□","\\Box");g(y,S,F,"◊","\\Diamond");g(y,S,F,"¥","\\yen",!0);g(P,S,F,"¥","\\yen",!0);g(y,S,F,"✓","\\checkmark",!0);g(P,S,F,"✓","\\checkmark");g(y,S,F,"ℶ","\\beth",!0);g(y,S,F,"ℸ","\\daleth",!0);g(y,S,F,"ℷ","\\gimel",!0);g(y,S,F,"ϝ","\\digamma",!0);g(y,S,F,"ϰ","\\varkappa");g(y,S,Or,"┌","\\@ulcorner",!0);g(y,S,fr,"┐","\\@urcorner",!0);g(y,S,Or,"└","\\@llcorner",!0);g(y,S,fr,"┘","\\@lrcorner",!0);g(y,S,_,"≦","\\leqq",!0);g(y,S,_,"⩽","\\leqslant",!0);g(y,S,_,"⪕","\\eqslantless",!0);g(y,S,_,"≲","\\lesssim",!0);g(y,S,_,"⪅","\\lessapprox",!0);g(y,S,_,"≊","\\approxeq",!0);g(y,S,ee,"⋖","\\lessdot");g(y,S,_,"⋘","\\lll",!0);g(y,S,_,"≶","\\lessgtr",!0);g(y,S,_,"⋚","\\lesseqgtr",!0);g(y,S,_,"⪋","\\lesseqqgtr",!0);g(y,S,_,"≑","\\doteqdot");g(y,S,_,"≓","\\risingdotseq",!0);g(y,S,_,"≒","\\fallingdotseq",!0);g(y,S,_,"∽","\\backsim",!0);g(y,S,_,"⋍","\\backsimeq",!0);g(y,S,_,"⫅","\\subseteqq",!0);g(y,S,_,"⋐","\\Subset",!0);g(y,S,_,"⊏","\\sqsubset",!0);g(y,S,_,"≼","\\preccurlyeq",!0);g(y,S,_,"⋞","\\curlyeqprec",!0);g(y,S,_,"≾","\\precsim",!0);g(y,S,_,"⪷","\\precapprox",!0);g(y,S,_,"⊲","\\vartriangleleft");g(y,S,_,"⊴","\\trianglelefteq");g(y,S,_,"⊨","\\vDash",!0);g(y,S,_,"⊪","\\Vvdash",!0);g(y,S,_,"⌣","\\smallsmile");g(y,S,_,"⌢","\\smallfrown");g(y,S,_,"≏","\\bumpeq",!0);g(y,S,_,"≎","\\Bumpeq",!0);g(y,S,_,"≧","\\geqq",!0);g(y,S,_,"⩾","\\geqslant",!0);g(y,S,_,"⪖","\\eqslantgtr",!0);g(y,S,_,"≳","\\gtrsim",!0);g(y,S,_,"⪆","\\gtrapprox",!0);g(y,S,ee,"⋗","\\gtrdot");g(y,S,_,"⋙","\\ggg",!0);g(y,S,_,"≷","\\gtrless",!0);g(y,S,_,"⋛","\\gtreqless",!0);g(y,S,_,"⪌","\\gtreqqless",!0);g(y,S,_,"≖","\\eqcirc",!0);g(y,S,_,"≗","\\circeq",!0);g(y,S,_,"≜","\\triangleq",!0);g(y,S,_,"∼","\\thicksim");g(y,S,_,"≈","\\thickapprox");g(y,S,_,"⫆","\\supseteqq",!0);g(y,S,_,"⋑","\\Supset",!0);g(y,S,_,"⊐","\\sqsupset",!0);g(y,S,_,"≽","\\succcurlyeq",!0);g(y,S,_,"⋟","\\curlyeqsucc",!0);g(y,S,_,"≿","\\succsim",!0);g(y,S,_,"⪸","\\succapprox",!0);g(y,S,_,"⊳","\\vartriangleright");g(y,S,_,"⊵","\\trianglerighteq");g(y,S,_,"⊩","\\Vdash",!0);g(y,S,_,"∣","\\shortmid");g(y,S,_,"∥","\\shortparallel");g(y,S,_,"≬","\\between",!0);g(y,S,_,"⋔","\\pitchfork",!0);g(y,S,_,"∝","\\varpropto");g(y,S,_,"◀","\\blacktriangleleft");g(y,S,_,"∴","\\therefore",!0);g(y,S,_,"∍","\\backepsilon");g(y,S,_,"▶","\\blacktriangleright");g(y,S,_,"∵","\\because",!0);g(y,S,_,"⋘","\\llless");g(y,S,_,"⋙","\\gggtr");g(y,S,ee,"⊲","\\lhd");g(y,S,ee,"⊳","\\rhd");g(y,S,_,"≂","\\eqsim",!0);g(y,w,_,"⋈","\\Join");g(y,S,_,"≑","\\Doteq",!0);g(y,S,ee,"∔","\\dotplus",!0);g(y,S,ee,"∖","\\smallsetminus");g(y,S,ee,"⋒","\\Cap",!0);g(y,S,ee,"⋓","\\Cup",!0);g(y,S,ee,"⩞","\\doublebarwedge",!0);g(y,S,ee,"⊟","\\boxminus",!0);g(y,S,ee,"⊞","\\boxplus",!0);g(y,S,ee,"⋇","\\divideontimes",!0);g(y,S,ee,"⋉","\\ltimes",!0);g(y,S,ee,"⋊","\\rtimes",!0);g(y,S,ee,"⋋","\\leftthreetimes",!0);g(y,S,ee,"⋌","\\rightthreetimes",!0);g(y,S,ee,"⋏","\\curlywedge",!0);g(y,S,ee,"⋎","\\curlyvee",!0);g(y,S,ee,"⊝","\\circleddash",!0);g(y,S,ee,"⊛","\\circledast",!0);g(y,S,ee,"⋅","\\centerdot");g(y,S,ee,"⊺","\\intercal",!0);g(y,S,ee,"⋒","\\doublecap");g(y,S,ee,"⋓","\\doublecup");g(y,S,ee,"⊠","\\boxtimes",!0);g(y,S,_,"⇢","\\dashrightarrow",!0);g(y,S,_,"⇠","\\dashleftarrow",!0);g(y,S,_,"⇇","\\leftleftarrows",!0);g(y,S,_,"⇆","\\leftrightarrows",!0);g(y,S,_,"⇚","\\Lleftarrow",!0);g(y,S,_,"↞","\\twoheadleftarrow",!0);g(y,S,_,"↢","\\leftarrowtail",!0);g(y,S,_,"↫","\\looparrowleft",!0);g(y,S,_,"⇋","\\leftrightharpoons",!0);g(y,S,_,"↶","\\curvearrowleft",!0);g(y,S,_,"↺","\\circlearrowleft",!0);g(y,S,_,"↰","\\Lsh",!0);g(y,S,_,"⇈","\\upuparrows",!0);g(y,S,_,"↿","\\upharpoonleft",!0);g(y,S,_,"⇃","\\downharpoonleft",!0);g(y,w,_,"⊶","\\origof",!0);g(y,w,_,"⊷","\\imageof",!0);g(y,S,_,"⊸","\\multimap",!0);g(y,S,_,"↭","\\leftrightsquigarrow",!0);g(y,S,_,"⇉","\\rightrightarrows",!0);g(y,S,_,"⇄","\\rightleftarrows",!0);g(y,S,_,"↠","\\twoheadrightarrow",!0);g(y,S,_,"↣","\\rightarrowtail",!0);g(y,S,_,"↬","\\looparrowright",!0);g(y,S,_,"↷","\\curvearrowright",!0);g(y,S,_,"↻","\\circlearrowright",!0);g(y,S,_,"↱","\\Rsh",!0);g(y,S,_,"⇊","\\downdownarrows",!0);g(y,S,_,"↾","\\upharpoonright",!0);g(y,S,_,"⇂","\\downharpoonright",!0);g(y,S,_,"⇝","\\rightsquigarrow",!0);g(y,S,_,"⇝","\\leadsto");g(y,S,_,"⇛","\\Rrightarrow",!0);g(y,S,_,"↾","\\restriction");g(y,w,F,"‘","`");g(y,w,F,"$","\\$");g(P,w,F,"$","\\$");g(P,w,F,"$","\\textdollar");g(y,w,F,"%","\\%");g(P,w,F,"%","\\%");g(y,w,F,"_","\\_");g(P,w,F,"_","\\_");g(P,w,F,"_","\\textunderscore");g(y,w,F,"∠","\\angle",!0);g(y,w,F,"∞","\\infty",!0);g(y,w,F,"′","\\prime");g(y,w,F,"△","\\triangle");g(y,w,F,"Γ","\\Gamma",!0);g(y,w,F,"Δ","\\Delta",!0);g(y,w,F,"Θ","\\Theta",!0);g(y,w,F,"Λ","\\Lambda",!0);g(y,w,F,"Ξ","\\Xi",!0);g(y,w,F,"Π","\\Pi",!0);g(y,w,F,"Σ","\\Sigma",!0);g(y,w,F,"Υ","\\Upsilon",!0);g(y,w,F,"Φ","\\Phi",!0);g(y,w,F,"Ψ","\\Psi",!0);g(y,w,F,"Ω","\\Omega",!0);g(y,w,F,"A","Α");g(y,w,F,"B","Β");g(y,w,F,"E","Ε");g(y,w,F,"Z","Ζ");g(y,w,F,"H","Η");g(y,w,F,"I","Ι");g(y,w,F,"K","Κ");g(y,w,F,"M","Μ");g(y,w,F,"N","Ν");g(y,w,F,"O","Ο");g(y,w,F,"P","Ρ");g(y,w,F,"T","Τ");g(y,w,F,"X","Χ");g(y,w,F,"¬","\\neg",!0);g(y,w,F,"¬","\\lnot");g(y,w,F,"⊤","\\top");g(y,w,F,"⊥","\\bot");g(y,w,F,"∅","\\emptyset");g(y,S,F,"∅","\\varnothing");g(y,w,ue,"α","\\alpha",!0);g(y,w,ue,"β","\\beta",!0);g(y,w,ue,"γ","\\gamma",!0);g(y,w,ue,"δ","\\delta",!0);g(y,w,ue,"ϵ","\\epsilon",!0);g(y,w,ue,"ζ","\\zeta",!0);g(y,w,ue,"η","\\eta",!0);g(y,w,ue,"θ","\\theta",!0);g(y,w,ue,"ι","\\iota",!0);g(y,w,ue,"κ","\\kappa",!0);g(y,w,ue,"λ","\\lambda",!0);g(y,w,ue,"μ","\\mu",!0);g(y,w,ue,"ν","\\nu",!0);g(y,w,ue,"ξ","\\xi",!0);g(y,w,ue,"ο","\\omicron",!0);g(y,w,ue,"π","\\pi",!0);g(y,w,ue,"ρ","\\rho",!0);g(y,w,ue,"σ","\\sigma",!0);g(y,w,ue,"τ","\\tau",!0);g(y,w,ue,"υ","\\upsilon",!0);g(y,w,ue,"ϕ","\\phi",!0);g(y,w,ue,"χ","\\chi",!0);g(y,w,ue,"ψ","\\psi",!0);g(y,w,ue,"ω","\\omega",!0);g(y,w,ue,"ε","\\varepsilon",!0);g(y,w,ue,"ϑ","\\vartheta",!0);g(y,w,ue,"ϖ","\\varpi",!0);g(y,w,ue,"ϱ","\\varrho",!0);g(y,w,ue,"ς","\\varsigma",!0);g(y,w,ue,"φ","\\varphi",!0);g(y,w,ee,"∗","*",!0);g(y,w,ee,"+","+");g(y,w,ee,"−","-",!0);g(y,w,ee,"⋅","\\cdot",!0);g(y,w,ee,"∘","\\circ",!0);g(y,w,ee,"÷","\\div",!0);g(y,w,ee,"±","\\pm",!0);g(y,w,ee,"×","\\times",!0);g(y,w,ee,"∩","\\cap",!0);g(y,w,ee,"∪","\\cup",!0);g(y,w,ee,"∖","\\setminus",!0);g(y,w,ee,"∧","\\land");g(y,w,ee,"∨","\\lor");g(y,w,ee,"∧","\\wedge",!0);g(y,w,ee,"∨","\\vee",!0);g(y,w,F,"√","\\surd");g(y,w,Or,"⟨","\\langle",!0);g(y,w,Or,"∣","\\lvert");g(y,w,Or,"∥","\\lVert");g(y,w,fr,"?","?");g(y,w,fr,"!","!");g(y,w,fr,"⟩","\\rangle",!0);g(y,w,fr,"∣","\\rvert");g(y,w,fr,"∥","\\rVert");g(y,w,_,"=","=");g(y,w,_,":",":");g(y,w,_,"≈","\\approx",!0);g(y,w,_,"≅","\\cong",!0);g(y,w,_,"≥","\\ge");g(y,w,_,"≥","\\geq",!0);g(y,w,_,"←","\\gets");g(y,w,_,">","\\gt",!0);g(y,w,_,"∈","\\in",!0);g(y,w,_,"","\\@not");g(y,w,_,"⊂","\\subset",!0);g(y,w,_,"⊃","\\supset",!0);g(y,w,_,"⊆","\\subseteq",!0);g(y,w,_,"⊇","\\supseteq",!0);g(y,S,_,"⊈","\\nsubseteq",!0);g(y,S,_,"⊉","\\nsupseteq",!0);g(y,w,_,"⊨","\\models");g(y,w,_,"←","\\leftarrow",!0);g(y,w,_,"≤","\\le");g(y,w,_,"≤","\\leq",!0);g(y,w,_,"<","\\lt",!0);g(y,w,_,"→","\\rightarrow",!0);g(y,w,_,"→","\\to");g(y,S,_,"≱","\\ngeq",!0);g(y,S,_,"≰","\\nleq",!0);g(y,w,ci," ","\\ ");g(y,w,ci," ","\\space");g(y,w,ci," ","\\nobreakspace");g(P,w,ci," ","\\ ");g(P,w,ci," "," ");g(P,w,ci," ","\\space");g(P,w,ci," ","\\nobreakspace");g(y,w,ci,null,"\\nobreak");g(y,w,ci,null,"\\allowbreak");g(y,w,Hc,",",",");g(y,w,Hc,";",";");g(y,S,ee,"⊼","\\barwedge",!0);g(y,S,ee,"⊻","\\veebar",!0);g(y,w,ee,"⊙","\\odot",!0);g(y,w,ee,"⊕","\\oplus",!0);g(y,w,ee,"⊗","\\otimes",!0);g(y,w,F,"∂","\\partial",!0);g(y,w,ee,"⊘","\\oslash",!0);g(y,S,ee,"⊚","\\circledcirc",!0);g(y,S,ee,"⊡","\\boxdot",!0);g(y,w,ee,"△","\\bigtriangleup");g(y,w,ee,"▽","\\bigtriangledown");g(y,w,ee,"†","\\dagger");g(y,w,ee,"⋄","\\diamond");g(y,w,ee,"⋆","\\star");g(y,w,ee,"◃","\\triangleleft");g(y,w,ee,"▹","\\triangleright");g(y,w,Or,"{","\\{");g(P,w,F,"{","\\{");g(P,w,F,"{","\\textbraceleft");g(y,w,fr,"}","\\}");g(P,w,F,"}","\\}");g(P,w,F,"}","\\textbraceright");g(y,w,Or,"{","\\lbrace");g(y,w,fr,"}","\\rbrace");g(y,w,Or,"[","\\lbrack",!0);g(P,w,F,"[","\\lbrack",!0);g(y,w,fr,"]","\\rbrack",!0);g(P,w,F,"]","\\rbrack",!0);g(y,w,Or,"(","\\lparen",!0);g(y,w,fr,")","\\rparen",!0);g(P,w,F,"<","\\textless",!0);g(P,w,F,">","\\textgreater",!0);g(y,w,Or,"⌊","\\lfloor",!0);g(y,w,fr,"⌋","\\rfloor",!0);g(y,w,Or,"⌈","\\lceil",!0);g(y,w,fr,"⌉","\\rceil",!0);g(y,w,F,"\\","\\backslash");g(y,w,F,"∣","|");g(y,w,F,"∣","\\vert");g(P,w,F,"|","\\textbar",!0);g(y,w,F,"∥","\\|");g(y,w,F,"∥","\\Vert");g(P,w,F,"∥","\\textbardbl");g(P,w,F,"~","\\textasciitilde");g(P,w,F,"\\","\\textbackslash");g(P,w,F,"^","\\textasciicircum");g(y,w,_,"↑","\\uparrow",!0);g(y,w,_,"⇑","\\Uparrow",!0);g(y,w,_,"↓","\\downarrow",!0);g(y,w,_,"⇓","\\Downarrow",!0);g(y,w,_,"↕","\\updownarrow",!0);g(y,w,_,"⇕","\\Updownarrow",!0);g(y,w,wt,"∐","\\coprod");g(y,w,wt,"⋁","\\bigvee");g(y,w,wt,"⋀","\\bigwedge");g(y,w,wt,"⨄","\\biguplus");g(y,w,wt,"⋂","\\bigcap");g(y,w,wt,"⋃","\\bigcup");g(y,w,wt,"∫","\\int");g(y,w,wt,"∫","\\intop");g(y,w,wt,"∬","\\iint");g(y,w,wt,"∭","\\iiint");g(y,w,wt,"∏","\\prod");g(y,w,wt,"∑","\\sum");g(y,w,wt,"⨂","\\bigotimes");g(y,w,wt,"⨁","\\bigoplus");g(y,w,wt,"⨀","\\bigodot");g(y,w,wt,"∮","\\oint");g(y,w,wt,"∯","\\oiint");g(y,w,wt,"∰","\\oiiint");g(y,w,wt,"⨆","\\bigsqcup");g(y,w,wt,"∫","\\smallint");g(P,w,Pa,"…","\\textellipsis");g(y,w,Pa,"…","\\mathellipsis");g(P,w,Pa,"…","\\ldots",!0);g(y,w,Pa,"…","\\ldots",!0);g(y,w,Pa,"⋯","\\@cdots",!0);g(y,w,Pa,"⋱","\\ddots",!0);g(y,w,F,"⋮","\\varvdots");g(y,w,nt,"ˊ","\\acute");g(y,w,nt,"ˋ","\\grave");g(y,w,nt,"¨","\\ddot");g(y,w,nt,"~","\\tilde");g(y,w,nt,"ˉ","\\bar");g(y,w,nt,"˘","\\breve");g(y,w,nt,"ˇ","\\check");g(y,w,nt,"^","\\hat");g(y,w,nt,"⃗","\\vec");g(y,w,nt,"˙","\\dot");g(y,w,nt,"˚","\\mathring");g(y,w,ue,"","\\@imath");g(y,w,ue,"","\\@jmath");g(y,w,F,"ı","ı");g(y,w,F,"ȷ","ȷ");g(P,w,F,"ı","\\i",!0);g(P,w,F,"ȷ","\\j",!0);g(P,w,F,"ß","\\ss",!0);g(P,w,F,"æ","\\ae",!0);g(P,w,F,"œ","\\oe",!0);g(P,w,F,"ø","\\o",!0);g(P,w,F,"Æ","\\AE",!0);g(P,w,F,"Œ","\\OE",!0);g(P,w,F,"Ø","\\O",!0);g(P,w,nt,"ˊ","\\'");g(P,w,nt,"ˋ","\\`");g(P,w,nt,"ˆ","\\^");g(P,w,nt,"˜","\\~");g(P,w,nt,"ˉ","\\=");g(P,w,nt,"˘","\\u");g(P,w,nt,"˙","\\.");g(P,w,nt,"¸","\\c");g(P,w,nt,"˚","\\r");g(P,w,nt,"ˇ","\\v");g(P,w,nt,"¨",'\\"');g(P,w,nt,"˝","\\H");g(P,w,nt,"◯","\\textcircled");var Kb={"--":!0,"---":!0,"``":!0,"''":!0};g(P,w,F,"–","--",!0);g(P,w,F,"–","\\textendash");g(P,w,F,"—","---",!0);g(P,w,F,"—","\\textemdash");g(P,w,F,"‘","`",!0);g(P,w,F,"‘","\\textquoteleft");g(P,w,F,"’","'",!0);g(P,w,F,"’","\\textquoteright");g(P,w,F,"“","``",!0);g(P,w,F,"“","\\textquotedblleft");g(P,w,F,"”","''",!0);g(P,w,F,"”","\\textquotedblright");g(y,w,F,"°","\\degree",!0);g(P,w,F,"°","\\degree");g(P,w,F,"°","\\textdegree",!0);g(y,w,F,"£","\\pounds");g(y,w,F,"£","\\mathsterling",!0);g(P,w,F,"£","\\pounds");g(P,w,F,"£","\\textsterling",!0);g(y,S,F,"✠","\\maltese");g(P,S,F,"✠","\\maltese");var gb='0123456789/@."';for(Sc=0;Sc<gb.length;Sc++)yh=gb.charAt(Sc),g(y,w,F,yh,yh);var yh,Sc,bb='0123456789!@*()-=+";:?/.,';for(_c=0;_c<bb.length;_c++)xh=bb.charAt(_c),g(P,w,F,xh,xh);var xh,_c,$c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(Ec=0;Ec<$c.length;Ec++)rl=$c.charAt(Ec),g(y,w,ue,rl,rl),g(P,w,F,rl,rl);var rl,Ec;g(y,S,F,"C","ℂ");g(P,S,F,"C","ℂ");g(y,S,F,"H","ℍ");g(P,S,F,"H","ℍ");g(y,S,F,"N","ℕ");g(P,S,F,"N","ℕ");g(y,S,F,"P","ℙ");g(P,S,F,"P","ℙ");g(y,S,F,"Q","ℚ");g(P,S,F,"Q","ℚ");g(y,S,F,"R","ℝ");g(P,S,F,"R","ℝ");g(y,S,F,"Z","ℤ");g(P,S,F,"Z","ℤ");g(y,w,ue,"h","ℎ");g(P,w,ue,"h","ℎ");var he="";for(ur=0;ur<$c.length;ur++)ht=$c.charAt(ur),he=String.fromCharCode(55349,56320+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56372+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56424+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56580+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56736+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56788+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56840+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56944+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),ur<26&&(he=String.fromCharCode(55349,56632+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he),he=String.fromCharCode(55349,56476+ur),g(y,w,ue,ht,he),g(P,w,F,ht,he));var ht,ur;he=String.fromCharCode(55349,56668);g(y,w,ue,"k",he);g(P,w,F,"k",he);for(Wi=0;Wi<10;Wi++)ni=Wi.toString(),he=String.fromCharCode(55349,57294+Wi),g(y,w,ue,ni,he),g(P,w,F,ni,he),he=String.fromCharCode(55349,57314+Wi),g(y,w,ue,ni,he),g(P,w,F,ni,he),he=String.fromCharCode(55349,57324+Wi),g(y,w,ue,ni,he),g(P,w,F,ni,he),he=String.fromCharCode(55349,57334+Wi),g(y,w,ue,ni,he),g(P,w,F,ni,he);var ni,Wi,Oh="ÐÞþ";for(Mc=0;Mc<Oh.length;Mc++)nl=Oh.charAt(Mc),g(y,w,ue,nl,nl),g(P,w,F,nl,nl);var nl,Mc,Ac=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],yb=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],pA=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),o=(n-55296)*1024+(i-56320)+65536,a=r==="math"?0:1;if(119808<=o&&o<120484){var s=Math.floor((o-119808)/26);return[Ac[s][2],Ac[s][a]]}else if(120782<=o&&o<=120831){var l=Math.floor((o-120782)/10);return[yb[l][2],yb[l][a]]}else{if(o===120485||o===120486)return[Ac[0][2],Ac[0][a]];if(120486<o&&o<120782)return["",""];throw new q("Unsupported character: "+e)}},Vc=function(e,r,n){return Ke[n][e]&&Ke[n][e].replace&&(e=Ke[n][e].replace),{value:e,metrics:qh(e,r,n)}},un=function(e,r,n,i,o){var a=Vc(e,r,n),s=a.metrics;e=a.value;var l;if(s){var u=s.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),l=new vr(e,s.height,s.depth,u,s.skew,s.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new vr(e,0,0,0,0,0,o);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},mA=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&Vc(e,"Main-Bold",r).metrics?un(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||Ke[r][e].font==="main"?un(e,"Main-Regular",r,n,i):un(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},gA=function(e,r,n,i,o){return o!=="textord"&&Vc(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},bA=function(e,r,n){var i=e.mode,o=e.text,a=["mord"],s=i==="math"||i==="text"&&r.font,l=s?r.font:r.fontFamily;if(o.charCodeAt(0)===55349){var[u,c]=pA(o,i);return un(o,u,i,r,a.concat(c))}else if(l){var d,f;if(l==="boldsymbol"){var h=gA(o,i,r,a,n);d=h.fontName,f=[h.fontClass]}else s?(d=Xb[l].fontName,f=[l]):(d=Tc(l,r.fontWeight,r.fontShape),f=[l,r.fontWeight,r.fontShape]);if(Vc(o,d,i).metrics)return un(o,d,i,r,a.concat(f));if(Kb.hasOwnProperty(o)&&d.substr(0,10)==="Typewriter"){for(var p=[],m=0;m<o.length;m++)p.push(un(o[m],d,i,r,a.concat(f)));return Zb(p)}}if(n==="mathord")return un(o,"Math-Italic",i,r,a.concat(["mathnormal"]));if(n==="textord"){var b=Ke[i][o]&&Ke[i][o].font;if(b==="ams"){var x=Tc("amsrm",r.fontWeight,r.fontShape);return un(o,x,i,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(b==="main"||!b){var k=Tc("textrm",r.fontWeight,r.fontShape);return un(o,k,i,r,a.concat(r.fontWeight,r.fontShape))}else{var D=Tc(b,r.fontWeight,r.fontShape);return un(o,D,i,r,a.concat(D,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},yA=(t,e)=>{if(Gi(t.classes)!==Gi(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},xA=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof vr&&n instanceof vr&&yA(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},Hh=function(e){for(var r=0,n=0,i=0,o=0;o<e.children.length;o++){var a=e.children[o];a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},yr=function(e,r,n,i){var o=new To(e,r,n,i);return Hh(o),o},Jb=(t,e,r,n)=>new To(t,e,r,n),wA=function(e,r,n){var i=yr([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=U(i.height),i.maxFontSize=1,i},vA=function(e,r,n,i){var o=new ll(e,r,n,i);return Hh(o),o},Zb=function(e){var r=new Ao(e);return Hh(r),r},kA=function(e,r){return e instanceof Ao?yr([],[e],r):e},DA=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,o=i,a=1;a<r.length;a++){var s=-r[a].shift-o-r[a].elem.depth,l=s-(r[a-1].elem.height+r[a-1].elem.depth);o=o+s,n.push({type:"kern",size:l}),n.push(r[a])}return{children:n,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,d=0;d<e.children.length;d++){var f=e.children[d];c-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var h=e.children[0];if(h.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-h.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-h.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},CA=function(e,r){for(var{children:n,depth:i}=DA(e),o=0,a=0;a<n.length;a++){var s=n[a];if(s.type==="elem"){var l=s.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var u=yr(["pstrut"],[]);u.style.height=U(o);for(var c=[],d=i,f=i,h=i,p=0;p<n.length;p++){var m=n[p];if(m.type==="kern")h+=m.size;else{var b=m.elem,x=m.wrapperClasses||[],k=m.wrapperStyle||{},D=yr(x,[u,b],void 0,k);D.style.top=U(-o-h-b.depth),m.marginLeft&&(D.style.marginLeft=m.marginLeft),m.marginRight&&(D.style.marginRight=m.marginRight),c.push(D),h+=b.height+b.depth}d=Math.min(d,h),f=Math.max(f,h)}var z=yr(["vlist"],c);z.style.height=U(f);var O;if(d<0){var E=yr([],[]),T=yr(["vlist"],[E]);T.style.height=U(-d);var N=yr(["vlist-s"],[new vr("​")]);O=[yr(["vlist-r"],[z,N]),yr(["vlist-r"],[T])]}else O=[yr(["vlist-r"],[z])];var R=yr(["vlist-t"],O);return O.length===2&&R.classes.push("vlist-t2"),R.height=f,R.depth=-d,R},SA=(t,e)=>{var r=yr(["mspace"],[],e),n=at(t,e);return r.style.marginRight=U(n),r},Tc=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return r==="textbf"&&n==="textit"?o="BoldItalic":r==="textbf"?o="Bold":r==="textit"?o="Italic":o="Regular",i+"-"+o},Xb={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Yb={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},_A=function(e,r){var[n,i,o]=Yb[e],a=new si(n),s=new Ln([a],{width:U(i),height:U(o),style:"width:"+U(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=Jb(["overlay"],[s],r);return l.height=o,l.style.height=U(o),l.style.width=U(i),l},I={fontMap:Xb,makeSymbol:un,mathsym:mA,makeSpan:yr,makeSvgSpan:Jb,makeLineSpan:wA,makeAnchor:vA,makeFragment:Zb,wrapFragment:kA,makeVList:CA,makeOrd:bA,makeGlue:SA,staticSvg:_A,svgData:Yb,tryCombineChars:xA},ot={number:3,unit:"mu"},Eo={number:4,unit:"mu"},ii={number:5,unit:"mu"},EA={mord:{mop:ot,mbin:Eo,mrel:ii,minner:ot},mop:{mord:ot,mop:ot,mrel:ii,minner:ot},mbin:{mord:Eo,mop:Eo,mopen:Eo,minner:Eo},mrel:{mord:ii,mop:ii,mopen:ii,minner:ii},mopen:{},mclose:{mop:ot,mbin:Eo,mrel:ii,minner:ot},mpunct:{mord:ot,mop:ot,mrel:ii,mopen:ot,mclose:ot,mpunct:ot,minner:ot},minner:{mord:ot,mop:ot,mbin:Eo,mrel:ii,mopen:ot,mpunct:ot,minner:ot}},MA={mord:{mop:ot},mop:{mord:ot,mop:ot},mbin:{},mrel:{},mopen:{},mclose:{mop:ot},mpunct:{},minner:{mop:ot}},Qb={},Rc={},Pc={};function Y(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)Qb[r[l]]=s;e&&(o&&(Rc[e]=o),a&&(Pc[e]=a))}function Oo(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;Y({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var jc=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},xt=function(e){return e.type==="ordgroup"?e.body:[e]},li=I.makeSpan,AA=["leftmost","mbin","mopen","mrel","mop","mpunct"],TA=["rightmost","mrel","mclose","mpunct"],FA={display:se.DISPLAY,text:se.TEXT,script:se.SCRIPT,scriptscript:se.SCRIPTSCRIPT},OA={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},At=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var o=[],a=0;a<e.length;a++){var s=Be(e[a],r);if(s instanceof Ao){var l=s.children;o.push(...l)}else o.push(s)}if(I.tryCombineChars(o),!n)return o;var u=r;if(e.length===1){var c=e[0];c.type==="sizing"?u=r.havingSize(c.size):c.type==="styling"&&(u=r.havingStyle(FA[c.style]))}var d=li([i[0]||"leftmost"],[],r),f=li([i[1]||"rightmost"],[],r),h=n==="root";return xb(o,(p,m)=>{var b=m.classes[0],x=p.classes[0];b==="mbin"&&fe.contains(TA,x)?m.classes[0]="mord":x==="mbin"&&fe.contains(AA,b)&&(p.classes[0]="mord")},{node:d},f,h),xb(o,(p,m)=>{var b=zh(m),x=zh(p),k=b&&x?p.hasClass("mtight")?MA[b][x]:EA[b][x]:null;if(k)return I.makeGlue(k,u)},{node:d},f,h),o},xb=function t(e,r,n,i,o){i&&e.push(i);for(var a=0;a<e.length;a++){var s=e[a],l=e5(s);if(l){t(l.children,r,n,null,o);continue}var u=!s.hasClass("mspace");if(u){var c=r(s,n.node);c&&(n.insertAfter?n.insertAfter(c):(e.unshift(c),a++))}u?n.node=s:o&&s.hasClass("newline")&&(n.node=li(["leftmost"])),n.insertAfter=(d=>f=>{e.splice(d+1,0,f),a++})(a)}i&&e.pop()},e5=function(e){return e instanceof Ao||e instanceof ll||e instanceof To&&e.hasClass("enclosing")?e:null},zA=function t(e,r){var n=e5(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},zh=function(e,r){return e?(r&&(e=zA(e,r)),OA[e.classes[0]]||null):null},cl=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return li(r.concat(n))},Be=function(e,r,n){if(!e)return li();if(Rc[e.type]){var i=Rc[e.type](e,r);if(n&&r.size!==n.size){i=li(r.sizingClasses(n),[i],r);var o=r.sizeMultiplier/n.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new q("Got group of unknown type: '"+e.type+"'")};function Fc(t,e){var r=li(["base"],t,e),n=li(["strut"]);return n.style.height=U(r.height+r.depth),r.depth&&(n.style.verticalAlign=U(-r.depth)),r.children.unshift(n),r}function Nh(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=At(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var o=[],a=[],s=0;s<n.length;s++)if(a.push(n[s]),n[s].hasClass("mbin")||n[s].hasClass("mrel")||n[s].hasClass("allowbreak")){for(var l=!1;s<n.length-1&&n[s+1].hasClass("mspace")&&!n[s+1].hasClass("newline");)s++,a.push(n[s]),n[s].hasClass("nobreak")&&(l=!0);l||(o.push(Fc(a,e)),a=[])}else n[s].hasClass("newline")&&(a.pop(),a.length>0&&(o.push(Fc(a,e)),a=[]),o.push(n[s]));a.length>0&&o.push(Fc(a,e));var u;r?(u=Fc(At(r,e,!0)),u.classes=["tag"],o.push(u)):i&&o.push(i);var c=li(["katex-html"],o);if(c.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=U(c.height+c.depth),c.depth&&(d.style.verticalAlign=U(-c.depth))}return c}function t5(t){return new Ao(t)}var xr=class{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Gi(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=fe.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+fe.escape(Gi(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Mo=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return fe.escape(this.toText())}toText(){return this.text}},Ih=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",U(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+U(this.width)+'"/>'}toText(){return this.character?this.character:" "}},j={MathNode:xr,TextNode:Mo,SpaceNode:Ih,newDocumentFragment:t5},Gr=function(e,r,n){return Ke[r][e]&&Ke[r][e].replace&&e.charCodeAt(0)!==55349&&!(Kb.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.substr(4,2)==="tt"||n.font&&n.font.substr(4,2)==="tt"))&&(e=Ke[r][e].replace),new j.TextNode(e)},Vh=function(e){return e.length===1?e[0]:new j.MathNode("mrow",e)},Wh=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var o=e.text;if(fe.contains(["\\imath","\\jmath"],o))return null;Ke[i][o]&&Ke[i][o].replace&&(o=Ke[i][o].replace);var a=I.fontMap[n].fontName;return qh(o,a,i)?I.fontMap[n].variant:null},zr=function(e,r,n){if(e.length===1){var i=Ue(e[0],r);return n&&i instanceof xr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],a,s=0;s<e.length;s++){var l=Ue(e[s],r);if(l instanceof xr&&a instanceof xr){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof Mo&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var c=a.children[0];if(c instanceof Mo&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Mo&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),o.pop())}}}o.push(l),a=l}return o},Ki=function(e,r,n){return Vh(zr(e,r,n))},Ue=function(e,r){if(!e)return new j.MathNode("mrow");if(Pc[e.type]){var n=Pc[e.type](e,r);return n}else throw new q("Got group of unknown type: '"+e.type+"'")};function wb(t,e,r,n,i){var o=zr(t,r),a;o.length===1&&o[0]instanceof xr&&fe.contains(["mrow","mtable"],o[0].type)?a=o[0]:a=new j.MathNode("mrow",o);var s=new j.MathNode("annotation",[new j.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new j.MathNode("semantics",[a,s]),u=new j.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return I.makeSpan([c],[u])}var r5=function(e){return new cn({style:e.displayMode?se.DISPLAY:se.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},n5=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=I.makeSpan(n,[e])}return e},NA=function(e,r,n){var i=r5(n),o;if(n.output==="mathml")return wb(e,r,i,n.displayMode,!0);if(n.output==="html"){var a=Nh(e,i);o=I.makeSpan(["katex"],[a])}else{var s=wb(e,r,i,n.displayMode,!1),l=Nh(e,i);o=I.makeSpan(["katex"],[s,l])}return n5(o,n)},IA=function(e,r,n){var i=r5(n),o=Nh(e,i),a=I.makeSpan(["katex"],[o]);return n5(a,n)},LA={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},BA=function(e){var r=new j.MathNode("mo",[new j.TextNode(LA[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},$A={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},RA=function(e){return e.type==="ordgroup"?e.body.length:1},PA=function(e,r){function n(){var s=4e5,l=e.label.substr(1);if(fe.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=RA(u.base),d,f,h;if(c>5)l==="widehat"||l==="widecheck"?(d=420,s=2364,h=.42,f=l+"4"):(d=312,s=2340,h=.34,f="tilde4");else{var p=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],h=[0,.24,.3,.3,.36,.42][p],f=l+p):(s=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],h=[0,.26,.286,.3,.306,.34][p],f="tilde"+p)}var m=new si(f),b=new Ln([m],{width:"100%",height:U(h),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:I.makeSvgSpan([],[b],r),minWidth:0,height:h}}else{var x=[],k=$A[l],[D,z,O]=k,E=O/1e3,T=D.length,N,R;if(T===1){var X=k[3];N=["hide-tail"],R=[X]}else if(T===2)N=["halfarrow-left","halfarrow-right"],R=["xMinYMin","xMaxYMin"];else if(T===3)N=["brace-left","brace-center","brace-right"],R=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+T+" children.");for(var K=0;K<T;K++){var ne=new si(D[K]),H=new Ln([ne],{width:"400em",height:U(E),viewBox:"0 0 "+s+" "+O,preserveAspectRatio:R[K]+" slice"}),re=I.makeSvgSpan([N[K]],[H],r);if(T===1)return{span:re,minWidth:z,height:E};re.style.height=U(E),x.push(re)}return{span:I.makeSpan(["stretchy"],x,r),minWidth:z,height:E}}}var{span:i,minWidth:o,height:a}=n();return i.height=a,i.style.height=U(a),o>0&&(i.style.minWidth=U(o)),i},jA=function(e,r,n,i,o){var a,s=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(a=I.makeSpan(["stretchy",r],[],o),r==="fbox"){var l=o.color&&o.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new ul({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new ul({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Ln(u,{width:"100%",height:U(s)});a=I.makeSvgSpan([],[c],o)}return a.height=s,a.style.height=U(s),a},ui={encloseSpan:jA,mathMLnode:BA,svgSpan:PA};function ge(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Uh(t){var e=Wc(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Wc(t){return t&&(t.type==="atom"||hA.hasOwnProperty(t.type))?t:null}var Gh=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=ge(t.base,"accent"),r=n.base,t.base=r,i=dA(Be(t,e)),t.base=n):(n=ge(t,"accent"),r=n.base);var o=Be(r,e.havingCrampedStyle()),a=n.isShifty&&fe.isCharacterBox(r),s=0;if(a){var l=fe.getBaseElem(r),u=Be(l,e.havingCrampedStyle());s=mb(u).skew}var c=n.label==="\\c",d=c?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),f;if(n.isStretchy)f=ui.svgSpan(n,e),f=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+U(2*s)+")",marginLeft:U(2*s)}:void 0}]},e);else{var h,p;n.label==="\\vec"?(h=I.staticSvg("vec",e),p=I.svgData.vec[1]):(h=I.makeOrd({mode:n.mode,text:n.label},e,"textord"),h=mb(h),h.italic=0,p=h.width,c&&(d+=h.depth)),f=I.makeSpan(["accent-body"],[h]);var m=n.label==="\\textcircled";m&&(f.classes.push("accent-full"),d=o.height);var b=s;m||(b-=p/2),f.style.left=U(b),n.label==="\\textcircled"&&(f.style.top=".2em"),f=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-d},{type:"elem",elem:f}]},e)}var x=I.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=x,i.height=Math.max(x.height,i.height),i.classes[0]="mord",i):x},i5=(t,e)=>{var r=t.isStretchy?ui.mathMLnode(t.label):new j.MathNode("mo",[Gr(t.label,t.mode)]),n=new j.MathNode("mover",[Ue(t.base,e),r]);return n.setAttribute("accent","true"),n},qA=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Y({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=jc(e[0]),n=!qA.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:Gh,mathmlBuilder:i5});Y({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Gh,mathmlBuilder:i5});Y({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Be(t.base,e),n=ui.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=I.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return I.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var r=ui.mathMLnode(t.label),n=new j.MathNode("munder",[Ue(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var Oc=t=>{var e=new j.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Y({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=I.wrapFragment(Be(t.body,n,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var a;t.below&&(n=e.havingStyle(r.sub()),a=I.wrapFragment(Be(t.below,n,e),e),a.classes.push(o+"-arrow-pad"));var s=ui.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*s.height,u=-e.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*s.height+.111;c=I.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:l},{type:"elem",elem:a,shift:d}]},e)}else c=I.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),I.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var r=ui.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=Oc(Ue(t.body,e));if(t.below){var o=Oc(Ue(t.below,e));n=new j.MathNode("munderover",[r,o,i])}else n=new j.MathNode("mover",[r,i])}else if(t.below){var a=Oc(Ue(t.below,e));n=new j.MathNode("munder",[r,a])}else n=Oc(),n=new j.MathNode("mover",[r,n]);return n}});var HA={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},vb=()=>({type:"styling",body:[],mode:"math",style:"display"}),kb=t=>t.type==="textord"&&t.text==="@",VA=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function WA(t,e,r){var n=HA[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:n,mode:"math",family:"rel"},a=r.callFunction("\\Big",[o],[]),s=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,s]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function UA(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new q("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],o=0;o<e.length;o++){for(var a=e[o],s=vb(),l=0;l<a.length;l++)if(!kb(a[l]))s.body.push(a[l]);else{n.push(s),l+=1;var u=Uh(a[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var f=!0,h=l+1;h<a.length;h++){if(VA(a[h],u)){f=!1,l=h;break}if(kb(a[h]))throw new q("Missing a "+u+" character to complete a CD arrow.",a[h]);c[d].body.push(a[h])}if(f)throw new q("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new q('Expected one of "<>AV=|." after @',a[l]);var p=WA(u,c,t),m={type:"styling",body:[p],mode:"math",style:"display"};n.push(m),s=vb()}o%2===0?n.push(s):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Y({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=I.wrapFragment(Be(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=U(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new j.MathNode("mrow",[Ue(t.label,e)]);return r=new j.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new j.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Y({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=I.wrapFragment(Be(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new j.MathNode("mrow",[Ue(t.fragment,e)])}});Y({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=ge(e[0],"ordgroup"),i=n.body,o="",a=0;a<i.length;a++){var s=ge(i[a],"textord");o+=s.text}var l=parseInt(o),u;if(isNaN(l))throw new q("\\@char has non-numeric argument "+o);if(l<0||l>=1114111)throw new q("\\@char with invalid code point "+o);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var o5=(t,e)=>{var r=At(t.body,e.withColor(t.color),!1);return I.makeFragment(r)},a5=(t,e)=>{var r=zr(t.body,e.withColor(t.color)),n=new j.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};Y({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=ge(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:xt(i)}},htmlBuilder:o5,mathmlBuilder:a5});Y({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=ge(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:o}},htmlBuilder:o5,mathmlBuilder:a5});Y({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=r[0],o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:i&&ge(i,"size").value}},htmlBuilder(t,e){var r=I.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=U(at(t.size,e)))),r},mathmlBuilder(t,e){var r=new j.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",U(at(t.size,e)))),r}});var Lh={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},s5=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new q("Expected a control sequence",t);return e},GA=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},l5=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};Y({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(Lh[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=Lh[n.text]),ge(e.parseFunction(),"internal");throw new q("Invalid token after macro prefix",n)}});Y({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new q("Expected a control sequence",n);for(var o=0,a,s=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),s[o].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new q('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==o+1)throw new q('Argument number "'+n.text+'" out of order');o++,s.push([])}else{if(n.text==="EOF")throw new q("Expected a macro definition");s[o].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:o,delimiters:s},r===Lh[r]),{type:"internal",mode:e.mode}}});Y({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=s5(e.gullet.popToken());e.gullet.consumeSpaces();var i=GA(e);return l5(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Y({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=s5(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return l5(e,n,o,r==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var il=function(e,r,n){var i=Ke.math[e]&&Ke.math[e].replace,o=qh(i||e,r,n);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return o},Kh=function(e,r,n,i){var o=n.havingBaseStyle(r),a=I.makeSpan(i.concat(o.sizingClasses(n)),[e],n),s=o.sizeMultiplier/n.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=o.sizeMultiplier,a},u5=function(e,r,n){var i=r.havingBaseStyle(n),o=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=U(o),e.height-=o,e.depth+=o},KA=function(e,r,n,i,o,a){var s=I.makeSymbol(e,"Main-Regular",o,i),l=Kh(s,r,i,a);return n&&u5(l,i,r),l},JA=function(e,r,n,i){return I.makeSymbol(e,"Size"+r+"-Regular",n,i)},c5=function(e,r,n,i,o,a){var s=JA(e,r,o,i),l=Kh(I.makeSpan(["delimsizing","size"+r],[s],i),se.TEXT,i,a);return n&&u5(l,i,se.TEXT),l},wh=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=I.makeSpan(["delimsizinginner",i],[I.makeSpan([],[I.makeSymbol(e,r,n)])]);return{type:"elem",elem:o}},vh=function(e,r,n){var i=In["Size4-Regular"][e.charCodeAt(0)]?In["Size4-Regular"][e.charCodeAt(0)][4]:In["Size1-Regular"][e.charCodeAt(0)][4],o=new si("inner",oA(e,Math.round(1e3*r))),a=new Ln([o],{width:U(i),height:U(r),style:"width:"+U(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),s=I.makeSvgSpan([],[a],n);return s.height=r,s.style.height=U(r),s.style.width=U(i),{type:"elem",elem:s}},Bh=.008,zc={type:"kern",size:-1*Bh},ZA=["|","\\lvert","\\rvert","\\vert"],XA=["\\|","\\lVert","\\rVert","\\Vert"],d5=function(e,r,n,i,o,a){var s,l,u,c;s=u=c=e,l=null;var d="Size1-Regular";e==="\\uparrow"?u=c="⏐":e==="\\Uparrow"?u=c="‖":e==="\\downarrow"?s=u="⏐":e==="\\Downarrow"?s=u="‖":e==="\\updownarrow"?(s="\\uparrow",u="⏐",c="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="‖",c="\\Downarrow"):fe.contains(ZA,e)?u="∣":fe.contains(XA,e)?u="∥":e==="["||e==="\\lbrack"?(s="⎡",u="⎢",c="⎣",d="Size4-Regular"):e==="]"||e==="\\rbrack"?(s="⎤",u="⎥",c="⎦",d="Size4-Regular"):e==="\\lfloor"||e==="⌊"?(u=s="⎢",c="⎣",d="Size4-Regular"):e==="\\lceil"||e==="⌈"?(s="⎡",u=c="⎢",d="Size4-Regular"):e==="\\rfloor"||e==="⌋"?(u=s="⎥",c="⎦",d="Size4-Regular"):e==="\\rceil"||e==="⌉"?(s="⎤",u=c="⎥",d="Size4-Regular"):e==="("||e==="\\lparen"?(s="⎛",u="⎜",c="⎝",d="Size4-Regular"):e===")"||e==="\\rparen"?(s="⎞",u="⎟",c="⎠",d="Size4-Regular"):e==="\\{"||e==="\\lbrace"?(s="⎧",l="⎨",c="⎩",u="⎪",d="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="⎫",l="⎬",c="⎭",u="⎪",d="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(s="⎧",c="⎩",u="⎪",d="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(s="⎫",c="⎭",u="⎪",d="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(s="⎧",c="⎭",u="⎪",d="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(s="⎫",c="⎩",u="⎪",d="Size4-Regular");var f=il(s,d,o),h=f.height+f.depth,p=il(u,d,o),m=p.height+p.depth,b=il(c,d,o),x=b.height+b.depth,k=0,D=1;if(l!==null){var z=il(l,d,o);k=z.height+z.depth,D=2}var O=h+x+k,E=Math.max(0,Math.ceil((r-O)/(D*m))),T=O+E*D*m,N=i.fontMetrics().axisHeight;n&&(N*=i.sizeMultiplier);var R=T/2-N,X=[];if(X.push(wh(c,d,o)),X.push(zc),l===null){var K=T-h-x+2*Bh;X.push(vh(u,K,i))}else{var ne=(T-h-x-k)/2+2*Bh;X.push(vh(u,ne,i)),X.push(zc),X.push(wh(l,d,o)),X.push(zc),X.push(vh(u,ne,i))}X.push(zc),X.push(wh(s,d,o));var H=i.havingBaseStyle(se.TEXT),re=I.makeVList({positionType:"bottom",positionData:R,children:X},H);return Kh(I.makeSpan(["delimsizing","mult"],[re],H),se.TEXT,i,a)},kh=80,Dh=.08,Ch=function(e,r,n,i,o){var a=iA(e,i,n),s=new si(e,a),l=new Ln([s],{width:"400em",height:U(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return I.makeSvgSpan(["hide-tail"],[l],o)},YA=function(e,r){var n=r.havingBaseSizing(),i=m5("\\surd",e*n.sizeMultiplier,p5,n),o=n.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),s,l=0,u=0,c=0,d;return i.type==="small"?(c=1e3+1e3*a+kh,e<1?o=1:e<1.4&&(o=.7),l=(1+a+Dh)/o,u=(1+a)/o,s=Ch("sqrtMain",l,c,a,r),s.style.minWidth="0.853em",d=.833/o):i.type==="large"?(c=(1e3+kh)*ol[i.size],u=(ol[i.size]+a)/o,l=(ol[i.size]+a+Dh)/o,s=Ch("sqrtSize"+i.size,l,c,a,r),s.style.minWidth="1.02em",d=1/o):(l=e+a+Dh,u=e+a,c=Math.floor(1e3*e+a)+kh,s=Ch("sqrtTall",l,c,a,r),s.style.minWidth="0.742em",d=1.056),s.height=u,s.style.height=U(l),{span:s,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*o}},f5=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],QA=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],h5=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ol=[0,1.2,1.8,2.4,3],eT=function(e,r,n,i,o){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),fe.contains(f5,e)||fe.contains(h5,e))return c5(e,r,!1,n,i,o);if(fe.contains(QA,e))return d5(e,ol[r],!1,n,i,o);throw new q("Illegal delimiter: '"+e+"'")},tT=[{type:"small",style:se.SCRIPTSCRIPT},{type:"small",style:se.SCRIPT},{type:"small",style:se.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],rT=[{type:"small",style:se.SCRIPTSCRIPT},{type:"small",style:se.SCRIPT},{type:"small",style:se.TEXT},{type:"stack"}],p5=[{type:"small",style:se.SCRIPTSCRIPT},{type:"small",style:se.SCRIPT},{type:"small",style:se.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],nT=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},m5=function(e,r,n,i){for(var o=Math.min(2,3-i.style.size),a=o;a<n.length&&n[a].type!=="stack";a++){var s=il(e,nT(n[a]),"math"),l=s.height+s.depth;if(n[a].type==="small"){var u=i.havingBaseStyle(n[a].style);l*=u.sizeMultiplier}if(l>r)return n[a]}return n[n.length-1]},g5=function(e,r,n,i,o,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var s;fe.contains(h5,e)?s=tT:fe.contains(f5,e)?s=p5:s=rT;var l=m5(e,r,s,i);return l.type==="small"?KA(e,l.style,n,i,o,a):l.type==="large"?c5(e,l.size,n,i,o,a):d5(e,r,n,i,o,a)},iT=function(e,r,n,i,o,a){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(r-s,n+s),d=Math.max(c/500*l,2*c-u);return g5(e,d,!0,i,o,a)},ai={sqrtImage:YA,sizedDelim:eT,sizeToMaxHeight:ol,customSizedDelim:g5,leftRightDelim:iT},Db={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},oT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Uc(t,e){var r=Wc(t);if(r&&fe.contains(oT,r.text))return r;throw r?new q("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new q("Invalid delimiter type '"+t.type+"'",t)}Y({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Uc(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Db[t.funcName].size,mclass:Db[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?I.makeSpan([t.mclass]):ai.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Gr(t.delim,t.mode));var r=new j.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=U(ai.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function Cb(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Y({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new q("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Uc(e[0],t).text,color:r}}});Y({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Uc(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=ge(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{Cb(t);for(var r=At(t.body,e,!0,["mopen","mclose"]),n=0,i=0,o=!1,a=0;a<r.length;a++)r[a].isMiddle?o=!0:(n=Math.max(r[a].height,n),i=Math.max(r[a].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var s;if(t.left==="."?s=cl(e,["mopen"]):s=ai.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(s),o)for(var l=1;l<r.length;l++){var u=r[l],c=u.isMiddle;c&&(r[l]=ai.leftRightDelim(c.delim,n,i,c.options,t.mode,[]))}var d;if(t.right===".")d=cl(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;d=ai.leftRightDelim(t.right,n,i,f,t.mode,["mclose"])}return r.push(d),I.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{Cb(t);var r=zr(t.body,e);if(t.left!=="."){var n=new j.MathNode("mo",[Gr(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new j.MathNode("mo",[Gr(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return Vh(r)}});Y({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Uc(e[0],t);if(!t.parser.leftrightDepth)throw new q("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=cl(e,[]);else{r=ai.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?Gr("|","text"):Gr(t.delim,t.mode),n=new j.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Jh=(t,e)=>{var r=I.wrapFragment(Be(t.body,e),e),n=t.label.substr(1),i=e.sizeMultiplier,o,a=0,s=fe.isCharacterBox(t.body);if(n==="sout")o=I.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=at({number:.6,unit:"pt"},e),u=at({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var d=r.height+r.depth+l+u;r.style.paddingLeft=U(d/2+l);var f=Math.floor(1e3*d*i),h=rA(f),p=new Ln([new si("phase",h)],{width:"400em",height:U(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});o=I.makeSvgSpan(["hide-tail"],[p],e),o.style.height=U(d),a=r.depth+l+u}else{/cancel/.test(n)?s||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var m=0,b=0,x=0;/box/.test(n)?(x=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(n==="colorbox"?0:x),b=m):n==="angl"?(x=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*x,b=Math.max(0,.25-r.depth)):(m=s?.2:0,b=m),o=ui.encloseSpan(r,n,m,b,e),/fbox|boxed|fcolorbox/.test(n)?(o.style.borderStyle="solid",o.style.borderWidth=U(x)):n==="angl"&&x!==.049&&(o.style.borderTopWidth=U(x),o.style.borderRightWidth=U(x)),a=r.depth+b,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var k;if(t.backgroundColor)k=I.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:a},{type:"elem",elem:r,shift:0}]},e);else{var D=/cancel|phase/.test(n)?["svg-align"]:[];k=I.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:o,shift:a,wrapperClasses:D}]},e)}return/cancel/.test(n)&&(k.height=r.height,k.depth=r.depth),/cancel/.test(n)&&!s?I.makeSpan(["mord","cancel-lap"],[k],e):I.makeSpan(["mord"],[k],e)},Zh=(t,e)=>{var r=0,n=new j.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ue(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Y({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=ge(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:Jh,mathmlBuilder:Zh});Y({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=ge(e[0],"color-token").color,a=ge(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:Jh,mathmlBuilder:Zh});Y({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Y({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:Jh,mathmlBuilder:Zh});Y({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var b5={};function Bn(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)b5[r[l]]=s;o&&(Rc[e]=o),a&&(Pc[e]=a)}var y5={};function v(t,e){y5[t]=e}function Sb(t){var e=[];t.consumeSpaces();for(var r=t.fetch().text;r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var Gc=t=>{var e=t.parser.settings;if(!e.displayMode)throw new q("{"+t.envName+"} can be used only in display mode.")};function Xh(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Ji(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:o,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:d,leqno:f}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var h=t.gullet.expandMacroAsText("\\arraystretch");if(h==null)a=1;else if(a=parseFloat(h),!a||a<0)throw new q("Invalid \\arraystretch: "+h)}t.gullet.beginGroup();var p=[],m=[p],b=[],x=[],k=l!=null?[]:void 0;function D(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function z(){k&&(t.gullet.macros.get("\\df@tag")?(k.push(t.subparse([new wr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):k.push(Boolean(l)&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(D(),x.push(Sb(t));;){var O=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),O={type:"ordgroup",mode:t.mode,body:O},r&&(O={type:"styling",mode:t.mode,style:r,body:[O]}),p.push(O);var E=t.fetch().text;if(E==="&"){if(d&&p.length===d){if(u||s)throw new q("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(E==="\\end"){z(),p.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(m.length>1||!c)&&m.pop(),x.length<m.length+1&&x.push([]);break}else if(E==="\\\\"){t.consume();var T=void 0;t.gullet.future().text!==" "&&(T=t.parseSizeGroup(!0)),b.push(T?T.value:null),z(),x.push(Sb(t)),p=[],m.push(p),D()}else throw new q("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:m,cols:o,rowGaps:b,hskipBeforeAndAfter:n,hLinesBeforeRow:x,colSeparationType:s,tags:k,leqno:f}}function Yh(t){return t.substr(0,1)==="d"?"display":"text"}var $n=function(e,r){var n,i,o=e.body.length,a=e.hLinesBeforeRow,s=0,l=new Array(o),u=[],c=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,f=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var h=r.havingStyle(se.SCRIPT).sizeMultiplier;f=.2778*(h/r.sizeMultiplier)}var p=e.colSeparationType==="CD"?at({number:3,unit:"ex"},r):12*d,m=3*d,b=e.arraystretch*p,x=.7*b,k=.3*b,D=0;function z(Xi){for(var Yi=0;Yi<Xi.length;++Yi)Yi>0&&(D+=.25),u.push({pos:D,isDashed:Xi[Yi]})}for(z(a[0]),n=0;n<e.body.length;++n){var O=e.body[n],E=x,T=k;s<O.length&&(s=O.length);var N=new Array(O.length);for(i=0;i<O.length;++i){var R=Be(O[i],r);T<R.depth&&(T=R.depth),E<R.height&&(E=R.height),N[i]=R}var X=e.rowGaps[n],K=0;X&&(K=at(X,r),K>0&&(K+=k,T<K&&(T=K),K=0)),e.addJot&&(T+=m),N.height=E,N.depth=T,D+=E,N.pos=D,D+=T+K,l[n]=N,z(a[n+1])}var ne=D/2+r.fontMetrics().axisHeight,H=e.cols||[],re=[],ke,L,et=[];if(e.tags&&e.tags.some(Xi=>Xi))for(n=0;n<o;++n){var De=l[n],tt=De.pos-ne,xe=e.tags[n],M=void 0;xe===!0?M=I.makeSpan(["eqn-num"],[],r):xe===!1?M=I.makeSpan([],[],r):M=I.makeSpan([],At(xe,r,!0),r),M.depth=De.depth,M.height=De.height,et.push({type:"elem",elem:M,shift:tt})}for(i=0,L=0;i<s||L<H.length;++i,++L){for(var A=H[L]||{},Pt=!0;A.type==="separator";){if(Pt||(ke=I.makeSpan(["arraycolsep"],[]),ke.style.width=U(r.fontMetrics().doubleRuleSep),re.push(ke)),A.separator==="|"||A.separator===":"){var Vn=A.separator==="|"?"solid":"dashed",kr=I.makeSpan(["vertical-separator"],[],r);kr.style.height=U(D),kr.style.borderRightWidth=U(c),kr.style.borderRightStyle=Vn,kr.style.margin="0 "+U(-c/2);var pi=D-ne;pi&&(kr.style.verticalAlign=U(-pi)),re.push(kr)}else throw new q("Invalid separator type: "+A.separator);L++,A=H[L]||{},Pt=!1}if(!(i>=s)){var jt=void 0;(i>0||e.hskipBeforeAndAfter)&&(jt=fe.deflt(A.pregap,f),jt!==0&&(ke=I.makeSpan(["arraycolsep"],[]),ke.style.width=U(jt),re.push(ke)));var Je=[];for(n=0;n<o;++n){var hn=l[n],hr=hn[i];if(!!hr){var mi=hn.pos-ne;hr.depth=hn.depth,hr.height=hn.height,Je.push({type:"elem",elem:hr,shift:mi})}}Je=I.makeVList({positionType:"individualShift",children:Je},r),Je=I.makeSpan(["col-align-"+(A.align||"c")],[Je]),re.push(Je),(i<s-1||e.hskipBeforeAndAfter)&&(jt=fe.deflt(A.postgap,f),jt!==0&&(ke=I.makeSpan(["arraycolsep"],[]),ke.style.width=U(jt),re.push(ke)))}}if(l=I.makeSpan(["mtable"],re),u.length>0){for(var gi=I.makeLineSpan("hline",r,c),Bo=I.makeLineSpan("hdashline",r,c),Xa=[{type:"elem",elem:l,shift:0}];u.length>0;){var vl=u.pop(),kl=vl.pos-ne;vl.isDashed?Xa.push({type:"elem",elem:Bo,shift:kl}):Xa.push({type:"elem",elem:gi,shift:kl})}l=I.makeVList({positionType:"individualShift",children:Xa},r)}if(et.length===0)return I.makeSpan(["mord"],[l],r);var $o=I.makeVList({positionType:"individualShift",children:et},r);return $o=I.makeSpan(["tag"],[$o],r),I.makeFragment([l,$o])},aT={c:"center ",l:"left ",r:"right "},Rn=function(e,r){for(var n=[],i=new j.MathNode("mtd",[],["mtr-glue"]),o=new j.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var s=e.body[a],l=[],u=0;u<s.length;u++)l.push(new j.MathNode("mtd",[Ue(s[u],r)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(o):l.push(o)),n.push(new j.MathNode("mtr",l))}var c=new j.MathNode("mtable",n),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",U(d));var f="",h="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",b=!1,x=0,k=p.length;p[0].type==="separator"&&(f+="top ",x=1),p[p.length-1].type==="separator"&&(f+="bottom ",k-=1);for(var D=x;D<k;D++)p[D].type==="align"?(h+=aT[p[D].align],b&&(m+="none "),b=!0):p[D].type==="separator"&&b&&(m+=p[D].separator==="|"?"solid ":"dashed ",b=!1);c.setAttribute("columnalign",h.trim()),/[sd]/.test(m)&&c.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var z=e.cols||[],O="",E=1;E<z.length;E++)O+=E%2?"0em ":"1em ";c.setAttribute("columnspacing",O.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var T="",N=e.hLinesBeforeRow;f+=N[0].length>0?"left ":"",f+=N[N.length-1].length>0?"right ":"";for(var R=1;R<N.length-1;R++)T+=N[R].length===0?"none ":N[R][0]?"dashed ":"solid ";return/[sd]/.test(T)&&c.setAttribute("rowlines",T.trim()),f!==""&&(c=new j.MathNode("menclose",[c]),c.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(c=new j.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},x5=function(e,r){e.envName.indexOf("ed")===-1&&Gc(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",a=Ji(e.parser,{cols:n,addJot:!0,autoTag:o?void 0:Xh(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),s,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var c="",d=0;d<r[0].body.length;d++){var f=ge(r[0].body[d],"textord");c+=f.text}s=Number(c),l=s*2}var h=!l;a.body.forEach(function(x){for(var k=1;k<x.length;k+=2){var D=ge(x[k],"styling"),z=ge(D.body[0],"ordgroup");z.body.unshift(u)}if(h)l<x.length&&(l=x.length);else{var O=x.length/2;if(s<O)throw new q("Too many math in a row: "+("expected "+s+", but got "+O),x[0])}});for(var p=0;p<l;++p){var m="r",b=0;p%2===1?m="l":p>0&&h&&(b=1),n[p]={type:"align",align:m,pregap:b,postgap:0}}return a.colSeparationType=h?"align":"alignat",a};Bn({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Wc(e[0]),n=r?[e[0]]:ge(e[0],"ordgroup").body,i=n.map(function(a){var s=Uh(a),l=s.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new q("Unknown column alignment: "+l,a)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Ji(t.parser,o,Yh(t.envName))},htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new q("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var o=Ji(t.parser,n,Yh(t.envName)),a=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Ji(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Wc(e[0]),n=r?[e[0]]:ge(e[0],"ordgroup").body,i=n.map(function(a){var s=Uh(a),l=s.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new q("Unknown column alignment: "+l,a)});if(i.length>1)throw new q("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=Ji(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new q("{subarray} can contain only one column");return o},htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Ji(t.parser,e,Yh(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:x5,htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){fe.contains(["gather","gather*"],t.envName)&&Gc(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Xh(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Ji(t.parser,e,"display")},htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:x5,htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Gc(t);var e={autoTag:Xh(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Ji(t.parser,e,"display")},htmlBuilder:$n,mathmlBuilder:Rn});Bn({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Gc(t),UA(t.parser)},htmlBuilder:$n,mathmlBuilder:Rn});v("\\nonumber","\\gdef\\@eqnsw{0}");v("\\notag","\\nonumber");Y({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new q(t.funcName+" valid only within array environment")}});var _b=b5;Y({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new q("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=ge(i.body[a],"textord").text;if(n==="\\begin"){if(!_b.hasOwnProperty(o))throw new q("No such environment: "+o,i);var s=_b[o],{args:l,optArgs:u}=r.parseArguments("\\begin{"+o+"}",s),c={mode:r.mode,envName:o,parser:r},d=s.handler(c,l,u);r.expect("\\end",!1);var f=r.nextToken,h=ge(r.parseFunction(),"environment");if(h.name!==o)throw new q("Mismatch: \\begin{"+o+"} matched by \\end{"+h.name+"}",f);return d}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var sT=I.makeSpan;function w5(t,e){var r=At(t.body,e,!0);return sT([t.mclass],r,e)}function v5(t,e){var r,n=zr(t.body,e);return t.mclass==="minner"?r=new j.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new j.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new j.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Y({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.substr(5),body:xt(i),isCharacterBox:fe.isCharacterBox(i)}},htmlBuilder:w5,mathmlBuilder:v5});var Qh=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Y({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Qh(e[0]),body:xt(e[1]),isCharacterBox:fe.isCharacterBox(e[1])}}});Y({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],o=e[0],a;n!=="\\stackrel"?a=Qh(i):a="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:xt(i)},l={type:"supsub",mode:o.mode,base:s,sup:n==="\\underset"?null:o,sub:n==="\\underset"?o:null};return{type:"mclass",mode:r.mode,mclass:a,body:[l],isCharacterBox:fe.isCharacterBox(l)}},htmlBuilder:w5,mathmlBuilder:v5});var k5=(t,e)=>{var r=t.font,n=e.withFont(r);return Be(t.body,n)},D5=(t,e)=>{var r=t.font,n=e.withFont(r);return Ue(t.body,n)},Eb={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Y({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=jc(e[0]),o=n;return o in Eb&&(o=Eb[o]),{type:"font",mode:r.mode,font:o.slice(1),body:i}},htmlBuilder:k5,mathmlBuilder:D5});Y({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=fe.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Qh(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});Y({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:o}=r,a=r.parseExpression(!0,i),s="math"+n.slice(1);return{type:"font",mode:o,font:s,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:k5,mathmlBuilder:D5});var C5=(t,e)=>{var r=e;return t==="display"?r=r.id>=se.SCRIPT.id?r.text():se.DISPLAY:t==="text"&&r.size===se.DISPLAY.size?r=se.TEXT:t==="script"?r=se.SCRIPT:t==="scriptscript"&&(r=se.SCRIPTSCRIPT),r},ep=(t,e)=>{var r=C5(t.size,e.style),n=r.fracNum(),i=r.fracDen(),o;o=e.havingStyle(n);var a=Be(t.numer,o,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}o=e.havingStyle(i);var u=Be(t.denom,o,e),c,d,f;t.hasBarLine?(t.barSize?(d=at(t.barSize,e),c=I.makeLineSpan("frac-line",e,d)):c=I.makeLineSpan("frac-line",e),d=c.height,f=c.height):(c=null,d=0,f=e.fontMetrics().defaultRuleThickness);var h,p,m;r.size===se.DISPLAY.size||t.size==="display"?(h=e.fontMetrics().num1,d>0?p=3*f:p=7*f,m=e.fontMetrics().denom1):(d>0?(h=e.fontMetrics().num2,p=f):(h=e.fontMetrics().num3,p=3*f),m=e.fontMetrics().denom2);var b;if(c){var k=e.fontMetrics().axisHeight;h-a.depth-(k+.5*d)<p&&(h+=p-(h-a.depth-(k+.5*d))),k-.5*d-(u.height-m)<p&&(m+=p-(k-.5*d-(u.height-m)));var D=-(k-.5*d);b=I.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:c,shift:D},{type:"elem",elem:a,shift:-h}]},e)}else{var x=h-a.depth-(u.height-m);x<p&&(h+=.5*(p-x),m+=.5*(p-x)),b=I.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:a,shift:-h}]},e)}o=e.havingStyle(r),b.height*=o.sizeMultiplier/e.sizeMultiplier,b.depth*=o.sizeMultiplier/e.sizeMultiplier;var z;r.size===se.DISPLAY.size?z=e.fontMetrics().delim1:r.size===se.SCRIPTSCRIPT.size?z=e.havingStyle(se.SCRIPT).fontMetrics().delim2:z=e.fontMetrics().delim2;var O,E;return t.leftDelim==null?O=cl(e,["mopen"]):O=ai.customSizedDelim(t.leftDelim,z,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?E=I.makeSpan([]):t.rightDelim==null?E=cl(e,["mclose"]):E=ai.customSizedDelim(t.rightDelim,z,!0,e.havingStyle(r),t.mode,["mclose"]),I.makeSpan(["mord"].concat(o.sizingClasses(e)),[O,I.makeSpan(["mfrac"],[b]),E],e)},tp=(t,e)=>{var r=new j.MathNode("mfrac",[Ue(t.numer,e),Ue(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=at(t.barSize,e);r.setAttribute("linethickness",U(n))}var i=C5(t.size,e.style);if(i.size!==e.style.size){r=new j.MathNode("mstyle",[r]);var o=i.size===se.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var s=new j.MathNode("mo",[new j.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(r),t.rightDelim!=null){var l=new j.MathNode("mo",[new j.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return Vh(a)}return r};Y({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=e[1],a,s=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,s="(",l=")";break;case"\\\\bracefrac":a=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:o,hasBarLine:a,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:ep,mathmlBuilder:tp});Y({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Y({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var Mb=["display","text","script","scriptscript"],Ab=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Y({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],o=jc(e[0]),a=o.type==="atom"&&o.family==="open"?Ab(o.text):null,s=jc(e[1]),l=s.type==="atom"&&s.family==="close"?Ab(s.text):null,u=ge(e[2],"size"),c,d=null;u.isBlank?c=!0:(d=u.value,c=d.number>0);var f="auto",h=e[3];if(h.type==="ordgroup"){if(h.body.length>0){var p=ge(h.body[0],"textord");f=Mb[Number(p.text)]}}else h=ge(h,"textord"),f=Mb[Number(h.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:c,barSize:d,leftDelim:a,rightDelim:l,size:f}},htmlBuilder:ep,mathmlBuilder:tp});Y({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:ge(e[0],"size").value,token:i}}});Y({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=jM(ge(e[1],"infix").size),a=e[2],s=o.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ep,mathmlBuilder:tp});var S5=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Be(t.sup,e.havingStyle(r.sup()),e):Be(t.sub,e.havingStyle(r.sub()),e),i=ge(t.base,"horizBrace")):i=ge(t,"horizBrace");var o=Be(i.base,e.havingBaseStyle(se.DISPLAY)),a=ui.svgSpan(i,e),s;if(i.isOver?(s=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},e),s.children[0].children[0].children[1].classes.push("svg-align")):(s=I.makeVList({positionType:"bottom",positionData:o.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},e),s.children[0].children[0].children[0].classes.push("svg-align")),n){var l=I.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e);i.isOver?s=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):s=I.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return I.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e)},lT=(t,e)=>{var r=ui.mathMLnode(t.label);return new j.MathNode(t.isOver?"mover":"munder",[Ue(t.base,e),r])};Y({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:S5,mathmlBuilder:lT});Y({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=ge(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:xt(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=At(t.body,e,!1);return I.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Ki(t.body,e);return r instanceof xr||(r=new xr("mrow",[r])),r.setAttribute("href",t.href),r}});Y({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=ge(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var a=n[o];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:xt(s)}}});Y({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:xt(e[0])}},htmlBuilder(t,e){var r=At(t.body,e,!1);return I.makeFragment(r)},mathmlBuilder(t,e){return new j.MathNode("mrow",zr(t.body,e))}});Y({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,o=ge(e[0],"raw").string,a=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(n){case"\\htmlClass":l.class=o,s={command:"\\htmlClass",class:o};break;case"\\htmlId":l.id=o,s={command:"\\htmlId",id:o};break;case"\\htmlStyle":l.style=o,s={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length!==2)throw new q("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}s={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(s)?{type:"html",mode:r.mode,attributes:l,body:xt(a)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=At(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=I.makeSpan(n,r,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Ki(t.body,e)});Y({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:xt(e[0]),mathml:xt(e[1])}},htmlBuilder:(t,e)=>{var r=At(t.html,e,!1);return I.makeFragment(r)},mathmlBuilder:(t,e)=>Ki(t.mathml,e)});var Sh=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new q("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!Vb(n))throw new q("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Y({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(r[0])for(var l=ge(r[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length===2){var f=d[1].trim();switch(d[0].trim()){case"alt":s=f;break;case"width":i=Sh(f);break;case"height":o=Sh(f);break;case"totalheight":a=Sh(f);break;default:throw new q("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var h=ge(e[0],"url").url;return s===""&&(s=h,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:h})?{type:"includegraphics",mode:n.mode,alt:s,width:i,height:o,totalheight:a,src:h}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=at(t.height,e),n=0;t.totalheight.number>0&&(n=at(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=at(t.width,e));var o={height:U(r+n)};i>0&&(o.width=U(i)),n>0&&(o.verticalAlign=U(-n));var a=new Fh(t.src,t.alt,o);return a.height=r,a.depth=n,a},mathmlBuilder:(t,e)=>{var r=new j.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=at(t.height,e),i=0;if(t.totalheight.number>0&&(i=at(t.totalheight,e)-n,r.setAttribute("valign",U(-i))),r.setAttribute("height",U(n+i)),t.width.number>0){var o=at(t.width,e);r.setAttribute("width",U(o))}return r.setAttribute("src",t.src),r}});Y({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=ge(e[0],"size");if(r.settings.strict){var o=n[1]==="m",a=i.value.unit==="mu";o?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return I.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=at(t.dimension,e);return new j.SpaceNode(r)}});Y({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=I.makeSpan([],[Be(t.body,e)]),r=I.makeSpan(["inner"],[r],e)):r=I.makeSpan(["inner"],[Be(t.body,e)]);var n=I.makeSpan(["fix"],[]),i=I.makeSpan([t.alignment],[r,n],e),o=I.makeSpan(["strut"]);return o.style.height=U(i.height+i.depth),i.depth&&(o.style.verticalAlign=U(-i.depth)),i.children.unshift(o),i=I.makeSpan(["thinbox"],[i],e),I.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new j.MathNode("mpadded",[Ue(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});Y({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var o=r==="\\("?"\\)":"$",a=n.parseExpression(!1,o);return n.expect(o),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}});Y({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new q("Mismatched "+t.funcName)}});var Tb=(t,e)=>{switch(e.style.size){case se.DISPLAY.size:return t.display;case se.TEXT.size:return t.text;case se.SCRIPT.size:return t.script;case se.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Y({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:xt(e[0]),text:xt(e[1]),script:xt(e[2]),scriptscript:xt(e[3])}},htmlBuilder:(t,e)=>{var r=Tb(t,e),n=At(r,e,!1);return I.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=Tb(t,e);return Ki(r,e)}});var _5=(t,e,r,n,i,o,a)=>{t=I.makeSpan([],[t]);var s=r&&fe.isCharacterBox(r),l,u;if(e){var c=Be(e,n.havingStyle(i.sup()),n);u={elem:c,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-c.depth)}}if(r){var d=Be(r,n.havingStyle(i.sub()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var f;if(u&&l){var h=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;f=I.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:U(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:U(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var p=t.height-a;f=I.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:U(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(u){var m=t.depth+a;f=I.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:U(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var b=[f];if(l&&o!==0&&!s){var x=I.makeSpan(["mspace"],[],n);x.style.marginRight=U(o),b.unshift(x)}return I.makeSpan(["mop","op-limits"],b,n)},E5=["\\smallint"],ja=(t,e)=>{var r,n,i=!1,o;t.type==="supsub"?(r=t.sup,n=t.sub,o=ge(t.base,"op"),i=!0):o=ge(t,"op");var a=e.style,s=!1;a.size===se.DISPLAY.size&&o.symbol&&!fe.contains(E5,o.name)&&(s=!0);var l;if(o.symbol){var u=s?"Size2-Regular":"Size1-Regular",c="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(c=o.name.substr(1),o.name=c==="oiint"?"\\iint":"\\iiint"),l=I.makeSymbol(o.name,u,"math",e,["mop","op-symbol",s?"large-op":"small-op"]),c.length>0){var d=l.italic,f=I.staticSvg(c+"Size"+(s?"2":"1"),e);l=I.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:s?.08:0}]},e),o.name="\\"+c,l.classes.unshift("mop"),l.italic=d}}else if(o.body){var h=At(o.body,e,!0);h.length===1&&h[0]instanceof vr?(l=h[0],l.classes[0]="mop"):l=I.makeSpan(["mop"],h,e)}else{for(var p=[],m=1;m<o.name.length;m++)p.push(I.mathsym(o.name[m],o.mode,e));l=I.makeSpan(["mop"],p,e)}var b=0,x=0;return(l instanceof vr||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(b=(l.height-l.depth)/2-e.fontMetrics().axisHeight,x=l.italic),i?_5(l,r,n,e,a,x,b):(b&&(l.style.position="relative",l.style.top=U(b)),l)},dl=(t,e)=>{var r;if(t.symbol)r=new xr("mo",[Gr(t.name,t.mode)]),fe.contains(E5,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new xr("mo",zr(t.body,e));else{r=new xr("mi",[new Mo(t.name.slice(1))]);var n=new xr("mo",[Gr("⁡","text")]);t.parentIsSupSub?r=new xr("mrow",[r,n]):r=t5([r,n])}return r},uT={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Y({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=uT[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ja,mathmlBuilder:dl});Y({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:xt(n)}},htmlBuilder:ja,mathmlBuilder:dl});var cT={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Y({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ja,mathmlBuilder:dl});Y({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ja,mathmlBuilder:dl});Y({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=cT[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:ja,mathmlBuilder:dl});var M5=(t,e)=>{var r,n,i=!1,o;t.type==="supsub"?(r=t.sup,n=t.sub,o=ge(t.base,"operatorname"),i=!0):o=ge(t,"operatorname");var a;if(o.body.length>0){for(var s=o.body.map(d=>{var f=d.text;return typeof f=="string"?{type:"textord",mode:d.mode,text:f}:d}),l=At(s,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof vr&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=I.makeSpan(["mop"],l,e)}else a=I.makeSpan(["mop"],[],e);return i?_5(a,r,n,e,e.style,0,0):a},dT=(t,e)=>{for(var r=zr(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var o=r[i];if(!(o instanceof j.SpaceNode))if(o instanceof j.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=o.children[0];o.children.length===1&&a instanceof j.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var s=r.map(c=>c.toText()).join("");r=[new j.TextNode(s)]}var l=new j.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new j.MathNode("mo",[Gr("⁡","text")]);return t.parentIsSupSub?new j.MathNode("mrow",[l,u]):j.newDocumentFragment([l,u])};Y({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:xt(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:M5,mathmlBuilder:dT});v("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Oo({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?I.makeFragment(At(t.body,e,!1)):I.makeSpan(["mord"],At(t.body,e,!0),e)},mathmlBuilder(t,e){return Ki(t.body,e,!0)}});Y({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Be(t.body,e.havingCrampedStyle()),n=I.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return I.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var r=new j.MathNode("mo",[new j.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new j.MathNode("mover",[Ue(t.body,e),r]);return n.setAttribute("accent","true"),n}});Y({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:xt(n)}},htmlBuilder:(t,e)=>{var r=At(t.body,e.withPhantom(),!1);return I.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=zr(t.body,e);return new j.MathNode("mphantom",r)}});Y({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=I.makeSpan([],[Be(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),I.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=zr(xt(t.body),e),n=new j.MathNode("mphantom",r),i=new j.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Y({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=I.makeSpan(["inner"],[Be(t.body,e.withPhantom())]),n=I.makeSpan(["fix"],[]);return I.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=zr(xt(t.body),e),n=new j.MathNode("mphantom",r),i=new j.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});Y({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=ge(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Be(t.body,e),n=at(t.dy,e);return I.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new j.MathNode("mpadded",[Ue(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});Y({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Y({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],o=ge(e[0],"size"),a=ge(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&ge(i,"size").value,width:o.value,height:a.value}},htmlBuilder(t,e){var r=I.makeSpan(["mord","rule"],[],e),n=at(t.width,e),i=at(t.height,e),o=t.shift?at(t.shift,e):0;return r.style.borderRightWidth=U(n),r.style.borderTopWidth=U(i),r.style.bottom=U(o),r.width=n,r.height=i+o,r.depth=-o,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=at(t.width,e),n=at(t.height,e),i=t.shift?at(t.shift,e):0,o=e.color&&e.getColor()||"black",a=new j.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",U(r)),a.setAttribute("height",U(n));var s=new j.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",U(i)):(s.setAttribute("height",U(i)),s.setAttribute("depth",U(-i))),s.setAttribute("voffset",U(i)),s}});function A5(t,e,r){for(var n=At(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var a=n[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[o].classes,e.sizingClasses(r)):n[o].classes[a+1]==="reset-size"+e.size&&(n[o].classes[a+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return I.makeFragment(n)}var Fb=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],fT=(t,e)=>{var r=e.havingSize(t.size);return A5(t.body,r,e)};Y({type:"sizing",names:Fb,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:Fb.indexOf(n)+1,body:o}},htmlBuilder:fT,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=zr(t.body,r),i=new j.MathNode("mstyle",n);return i.setAttribute("mathsize",U(r.sizeMultiplier)),i}});Y({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,o=!1,a=r[0]&&ge(r[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l){var u=a.body[l];if(s=u.text,s==="t")i=!0;else if(s==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var c=e[0];return{type:"smash",mode:n.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var r=I.makeSpan([],[Be(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var o=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return I.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var r=new j.MathNode("mpadded",[Ue(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Y({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],o=e[0];return{type:"sqrt",mode:n.mode,body:o,index:i}},htmlBuilder(t,e){var r=Be(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=I.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,o=i;e.style.id<se.TEXT.id&&(o=e.fontMetrics().xHeight);var a=i+o/4,s=r.height+r.depth+a+i,{span:l,ruleWidth:u,advanceWidth:c}=ai.sqrtImage(s,e),d=l.height-u;d>r.height+r.depth+a&&(a=(a+d-r.height-r.depth)/2);var f=l.height-r.height-a-u;r.style.paddingLeft=U(c);var h=I.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var p=e.havingStyle(se.SCRIPTSCRIPT),m=Be(t.index,p,e),b=.6*(h.height-h.depth),x=I.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:m}]},e),k=I.makeSpan(["root"],[x]);return I.makeSpan(["mord","sqrt"],[k,h],e)}else return I.makeSpan(["mord","sqrt"],[h],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new j.MathNode("mroot",[Ue(r,e),Ue(n,e)]):new j.MathNode("msqrt",[Ue(r,e)])}});var Ob={display:se.DISPLAY,text:se.TEXT,script:se.SCRIPT,scriptscript:se.SCRIPTSCRIPT};Y({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(t,e){var r=Ob[t.style],n=e.havingStyle(r).withFont("");return A5(t.body,n,e)},mathmlBuilder(t,e){var r=Ob[t.style],n=e.havingStyle(r),i=zr(t.body,n),o=new j.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=a[t.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});var hT=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===se.DISPLAY.size||n.alwaysHandleSupSub);return i?ja:null}else if(n.type==="operatorname"){var o=n.alwaysHandleSupSub&&(r.style.size===se.DISPLAY.size||n.limits);return o?M5:null}else{if(n.type==="accent")return fe.isCharacterBox(n.base)?Gh:null;if(n.type==="horizBrace"){var a=!e.sub;return a===n.isOver?S5:null}else return null}else return null};Oo({type:"supsub",htmlBuilder(t,e){var r=hT(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:o}=t,a=Be(n,e),s,l,u=e.fontMetrics(),c=0,d=0,f=n&&fe.isCharacterBox(n);if(i){var h=e.havingStyle(e.style.sup());s=Be(i,h,e),f||(c=a.height-h.fontMetrics().supDrop*h.sizeMultiplier/e.sizeMultiplier)}if(o){var p=e.havingStyle(e.style.sub());l=Be(o,p,e),f||(d=a.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var m;e.style===se.DISPLAY?m=u.sup1:e.style.cramped?m=u.sup3:m=u.sup2;var b=e.sizeMultiplier,x=U(.5/u.ptPerEm/b),k=null;if(l){var D=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof vr||D)&&(k=U(-a.italic))}var z;if(s&&l){c=Math.max(c,m,s.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var O=u.defaultRuleThickness,E=4*O;if(c-s.depth-(l.height-d)<E){d=E-(c-s.depth)+l.height;var T=.8*u.xHeight-(c-s.depth);T>0&&(c+=T,d-=T)}var N=[{type:"elem",elem:l,shift:d,marginRight:x,marginLeft:k},{type:"elem",elem:s,shift:-c,marginRight:x}];z=I.makeVList({positionType:"individualShift",children:N},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var R=[{type:"elem",elem:l,marginLeft:k,marginRight:x}];z=I.makeVList({positionType:"shift",positionData:d,children:R},e)}else if(s)c=Math.max(c,m,s.depth+.25*u.xHeight),z=I.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:s,marginRight:x}]},e);else throw new Error("supsub must have either sup or sub.");var X=zh(a,"right")||"mord";return I.makeSpan([X],[a,I.makeSpan(["msupsub"],[z])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[Ue(t.base,e)];t.sub&&o.push(Ue(t.sub,e)),t.sup&&o.push(Ue(t.sup,e));var a;if(r)a=n?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===se.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===se.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===se.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===se.DISPLAY)?a="munder":a="msub"}else{var s=t.base;s&&s.type==="op"&&s.limits&&(e.style===se.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||e.style===se.DISPLAY)?a="mover":a="msup"}return new j.MathNode(a,o)}});Oo({type:"atom",htmlBuilder(t,e){return I.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new j.MathNode("mo",[Gr(t.text,t.mode)]);if(t.family==="bin"){var n=Wh(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var T5={mi:"italic",mn:"normal",mtext:"normal"};Oo({type:"mathord",htmlBuilder(t,e){return I.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new j.MathNode("mi",[Gr(t.text,t.mode,e)]),n=Wh(t,e)||"italic";return n!==T5[r.type]&&r.setAttribute("mathvariant",n),r}});Oo({type:"textord",htmlBuilder(t,e){return I.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=Gr(t.text,t.mode,e),n=Wh(t,e)||"normal",i;return t.mode==="text"?i=new j.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new j.MathNode("mn",[r]):t.text==="\\prime"?i=new j.MathNode("mo",[r]):i=new j.MathNode("mi",[r]),n!==T5[i.type]&&i.setAttribute("mathvariant",n),i}});var _h={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Eh={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Oo({type:"spacing",htmlBuilder(t,e){if(Eh.hasOwnProperty(t.text)){var r=Eh[t.text].className||"";if(t.mode==="text"){var n=I.makeOrd(t,e,"textord");return n.classes.push(r),n}else return I.makeSpan(["mspace",r],[I.mathsym(t.text,t.mode,e)],e)}else{if(_h.hasOwnProperty(t.text))return I.makeSpan(["mspace",_h[t.text]],[],e);throw new q('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(Eh.hasOwnProperty(t.text))r=new j.MathNode("mtext",[new j.TextNode(" ")]);else{if(_h.hasOwnProperty(t.text))return new j.MathNode("mspace");throw new q('Unknown type of space "'+t.text+'"')}return r}});var zb=()=>{var t=new j.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Oo({type:"tag",mathmlBuilder(t,e){var r=new j.MathNode("mtable",[new j.MathNode("mtr",[zb(),new j.MathNode("mtd",[Ki(t.body,e)]),zb(),new j.MathNode("mtd",[Ki(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var Nb={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Ib={"\\textbf":"textbf","\\textmd":"textmd"},pT={"\\textit":"textit","\\textup":"textup"},Lb=(t,e)=>{var r=t.font;return r?Nb[r]?e.withTextFontFamily(Nb[r]):Ib[r]?e.withTextFontWeight(Ib[r]):e.withTextFontShape(pT[r]):e};Y({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:xt(i),font:n}},htmlBuilder(t,e){var r=Lb(t,e),n=At(t.body,r,!0);return I.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=Lb(t,e);return Ki(t.body,r)}});Y({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Be(t.body,e),n=I.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=I.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return I.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var r=new j.MathNode("mo",[new j.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new j.MathNode("munder",[Ue(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});Y({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Be(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return I.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new j.MathNode("mpadded",[Ue(t.body,e)],["vcenter"])}});Y({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new q("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=Bb(t),n=[],i=e.havingStyle(e.style.text()),o=0;o<r.length;o++){var a=r[o];a==="~"&&(a="\\textasciitilde"),n.push(I.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return I.makeSpan(["mord","text"].concat(i.sizingClasses(e)),I.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new j.TextNode(Bb(t)),n=new j.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var Bb=t=>t.body.replace(/ /g,t.star?"␣":" "),Ui=Qb,F5=`[ \r
	]`,mT="\\\\[a-zA-Z@]+",gT="\\\\[^\uD800-\uDFFF]",bT="("+mT+")"+F5+"*",yT=`\\\\(
|[ \r	]+
?)[ \r	]*`,$h="[̀-ͯ]",xT=new RegExp($h+"+$"),wT="("+F5+"+)|"+(yT+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+($h+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+($h+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+bT)+("|"+gT+")"),qc=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(wT,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new wr("EOF",new cr(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new q("Unexpected character: '"+e[r]+"'",new wr(e[r],new cr(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new wr(i,new cr(this,r,this.tokenRegex.lastIndex))}},Rh=class{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new q("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}},vT=y5;v("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});v("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});v("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});v("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});v("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});v("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");v("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var $b={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};v("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new q("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=$b[e.text],n==null||n>=r)throw new q("Invalid base-"+r+" digit "+e.text);for(var i;(i=$b[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var rp=(t,e,r)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new q("\\newcommand's first argument must be a macro name");var i=n[0].text,o=t.isDefined(i);if(o&&!e)throw new q("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!o&&!r)throw new q("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var s="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)s+=l.text,l=t.expandNextToken();if(!s.match(/^\s*[0-9]+\s*$/))throw new q("Invalid number of arguments: "+s);a=parseInt(s),n=t.consumeArg().tokens}return t.macros.set(i,{tokens:n,numArgs:a}),""};v("\\newcommand",t=>rp(t,!1,!0));v("\\renewcommand",t=>rp(t,!0,!1));v("\\providecommand",t=>rp(t,!0,!0));v("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});v("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});v("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Ui[r],Ke.math[r],Ke.text[r]),""});v("\\bgroup","{");v("\\egroup","}");v("~","\\nobreakspace");v("\\lq","`");v("\\rq","'");v("\\aa","\\r a");v("\\AA","\\r A");v("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");v("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");v("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");v("ℬ","\\mathscr{B}");v("ℰ","\\mathscr{E}");v("ℱ","\\mathscr{F}");v("ℋ","\\mathscr{H}");v("ℐ","\\mathscr{I}");v("ℒ","\\mathscr{L}");v("ℳ","\\mathscr{M}");v("ℛ","\\mathscr{R}");v("ℭ","\\mathfrak{C}");v("ℌ","\\mathfrak{H}");v("ℨ","\\mathfrak{Z}");v("\\Bbbk","\\Bbb{k}");v("·","\\cdotp");v("\\llap","\\mathllap{\\textrm{#1}}");v("\\rlap","\\mathrlap{\\textrm{#1}}");v("\\clap","\\mathclap{\\textrm{#1}}");v("\\mathstrut","\\vphantom{(}");v("\\underbar","\\underline{\\text{#1}}");v("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');v("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");v("\\ne","\\neq");v("≠","\\neq");v("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");v("∉","\\notin");v("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");v("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");v("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");v("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");v("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");v("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");v("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");v("⟂","\\perp");v("‼","\\mathclose{!\\mkern-0.8mu!}");v("∌","\\notni");v("⌜","\\ulcorner");v("⌝","\\urcorner");v("⌞","\\llcorner");v("⌟","\\lrcorner");v("©","\\copyright");v("®","\\textregistered");v("️","\\textregistered");v("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');v("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');v("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');v("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');v("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");v("⋮","\\vdots");v("\\varGamma","\\mathit{\\Gamma}");v("\\varDelta","\\mathit{\\Delta}");v("\\varTheta","\\mathit{\\Theta}");v("\\varLambda","\\mathit{\\Lambda}");v("\\varXi","\\mathit{\\Xi}");v("\\varPi","\\mathit{\\Pi}");v("\\varSigma","\\mathit{\\Sigma}");v("\\varUpsilon","\\mathit{\\Upsilon}");v("\\varPhi","\\mathit{\\Phi}");v("\\varPsi","\\mathit{\\Psi}");v("\\varOmega","\\mathit{\\Omega}");v("\\substack","\\begin{subarray}{c}#1\\end{subarray}");v("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");v("\\boxed","\\fbox{$\\displaystyle{#1}$}");v("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");v("\\implies","\\DOTSB\\;\\Longrightarrow\\;");v("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Rb={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};v("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in Rb?e=Rb[r]:(r.substr(0,4)==="\\not"||r in Ke.math&&fe.contains(["bin","rel"],Ke.math[r].group))&&(e="\\dotsb"),e});var np={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};v("\\dotso",function(t){var e=t.future().text;return e in np?"\\ldots\\,":"\\ldots"});v("\\dotsc",function(t){var e=t.future().text;return e in np&&e!==","?"\\ldots\\,":"\\ldots"});v("\\cdots",function(t){var e=t.future().text;return e in np?"\\@cdots\\,":"\\@cdots"});v("\\dotsb","\\cdots");v("\\dotsm","\\cdots");v("\\dotsi","\\!\\cdots");v("\\dotsx","\\ldots\\,");v("\\DOTSI","\\relax");v("\\DOTSB","\\relax");v("\\DOTSX","\\relax");v("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");v("\\,","\\tmspace+{3mu}{.1667em}");v("\\thinspace","\\,");v("\\>","\\mskip{4mu}");v("\\:","\\tmspace+{4mu}{.2222em}");v("\\medspace","\\:");v("\\;","\\tmspace+{5mu}{.2777em}");v("\\thickspace","\\;");v("\\!","\\tmspace-{3mu}{.1667em}");v("\\negthinspace","\\!");v("\\negmedspace","\\tmspace-{4mu}{.2222em}");v("\\negthickspace","\\tmspace-{5mu}{.277em}");v("\\enspace","\\kern.5em ");v("\\enskip","\\hskip.5em\\relax");v("\\quad","\\hskip1em\\relax");v("\\qquad","\\hskip2em\\relax");v("\\tag","\\@ifstar\\tag@literal\\tag@paren");v("\\tag@paren","\\tag@literal{({#1})}");v("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new q("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});v("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");v("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");v("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");v("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");v("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}");v("\\newline","\\\\\\relax");v("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var O5=U(In["Main-Regular"]["T".charCodeAt(0)][1]-.7*In["Main-Regular"]["A".charCodeAt(0)][1]);v("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+O5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");v("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+O5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");v("\\hspace","\\@ifstar\\@hspacer\\@hspace");v("\\@hspace","\\hskip #1\\relax");v("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");v("\\ordinarycolon",":");v("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");v("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');v("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');v("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');v("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');v("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');v("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');v("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');v("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');v("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');v("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');v("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');v("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');v("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');v("∷","\\dblcolon");v("∹","\\eqcolon");v("≔","\\coloneqq");v("≕","\\eqqcolon");v("⩴","\\Coloneqq");v("\\ratio","\\vcentcolon");v("\\coloncolon","\\dblcolon");v("\\colonequals","\\coloneqq");v("\\coloncolonequals","\\Coloneqq");v("\\equalscolon","\\eqqcolon");v("\\equalscoloncolon","\\Eqqcolon");v("\\colonminus","\\coloneq");v("\\coloncolonminus","\\Coloneq");v("\\minuscolon","\\eqcolon");v("\\minuscoloncolon","\\Eqcolon");v("\\coloncolonapprox","\\Colonapprox");v("\\coloncolonsim","\\Colonsim");v("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");v("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");v("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");v("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");v("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");v("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");v("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");v("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");v("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");v("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");v("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");v("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");v("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");v("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");v("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");v("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");v("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");v("\\nleqq","\\html@mathml{\\@nleqq}{≰}");v("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");v("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");v("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");v("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");v("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");v("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");v("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");v("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");v("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");v("\\imath","\\html@mathml{\\@imath}{ı}");v("\\jmath","\\html@mathml{\\@jmath}{ȷ}");v("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");v("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");v("⟦","\\llbracket");v("⟧","\\rrbracket");v("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");v("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");v("⦃","\\lBrace");v("⦄","\\rBrace");v("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");v("⦵","\\minuso");v("\\darr","\\downarrow");v("\\dArr","\\Downarrow");v("\\Darr","\\Downarrow");v("\\lang","\\langle");v("\\rang","\\rangle");v("\\uarr","\\uparrow");v("\\uArr","\\Uparrow");v("\\Uarr","\\Uparrow");v("\\N","\\mathbb{N}");v("\\R","\\mathbb{R}");v("\\Z","\\mathbb{Z}");v("\\alef","\\aleph");v("\\alefsym","\\aleph");v("\\Alpha","\\mathrm{A}");v("\\Beta","\\mathrm{B}");v("\\bull","\\bullet");v("\\Chi","\\mathrm{X}");v("\\clubs","\\clubsuit");v("\\cnums","\\mathbb{C}");v("\\Complex","\\mathbb{C}");v("\\Dagger","\\ddagger");v("\\diamonds","\\diamondsuit");v("\\empty","\\emptyset");v("\\Epsilon","\\mathrm{E}");v("\\Eta","\\mathrm{H}");v("\\exist","\\exists");v("\\harr","\\leftrightarrow");v("\\hArr","\\Leftrightarrow");v("\\Harr","\\Leftrightarrow");v("\\hearts","\\heartsuit");v("\\image","\\Im");v("\\infin","\\infty");v("\\Iota","\\mathrm{I}");v("\\isin","\\in");v("\\Kappa","\\mathrm{K}");v("\\larr","\\leftarrow");v("\\lArr","\\Leftarrow");v("\\Larr","\\Leftarrow");v("\\lrarr","\\leftrightarrow");v("\\lrArr","\\Leftrightarrow");v("\\Lrarr","\\Leftrightarrow");v("\\Mu","\\mathrm{M}");v("\\natnums","\\mathbb{N}");v("\\Nu","\\mathrm{N}");v("\\Omicron","\\mathrm{O}");v("\\plusmn","\\pm");v("\\rarr","\\rightarrow");v("\\rArr","\\Rightarrow");v("\\Rarr","\\Rightarrow");v("\\real","\\Re");v("\\reals","\\mathbb{R}");v("\\Reals","\\mathbb{R}");v("\\Rho","\\mathrm{P}");v("\\sdot","\\cdot");v("\\sect","\\S");v("\\spades","\\spadesuit");v("\\sub","\\subset");v("\\sube","\\subseteq");v("\\supe","\\supseteq");v("\\Tau","\\mathrm{T}");v("\\thetasym","\\vartheta");v("\\weierp","\\wp");v("\\Zeta","\\mathrm{Z}");v("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");v("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");v("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");v("\\bra","\\mathinner{\\langle{#1}|}");v("\\ket","\\mathinner{|{#1}\\rangle}");v("\\braket","\\mathinner{\\langle{#1}\\rangle}");v("\\Bra","\\left\\langle#1\\right|");v("\\Ket","\\left|#1\\right\\rangle");var z5=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,a=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var l=d=>f=>{t&&(f.macros.set("|",a),i.length&&f.macros.set("\\|",s));var h=d;if(!d&&i.length){var p=f.future();p.text==="|"&&(f.popToken(),h=!0)}return{tokens:h?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...o,...u,...r]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};v("\\bra@ket",z5(!1));v("\\bra@set",z5(!0));v("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");v("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");v("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");v("\\angln","{\\angl n}");v("\\blue","\\textcolor{##6495ed}{#1}");v("\\orange","\\textcolor{##ffa500}{#1}");v("\\pink","\\textcolor{##ff00af}{#1}");v("\\red","\\textcolor{##df0030}{#1}");v("\\green","\\textcolor{##28ae7b}{#1}");v("\\gray","\\textcolor{gray}{#1}");v("\\purple","\\textcolor{##9d38bd}{#1}");v("\\blueA","\\textcolor{##ccfaff}{#1}");v("\\blueB","\\textcolor{##80f6ff}{#1}");v("\\blueC","\\textcolor{##63d9ea}{#1}");v("\\blueD","\\textcolor{##11accd}{#1}");v("\\blueE","\\textcolor{##0c7f99}{#1}");v("\\tealA","\\textcolor{##94fff5}{#1}");v("\\tealB","\\textcolor{##26edd5}{#1}");v("\\tealC","\\textcolor{##01d1c1}{#1}");v("\\tealD","\\textcolor{##01a995}{#1}");v("\\tealE","\\textcolor{##208170}{#1}");v("\\greenA","\\textcolor{##b6ffb0}{#1}");v("\\greenB","\\textcolor{##8af281}{#1}");v("\\greenC","\\textcolor{##74cf70}{#1}");v("\\greenD","\\textcolor{##1fab54}{#1}");v("\\greenE","\\textcolor{##0d923f}{#1}");v("\\goldA","\\textcolor{##ffd0a9}{#1}");v("\\goldB","\\textcolor{##ffbb71}{#1}");v("\\goldC","\\textcolor{##ff9c39}{#1}");v("\\goldD","\\textcolor{##e07d10}{#1}");v("\\goldE","\\textcolor{##a75a05}{#1}");v("\\redA","\\textcolor{##fca9a9}{#1}");v("\\redB","\\textcolor{##ff8482}{#1}");v("\\redC","\\textcolor{##f9685d}{#1}");v("\\redD","\\textcolor{##e84d39}{#1}");v("\\redE","\\textcolor{##bc2612}{#1}");v("\\maroonA","\\textcolor{##ffbde0}{#1}");v("\\maroonB","\\textcolor{##ff92c6}{#1}");v("\\maroonC","\\textcolor{##ed5fa6}{#1}");v("\\maroonD","\\textcolor{##ca337c}{#1}");v("\\maroonE","\\textcolor{##9e034e}{#1}");v("\\purpleA","\\textcolor{##ddd7ff}{#1}");v("\\purpleB","\\textcolor{##c6b9fc}{#1}");v("\\purpleC","\\textcolor{##aa87ff}{#1}");v("\\purpleD","\\textcolor{##7854ab}{#1}");v("\\purpleE","\\textcolor{##543b78}{#1}");v("\\mintA","\\textcolor{##f5f9e8}{#1}");v("\\mintB","\\textcolor{##edf2df}{#1}");v("\\mintC","\\textcolor{##e0e5cc}{#1}");v("\\grayA","\\textcolor{##f6f7f7}{#1}");v("\\grayB","\\textcolor{##f0f1f2}{#1}");v("\\grayC","\\textcolor{##e3e5e6}{#1}");v("\\grayD","\\textcolor{##d6d8da}{#1}");v("\\grayE","\\textcolor{##babec2}{#1}");v("\\grayF","\\textcolor{##888d93}{#1}");v("\\grayG","\\textcolor{##626569}{#1}");v("\\grayH","\\textcolor{##3b3e40}{#1}");v("\\grayI","\\textcolor{##21242c}{#1}");v("\\kaBlue","\\textcolor{##314453}{#1}");v("\\kaGreen","\\textcolor{##71B307}{#1}");var N5={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Ph=class{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new Rh(vT,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new qc(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new wr("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),o,a=0,s=0;do{if(o=this.popToken(),r.push(o),o.text==="{")++a;else if(o.text==="}"){if(--a,a===-1)throw new q("Extra }",o)}else if(o.text==="EOF")throw new q("Unexpected end of input in a macro argument, expected '"+(e&&n?e[s]:"}")+"'",o);if(e&&n)if((a===0||a===1&&e[s]==="{")&&o.text===e[s]){if(++s,s===e.length){r.splice(-s,s);break}}else s=0}while(a!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:o}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new q("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var o=this.popToken();if(n[i]!==o.text)throw new q("Use of the macro doesn't match its definition",o)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(r&&r[s+1]).tokens);return a}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new q("Undefined control sequence: "+n);return this.pushToken(r),r}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new q("Too many expansions: infinite loop or need to increase maxExpand setting");var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var s=o.length-1;s>=0;--s){var l=o[s];if(l.text==="#"){if(s===0)throw new q("Incomplete placeholder at end of macro body",l);if(l=o[--s],l.text==="#")o.splice(s+1,1);else if(/^[1-9]$/.test(l.text))o.splice(s,2,...a[+l.text-1]);else throw new q("Not a valid argument number",l)}}}return this.pushTokens(o),o}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof wr)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new wr(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;){var i=this.expandOnce(!0);i instanceof wr&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(this.stack.pop()))}return r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(o+1))!==-1;)++o;for(var s=new qc(i,this.settings),l=[],u=s.lex();u.text!=="EOF";)l.push(u),u=s.lex();l.reverse();var c={tokens:l,numArgs:o};return c}return i}isDefined(e){return this.macros.has(e)||Ui.hasOwnProperty(e)||Ke.math.hasOwnProperty(e)||Ke.text.hasOwnProperty(e)||N5.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Ui.hasOwnProperty(e)&&!Ui[e].primitive}},Pb=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Nc=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Mh={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},jb={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"},Fo=class{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ph(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new q("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new wr("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Fo.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Ui[i.text]&&Ui[i.text].infix)break;var o=this.parseAtom(r);if(o){if(o.type==="internal")continue}else break;n.push(o)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new q("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var o,a,s=e.slice(0,r),l=e.slice(r+1);s.length===1&&s[0].type==="ordgroup"?o=s[0]:o={type:"ordgroup",mode:this.mode,body:s},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[o,e[r],a],[]):u=this.callFunction(n,[o,a],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new q("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(r&&r.type==="op"){var a=o.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=o.text==="\\limits");else throw new q("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(n)throw new q("Double superscript",o);n=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new q("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(n)throw new q("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(Nc[o.text]){var u=Nc[o.text],c=Pb.test(o.text);for(this.consume();;){var d=this.fetch().text;if(!Nc[d]||Pb.test(d)!==c)break;this.consume(),u+=Nc[d]}var f=new Fo(u,this.settings).parse();c?i={type:"ordgroup",mode:"math",body:f}:n={type:"ordgroup",mode:"math",body:f}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,o=Ui[i];if(!o)return null;if(this.consume(),r&&r!=="atom"&&!o.allowedInArgument)throw new q("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!o.allowedInText)throw new q("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&o.allowedInMath===!1)throw new q("Can't use function '"+i+"' in math mode",n);var{args:a,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,a,s,n,e)}callFunction(e,r,n,i,o){var a={funcName:e,parser:this,token:i,breakOnTokenText:o},s=Ui[e];if(s&&s.handler)return s.handler(a,r,n);throw new q("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<n;a++){var s=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&s==null||r.type==="sqrt"&&a===1&&o[0]==null)&&(s="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)o.push(u);else if(u!=null)i.push(u);else throw new q("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",n);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(n)throw new q("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new q("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new q("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,o="",a;(a=this.fetch()).text!=="EOF"&&e.test(o+a.text);)i=a,o+=i.text,this.consume();if(o==="")throw new q("Invalid "+r+": '"+n.text+"'",n);return n.range(i,o)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new q("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new q("Invalid size: '"+r.text+"'",r);var o={number:+(i[1]+i[2]),unit:i[3]};if(!Vb(o))throw new q("Invalid unit: '"+o.unit+"'",r);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return r&&this.switchMode(i),a}parseGroup(e,r){var n=this.fetch(),i=n.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:cr.range(n,l),body:s,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(r,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!N5.hasOwnProperty(i)){if(this.settings.throwOnError)throw new q("Undefined control sequence: "+i,n);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],o=i.text;o==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:cr.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:cr.range(i,e[n+1]),text:"--"}),r-=1)),(o==="'"||o==="`")&&e[n+1].text===o&&(e.splice(n,2,{type:"textord",mode:"text",loc:cr.range(i,e[n+1]),text:o+o}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new q(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}jb.hasOwnProperty(r[0])&&!Ke[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=jb[r[0]]+r.substr(1));var o=xT.exec(r);o&&(r=r.substring(0,o.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var a;if(Ke[this.mode][r]){this.settings.strict&&this.mode==="math"&&Oh.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var s=Ke[this.mode][r].group,l=cr.range(e),u;if(fA.hasOwnProperty(s)){var c=s;u={type:"atom",mode:this.mode,family:c,loc:l,text:r}}else u={type:s,mode:this.mode,loc:l,text:r};a=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Hb(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:cr.range(e),text:r};else return null;if(this.consume(),o)for(var d=0;d<o[0].length;d++){var f=o[0][d];if(!Mh[f])throw new q("Unknown accent ' "+f+"'",e);var h=Mh[f][this.mode]||Mh[f].text;if(!h)throw new q("Accent "+f+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:cr.range(e),label:h,isStretchy:!1,isShifty:!0,base:a}}return a}};Fo.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var ip=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Fo(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new q("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new wr("\\df@tag")])}]}return i},I5=function(e,r,n){r.textContent="";var i=op(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),I5=function(){throw new q("KaTeX doesn't work in quirks mode.")});var kT=function(e,r){var n=op(e,r).toMarkup();return n},DT=function(e,r){var n=new al(r);return ip(e,n)},L5=function(e,r,n){if(n.throwOnError||!(e instanceof q))throw e;var i=I.makeSpan(["katex-error"],[new vr(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},op=function(e,r){var n=new al(r);try{var i=ip(e,n);return NA(i,e,n)}catch(o){return L5(o,e,n)}},CT=function(e,r){var n=new al(r);try{var i=ip(e,n);return IA(i,e,n)}catch(o){return L5(o,e,n)}},ap={version:"0.16.0",render:I5,renderToString:kT,ParseError:q,SETTINGS_SCHEMA:Ic,__parse:DT,__renderToDomTree:op,__renderToHTMLTree:CT,__setFontMetrics:aA,__defineSymbol:g,__defineMacro:v,__domTree:{Span:To,Anchor:ll,SymbolNode:vr,SvgNode:Ln,PathNode:si,LineNode:ul}};var ST=Object.defineProperty,_T=Object.defineProperties,ET=Object.getOwnPropertyDescriptors,B5=Object.getOwnPropertySymbols,MT=Object.prototype.hasOwnProperty,AT=Object.prototype.propertyIsEnumerable,$5=(t,e,r)=>e in t?ST(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sp=(t,e)=>{for(var r in e||(e={}))MT.call(e,r)&&$5(t,r,e[r]);if(B5)for(var r of B5(e))AT.call(e,r)&&$5(t,r,e[r]);return t},TT=(t,e)=>_T(t,ET(e)),FT=/^\$\$\s$/,OT=it((t,e)=>{var r;let n="math_block",i=sp({empty:"Empty",error:"Syntax Error"},(r=e?.placeholder)!=null?r:{});return{id:n,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""}},parseDOM:[{tag:`div[data-type="${n}"]`,preserveWhitespace:"full",getAttrs:o=>{if(!(o instanceof HTMLElement))throw new Error;return{value:o.dataset.value}}}],toDOM:o=>["div",{class:t.getClassName(o.attrs,"math-block"),"data-type":n,"data-value":o.attrs.value||o.textContent||""},0],parseMarkdown:{match:({type:o})=>o==="math",runner:(o,a,s)=>{let l=a.value;o.openNode(s,{value:l}),l&&o.addText(l),o.closeNode()}},toMarkdown:{match:o=>o.type.name===n,runner:(o,a)=>{let s="";a.forEach(l=>{s+=l.text}),o.addNode("math",void 0,s)}}}),view:()=>(o,a,s)=>{let l=o,u=t.themeManager.get("inner-editor",{view:a,getPos:s,render:x=>{try{x?ap.render(x,u.preview):u.preview.innerHTML=i.empty}catch{u.preview.innerHTML=i.error}finally{f.appendChild(u.preview)}}});if(!u)return{};let{onUpdate:c,editor:d,dom:f,onFocus:h,onBlur:p,onDestroy:m,stopEvent:b}=u;return f.classList.add("math-block"),d.dataset.type=n,c(l,!0),{dom:f,update:x=>x.sameMarkup(l)?(l=x,c(l,!1),!0):!1,selectNode:()=>{h(l)},deselectNode:()=>{p(l)},stopEvent:b,ignoreMutation:()=>!0,destroy(){m()}}},inputRules:o=>[new Ye(FT,(a,s,l,u)=>{let c=a.doc.resolve(l);if(!c.node(-1).canReplaceWith(c.index(-1),c.indexAfter(-1),o))return null;let d=a.tr.delete(l,u).setBlockType(l,l,o);return d.setSelection(ie.create(d.doc,l-1))})]}}),zT=new ze("MILKDOWN_MATH_INPUT"),R5=be("ModifyInlineMath"),NT=it((t,e)=>{var r,n,i;let o=sp({empty:"(empty)",error:"(error)"},(r=e?.placeholder)!=null?r:{}),a=(i=(n=e?.input)==null?void 0:n.placeholder)!=null?i:"Input Math",s=t.themeManager,l=()=>t.getStyle(({css:c})=>{let d=(h,p=1)=>s.get(rt,[h,p]),f=s.get(we,"lineWidth");return c`
                font-size: unset;

                &.ProseMirror-selectednode {
                    outline: none;
                    border: ${f} solid ${d("line")};
                }
            `}),u="math_inline";return{id:u,schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${u}"]`,getAttrs:c=>{if(!(c instanceof HTMLElement))throw new Error;return{value:c.dataset.value}}}],toDOM:c=>{let d=document.createElement("span");return d.dataset.type=u,d.dataset.value=c.attrs.value,t.themeManager.onFlush(()=>{let f=l();f&&(d.className=f)}),d},parseMarkdown:{match:c=>c.type==="inlineMath",runner:(c,d,f)=>{let h=d.value;c.addNode(f,{value:h})}},toMarkdown:{match:c=>c.type.name===u,runner:(c,d)=>{c.addNode("inlineMath",void 0,d.attrs.value)}}}),commands:c=>[ve(R5,(d="")=>(f,h)=>{let p=tr(f.selection,c);if(!p)return!1;let{tr:m}=f,b=m.setNodeMarkup(p.pos,void 0,TT(sp({},p.node.attrs),{value:d}));return h?.(b.setSelection(ie.create(b.doc,p.pos))),!0})],view:()=>c=>{let d=c,f=document.createElement("span");t.themeManager.onFlush(()=>{let p=l();p&&(f.className=p)});let h=p=>{try{p?ap.render(p,f):f.innerHTML=o.empty}catch{f.innerHTML=o.error}};return h(c.attrs.value),{dom:f,update:p=>{if(!p.sameMarkup(d))return!1;d=p;let m=p.attrs.value;return h(m),!0}}},inputRules:c=>[new Ye(/(?:\$)([^$]+)(?:\$)$/,(d,f,h,p)=>{var m;let b=d.doc.resolve(h),x=b.index(),k=d.doc.resolve(p);if(!b.parent.canReplaceWith(x,k.index(),c))return null;let D=(m=f[1])!=null?m:"";return d.tr.replaceRangeWith(h,p,c.create({value:D},c.schema.text(D)))})],prosePlugins:(c,d)=>[new _e({key:zT,view:f=>{let h=t.themeManager.get("input-chip",{placeholder:a,onUpdate:x=>{d.get(Kt).call(R5,x)},isBindMode:!0});if(!h)return{};let p=x=>Boolean(c&&tr(x.state.selection,c)),m=x=>{let k=tr(x.state.selection,c);return k?k.node.attrs.value:void 0},b=x=>{if(!x.editable)return;p(x)?(h.show(x),h.update(m(x))):h.hide()};return h.init(f),b(f),{update:(x,k)=>{k?.doc.eq(x.state.doc)&&k.selection.eq(x.state.selection)||b(x)},destroy:()=>{h.destroy()}}}})]}}),IT=Mt.create([NT(),OT()]),LT=lr(()=>({remarkPlugins:()=>[gh]})),P5=Mt.create([LT(),...IT]);var BT=Object.defineProperty,$T=Object.defineProperties,RT=Object.getOwnPropertyDescriptors,j5=Object.getOwnPropertySymbols,PT=Object.prototype.hasOwnProperty,jT=Object.prototype.propertyIsEnumerable,q5=(t,e,r)=>e in t?BT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,H5=(t,e)=>{for(var r in e||(e={}))PT.call(e,r)&&q5(t,r,e[r]);if(j5)for(var r of j5(e))jT.call(e,r)&&q5(t,r,e[r]);return t},V5=(t,e)=>$T(t,RT(e)),Kc=(t,e)=>{if(!e)return!1;let{from:r,$from:n,to:i,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||n.marks()):t.doc.rangeHasMark(r,i,e)},W5=be("SelectParent"),qT=[[{type:"select",text:"Heading",options:[{id:"1",text:"Large Heading"},{id:"2",text:"Medium Heading"},{id:"3",text:"Small Heading"},{id:"0",text:"Plain Text"}],disabled:t=>{let{state:e}=t,r=e.schema.nodes.heading;if(!r)return!0;let n=i=>ua(r,{level:i})(e);return!(t.state.selection instanceof le)||!(n(1)||n(2)||n(3))},onSelect:t=>Number(t)?["TurnIntoHeading",Number(t)]:["TurnIntoText",null]}],[{type:"button",icon:"undo",key:"Undo",disabled:t=>!qi(t.state)},{type:"button",icon:"redo",key:"Redo",disabled:t=>!Tn(t.state)}],[{type:"button",icon:"bold",key:"ToggleBold",active:t=>Kc(t.state,t.state.schema.marks.strong),disabled:t=>!t.state.schema.marks.strong},{type:"button",icon:"italic",key:"ToggleItalic",active:t=>Kc(t.state,t.state.schema.marks.em),disabled:t=>!t.state.schema.marks.em},{type:"button",icon:"strikeThrough",key:"ToggleStrikeThrough",active:t=>Kc(t.state,t.state.schema.marks.strike_through),disabled:t=>!t.state.schema.marks.strike_through}],[{type:"button",icon:"bulletList",key:"WrapInBulletList",disabled:t=>{let{state:e}=t,r=e.schema.nodes.bullet_list;return r?!kn(r)(e):!0}},{type:"button",icon:"orderedList",key:"WrapInOrderedList",disabled:t=>{let{state:e}=t,r=e.schema.nodes.ordered_list;return r?!kn(r)(e):!0}},{type:"button",icon:"taskList",key:"TurnIntoTaskList",disabled:t=>{let{state:e}=t,r=e.schema.nodes.task_list_item;return r?!kn(r)(e):!0}},{type:"button",icon:"liftList",key:"LiftListItem",disabled:t=>{let{state:e}=t,r=e.schema.nodes.list_item;return r?!Ia(r)(e):!0}},{type:"button",icon:"sinkList",key:"SinkListItem",disabled:t=>{let{state:e}=t,r=e.schema.nodes.list_item;return r?!La(r)(e):!0}}],[{type:"button",icon:"link",key:"ToggleLink",active:t=>Kc(t.state,t.state.schema.marks.link)},{type:"button",icon:"image",key:"InsertImage"},{type:"button",icon:"table",key:"InsertTable"},{type:"button",icon:"code",key:"TurnIntoCodeFence"}],[{type:"button",icon:"quote",key:"WrapInBlockquote"},{type:"button",icon:"divider",key:"InsertHr"},{type:"button",icon:"select",key:W5}]],HT=(t,e,r)=>{let n=document.createElement("button");n.setAttribute("type","button"),t.themeManager.onFlush(()=>{n.className="button";let o=t.getStyle(({css:a})=>{let s=gr(t.themeManager);return a`
                border: 0;
                box-sizing: unset;
                width: 2em;
                height: 2em;
                padding: 0.25em;
                margin: 0.5em;
                flex-shrink: 0;
                font-size: 0.875em;

                display: flex;
                justify-content: center;
                align-items: center;

                background-color: ${s("surface")};
                color: ${s("solid")};
                transition: color 0.4s ease-in-out, background-color 0.4s ease-in-out;

                cursor: pointer;

                &.active,
                &:hover {
                    background-color: ${s("secondary",.12)};
                    color: ${s("primary")};
                }

                &:disabled {
                    display: none;
                }

                .material-icons-outlined {
                    font-size: 1.8em;
                }
            `});o&&n.classList.add(o)});let i=t.themeManager.get(ut,e.icon);if(i){let{label:o,dom:a}=i;o&&(n.setAttribute("aria-label",o),n.setAttribute("title",o)),n.appendChild(a)}else n.setAttribute("aria-label",e.icon),n.setAttribute("title",e.icon),n.textContent=e.icon;return n.addEventListener("mousedown",o=>{o.preventDefault(),o.stopPropagation(),r.get(Kt).call(e.key,e.options)}),n},VT=t=>{let e=document.createElement("div");e.classList.add("divider");let{themeManager:r}=t;return r.onFlush(()=>{let n=t.getStyle(({css:i})=>i`
                flex-shrink: 0;
                width: ${r.get(we,"lineWidth")};
                background-color: ${r.get(rt,["line"])};
                margin: 0.75em 1em;
                min-height: 1.5em;
            `);n&&e.classList.add(n)}),e},WT=(t,e,r,n)=>{var i;let o=document.createElement("div");o.classList.add("menu-selector-wrapper","fold");let a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("menu-selector","fold"),a.addEventListener("mousedown",d=>{d.preventDefault(),d.stopPropagation(),o.classList.toggle("fold"),u.style.left=`${o.getBoundingClientRect().left-n.dom.getBoundingClientRect().left}px`}),n.dom.addEventListener("click",()=>{o.classList.add("fold")});let s=document.createElement("span");s.classList.add("menu-selector-value"),s.textContent=e.text;let l=(i=t.themeManager.get(ut,"downArrow"))==null?void 0:i.dom;o.appendChild(a),a.appendChild(s),l&&(l.setAttribute("aria-hidden","true"),a.appendChild(l));let u=document.createElement("div");u.classList.add("menu-selector-list"),e.options.forEach(d=>{let f=document.createElement("button");f.setAttribute("type","button"),f.dataset.id=d.id,f.textContent=d.text,f.classList.add("menu-selector-list-item"),u.appendChild(f)}),u.addEventListener("mousedown",d=>{let{target:f}=d;if(f instanceof HTMLButtonElement&&f.dataset.id){let h=e.onSelect(f.dataset.id,n),[p,m]=h;typeof p=="string"?r.get(Kt).call(p,m):r.get(Kt).call(p,m),o.classList.add("fold")}}),o.appendChild(u);let{themeManager:c}=t;return c.onFlush(()=>{let d=t.getStyle(({css:f})=>{let h=(p,m=1)=>c.get(rt,[p,m]);return f`
                flex-shrink: 0;
                font-weight: 500;
                font-size: 0.875em;

                ${c.get(Ge,"right")}
                ${c.get(Ge,"left")}

                .menu-selector {
                    border: 0;
                    box-sizing: unset;
                    cursor: pointer;
                    font: inherit;
                    text-align: left;
                    justify-content: space-between;
                    align-items: center;
                    color: ${h("neutral",.87)};
                    display: flex;
                    padding: 0.25em;
                    margin: 0.5em;
                    height: 2em;
                    background: ${h("secondary",.12)};
                    width: 10.375em;

                    &:disabled {
                        display: none;
                    }
                }

                .menu-selector-value {
                    flex: 1;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }

                .menu-selector-list {
                    width: 11.875em;
                    position: absolute;
                    background: ${h("surface")};
                    ${c.get(Ge,void 0)}
                    ${c.get(It,void 0)}
                    border-bottom-left-radius: ${c.get(we,"radius")};
                    border-bottom-right-radius: ${c.get(we,"radius")};
                    z-index: 3;
                }

                .menu-selector-list-item {
                    background-color: transparent;
                    border: 0;
                    cursor: pointer;
                    display: block;
                    font: inherit;
                    text-align: left;
                    padding: 0.75em 1em;
                    line-height: 1.5em;
                    width: 100%;
                    color: ${h("neutral",.87)};

                    &:hover {
                        background: ${h("secondary",.12)};
                        color: ${h("primary")};
                    }
                }

                &.fold {
                    border-color: transparent;

                    .menu-selector {
                        background: unset;
                    }

                    .menu-selector-list {
                        display: none;
                    }
                }
            `});d&&o.classList.add(d)}),o},lp=class{constructor(e,r,n,i,o){this.utils=r,this.ctx=n,this.config=e.map(a=>a.map(s=>V5(H5({},s),{$:this.$create(s,o)}))).map((a,s)=>{if(s===e.length-1)return a;let l={type:"divider",group:a.map(u=>u.$)};return[...a,V5(H5({},l),{$:this.$create(l,o)})]}).flat(),this.config.forEach(a=>i.appendChild(a.$))}update(e){this.config.forEach(r=>{if(r.type==="button"){r.active&&(r.active(e)?r.$.classList.add("active"):r.$.classList.remove("active")),r.disabled&&(r.disabled(e)?r.$.setAttribute("disabled","true"):r.$.removeAttribute("disabled"));return}if(r.type==="select"&&r.disabled){let n=r.disabled(e),i=r.$.children[0];i&&(n?(r.$.classList.add("disabled"),i.setAttribute("disabled","true")):(r.$.classList.remove("disabled"),i.removeAttribute("disabled")))}r.type==="divider"&&(r.group.every(i=>i.getAttribute("disabled")||i.classList.contains("disabled"))?r.$.classList.add("disabled"):r.$.classList.remove("disabled"))})}$create(e,r){let{utils:n,ctx:i}=this;switch(e.type){case"button":return HT(n,e,i);case"select":return WT(n,e,i,r);case"divider":return VT(n);default:throw new Error}}},UT=({milkdownDOM:t,editorRoot:e,menu:r,menuWrapper:n})=>{e.appendChild(t),n.remove(),r.remove()},GT=({menu:t,menuWrapper:e,editorRoot:r,milkdownDOM:n})=>{e.appendChild(t),r.replaceChild(e,n),e.appendChild(n)},KT=t=>{if(!t)return document.body;if(typeof t=="string"){let e=document.querySelector(t);return e||document.body}return t},JT=(t,e,r,n=GT)=>{let i=document.createElement("div");i.classList.add("milkdown-menu-wrapper");let o=document.createElement("div");o.classList.add("milkdown-menu");let a=e.dom,{themeManager:s}=t;s.onFlush(()=>{let f=t.getStyle(()=>s.get(Gt,["y"]));f&&a.classList.add(f);let h=t.getStyle(({css:p})=>{let m=s.get(Ge,void 0),b=s.get(Gt,["x","thin"]);return p`
                font-family: ${s.get(_t,"typography")};
                box-sizing: border-box;
                width: 100%;
                display: flex;
                flex-wrap: nowrap;
                overflow-x: scroll;
                ${m};
                ${b};
                overflow-y: hidden;
                background: ${s.get(rt,["surface"])};
                transition: background-color 0.4s ease-in-out;

                -webkit-overflow-scrolling: auto;

                .disabled {
                    display: none;
                }
            `});h&&h.split(" ").forEach(p=>o.classList.add(p))});let l=r.get(Na),u=KT(l),c=a.parentElement;if(!c)throw new Error("No parent node found");return n({menu:o,menuWrapper:i,editorDOM:a,editorRoot:u,milkdownDOM:c}),[o,()=>{UT({menu:o,menuWrapper:i,editorDOM:a,editorRoot:u,milkdownDOM:c})}]},ZT=new ze("MILKDOWN_MENU"),XT=lr((t,e)=>{var r;let n=(r=e?.config)!=null?r:qT,i=e?.domHandler,o=null,a=null,s=null,l=(u,c)=>{if(!!c.editable){if(!a){let[d,f]=JT(t,c,u,i);a=d,o=()=>{f(),a=null,s=null}}s||(s=new lp(n,t,u,a,c))}};return{commands:()=>[ve(W5,()=>G2)],prosePlugins:(u,c)=>[new _e({key:ZT,view:f=>(l(c,f),f.editable&&s?.update(f),{update:h=>{l(c,f),f.editable?s?.update(h):o?.()},destroy:()=>{o?.()}})})]}}),U5=Mt.create([XT()]);var YT=Object.defineProperty,G5=Object.getOwnPropertySymbols,QT=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,K5=(t,e,r)=>e in t?YT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tF=(t,e)=>{for(var r in e||(e={}))QT.call(e,r)&&K5(t,r,e[r]);if(G5)for(var r of G5(e))eF.call(e,r)&&K5(t,r,e[r]);return t},rF=(t,e)=>{let{doc:r,selection:n}=t;if(!r||!n||!(n instanceof le||n instanceof vt))return t;let{to:i}=n,o=e.type==="space"?Array(e.size).fill(" ").join(""):"	";return t.insertText(o,i)},nF=(t,e)=>{t.type==="tab"&&e.getStyle(({injectGlobal:r})=>r`
                .milkdown {
                    tab-size: ${t.size};
                }
            `)},IZ=be("Indent"),up=lr((t,e)=>({prosePlugins:()=>{let r=tF({type:"tab",size:4},e??{});return t.themeManager.onFlush(()=>{nF(r,t)}),[an({Tab:(i,o)=>{let{tr:a}=i,s=rF(a,r);return s.docChanged?(o?.(s),!0):!1}})]}})),J5=Mt.create([up()]);var zp=Qi(Mp(),1);var Zc=Qi(Mp(),1);var Ap=[{name:"angry",emoji:"😠",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"😊",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"💔",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"😕",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"😢",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"😦",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"❤️",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"👿",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"😇",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"😂",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"😗",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"😆",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"👨",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"😐",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"😶",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"😮",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"😡",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"😄",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"😃",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"😈",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"😭",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"😛",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"😝",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"😜",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"😎",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"😓",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"😅",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"😒",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"😉",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}];var QN=/:\+1:|:-1:|:[\w-]+:/g,eI=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,fy=/_/g,tI={padSpaceAfter:!1,emoticon:!1};function Tp(t){let e=Object.assign({},tI,t),r=!!e.padSpaceAfter,n=!!e.emoticon;function i(s){let l=Ap.find(h=>h.emoticons.includes(s)),u=Ap.find(h=>h.emoticons.includes(s.slice(0,-1))),c=u?s.slice(-1):"",d=r?" ":"";return(l?l.emoji+d:u&&u.emoji+d+c)||s}function o(s){let l=Zc.default.get(s);if(s.endsWith("_man:")&&l===s){let u="man-"+s.slice(1,-5).replace(fy,"-"),c=Zc.default.get(u);c!==u&&(l=c)}else if(s.endsWith("_woman:")&&l===s){let u="woman-"+s.slice(1,-7).replace(fy,"-"),c=Zc.default.get(u);c!==u&&(l=c)}return r&&l!==s?l+" ":l}function a(s){Oi(s,"text",function(l){l.value=l.value.replace(QN,o),n&&(l.value=l.value.replace(eI,i))})}return a}var rI=function(){"use strict";var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:k,toCodePoint:E},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:D,replace:z,test:O},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},r=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,n=/\uFE0F/g,i=String.fromCharCode(8205),o=/[&<>'"]/g,a=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,s=String.fromCharCode;return t;function l(T,N){return document.createTextNode(N?T.replace(n,""):T)}function u(T){return T.replace(o,m)}function c(T,N){return"".concat(N.base,N.size,"/",T,N.ext)}function d(T,N){for(var R=T.childNodes,X=R.length,K,ne;X--;)K=R[X],ne=K.nodeType,ne===3?N.push(K):ne===1&&!("ownerSVGElement"in K)&&!a.test(K.nodeName.toLowerCase())&&d(K,N);return N}function f(T){return E(T.indexOf(i)<0?T.replace(n,""):T)}function h(T,N){for(var R=d(T,[]),X=R.length,K,ne,H,re,ke,L,et,De,tt,xe,M,A,Pt;X--;){for(H=!1,re=document.createDocumentFragment(),ke=R[X],L=ke.nodeValue,De=0;et=r.exec(L);){if(tt=et.index,tt!==De&&re.appendChild(l(L.slice(De,tt),!0)),M=et[0],A=f(M),De=tt+M.length,Pt=N.callback(A,N),A&&Pt){xe=new Image,xe.onerror=N.onerror,xe.setAttribute("draggable","false"),K=N.attributes(M,A);for(ne in K)K.hasOwnProperty(ne)&&ne.indexOf("on")!==0&&!xe.hasAttribute(ne)&&xe.setAttribute(ne,K[ne]);xe.className=N.className,xe.alt=M,xe.src=Pt,H=!0,re.appendChild(xe)}xe||re.appendChild(l(M,!1)),xe=null}H&&(De<L.length&&re.appendChild(l(L.slice(De),!0)),ke.parentNode.replaceChild(re,ke))}return T}function p(T,N){return z(T,function(R){var X=R,K=f(R),ne=N.callback(K,N),H,re;if(K&&ne){X="<img ".concat('class="',N.className,'" ','draggable="false" ','alt="',R,'"',' src="',ne,'"'),H=N.attributes(R,K);for(re in H)H.hasOwnProperty(re)&&re.indexOf("on")!==0&&X.indexOf(" "+re+"=")===-1&&(X=X.concat(" ",re,'="',u(H[re]),'"'));X=X.concat("/>")}return X})}function m(T){return e[T]}function b(){return null}function x(T){return typeof T=="number"?T+"x"+T:T}function k(T){var N=typeof T=="string"?parseInt(T,16):T;return N<65536?s(N):(N-=65536,s(55296+(N>>10),56320+(N&1023)))}function D(T,N){return(!N||typeof N=="function")&&(N={callback:N}),(typeof T=="string"?p:h)(T,{callback:N.callback||c,attributes:typeof N.attributes=="function"?N.attributes:b,base:typeof N.base=="string"?N.base:t.base,ext:N.ext||t.ext,size:N.folder||x(N.size||t.size),className:N.className||t.className,onerror:N.onerror||t.onerror})}function z(T,N){return String(T).replace(r,N)}function O(T){r.lastIndex=0;var N=r.test(T);return r.lastIndex=0,N}function E(T,N){for(var R=[],X=0,K=0,ne=0;ne<T.length;)X=T.charCodeAt(ne++),K?(R.push((65536+(K-55296<<10)+(X-56320)).toString(16)),K=0):55296<=X&&X<=56319?K=X:R.push(X.toString(16));return R.join(N||"-")}}(),hy=rI;var yy=Qi(my(),1),nI=Object.defineProperty,iI=Object.defineProperties,oI=Object.getOwnPropertyDescriptors,gy=Object.getOwnPropertySymbols,aI=Object.prototype.hasOwnProperty,sI=Object.prototype.propertyIsEnumerable,by=(t,e,r)=>e in t?nI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fp=(t,e)=>{for(var r in e||(e={}))aI.call(e,r)&&by(t,r,e[r]);if(gy)for(var r of gy(e))sI.call(e,r)&&by(t,r,e[r]);return t},Op=(t,e)=>iI(t,oI(e)),lI=/:\+1|:-1|:[\w-]+/,uI=/:\+1:|:-1:|:[\w-]+:/,cI=/(:([^:\s]+):)$/,dI=t=>({title:t}),Np=t=>hy.parse(t,{attributes:dI}),fI=(t,e,r,n,i,o)=>{if(t.composing)return!1;let{state:a}=t,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;let l=(s.parent.textBetween(Math.max(0,s.parentOffset-10),s.parentOffset,void 0,"￼")+n).toLowerCase();if(uI.test(l))return!1;let u=lI.exec(l);if(u&&u[0]&&l.endsWith(u[0])){let c=u[0];return i(e-(c.length-n.length),r),o(c),!0}return!1},hI=(t,e,r,n,i)=>{for(;e.firstChild;)e.firstChild.remove();t.forEach(({emoji:o,key:a},s)=>{let l=document.createElement("div");l.className="milkdown-emoji-filter_item";let u=document.createElement("span");u.innerHTML=Np(o),u.className="milkdown-emoji-filter_item-emoji";let c=document.createElement("span");c.textContent=":"+a+":",c.className="milkdown-emoji-filter_item-key",l.appendChild(u),l.appendChild(c),e.appendChild(l),s===0&&(l.classList.add("active"),i(l));let d=p=>{r&&r.classList.remove("active");let{target:m}=p;m instanceof HTMLElement&&(m.classList.add("active"),i(m))},f=p=>{let{target:m}=p;m instanceof HTMLElement&&m.classList.remove("active")},h=p=>{p.preventDefault(),n()};l.addEventListener("mouseenter",d),l.addEventListener("mouseleave",f),l.addEventListener("mousedown",h)})},pI=(t,{css:e,cx:r})=>{let n=t.get(Ge,void 0),i=t.get(It,void 0),o=t.get(we,"radius"),a=t.get(_t,"typography"),s=(u,c=1)=>t.get(rt,[u,c]),l=e`
        position: absolute;
        &.hide {
            display: none;
        }

        border-radius: ${o};
        background: ${s("surface")};

        .milkdown-emoji-filter_item {
            display: flex;
            gap: 0.5em;
            height: 2.57143em;
            padding: 0 1em;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${a};
            font-size: 0.875em;
            &.active {
                background: ${s("secondary",.12)};
                color: ${s("primary")};
            }
        }

        .emoji {
            height: 1em;
            width: 1em;
            margin: 0 0.05em 0 0.1em;
            vertical-align: -0.1em;
        }
    `;return r(n,i,l)},mI=new ze("MILKDOWN_EMOJI_FILTER"),gI=(t,e)=>{let r=!1,n=0,i="",o=null,a=()=>{r=!1,n=0,i="",o=null};return new _e({key:mI,props:{handleKeyDown(s,l){return["Delete","Backspace"].includes(l.key)?(i=i.slice(0,-1),i.length<=1&&a(),!1):!(!r||!["ArrowUp","ArrowDown","Enter"].includes(l.key))},handleTextInput(s,l,u,c){return r=fI(s,l,u,c,d=>{n=d},d=>{i=d}),r||a(),!1}},view:s=>{let{parentNode:l}=s.dom;if(!l)throw new Error;let u=document.createElement("div");u.classList.add("milkdown-emoji-filter","hide"),t.themeManager.onFlush(()=>{let h=u.className.split(" ").filter(m=>["hide","milkdown-emoji-filter"].includes(m));u.className=h.join(" ");let p=t.getStyle(m=>pI(t.themeManager,m));p&&p.split(" ").forEach(m=>u.classList.add(m))});let c=()=>{var h;if(!o)return;let{tr:p}=s.state,m=s.state.schema.node("emoji",{html:(h=o.firstElementChild)==null?void 0:h.innerHTML});s.dispatch(p.delete(n,n+i.length).insert(n,m)),a(),u.classList.add("hide")};l.appendChild(u);let d=h=>{if(!r||!(h instanceof KeyboardEvent))return;let{key:p}=h;if(p==="Enter"){c();return}if(["ArrowDown","ArrowUp"].includes(p)){let m=p==="ArrowDown"?o?.nextElementSibling||u.firstElementChild:o?.previousElementSibling||u.lastElementChild;if(o&&o.classList.remove("active"),!m)return;m.classList.add("active"),o=m;return}},f=h=>{!r||(h.stopPropagation(),a(),u.classList.add("hide"))};return l.addEventListener("keydown",d),l.addEventListener("mousedown",f),{update:h=>{let{selection:p}=h.state;if(p.from-p.to!==0||!r)return a(),u.classList.add("hide"),null;let m=zp.default.search(i).slice(0,e),{node:b}=h.domAtPos(n);return m.length===0||!b?(u.classList.add("hide"),null):(u.classList.remove("hide"),hI(m,u,o,c,x=>{o=x}),gu(h,u,(x,k,D)=>{let z=u.parentElement;if(!z)throw new Error;let O=h.coordsAtPos(n),E=O.left-D.left,T=x.bottom-D.top+14+z.scrollTop;return E<0&&(E=0),window.innerHeight-O.bottom<k.height&&(T=x.top-D.top-k.height-14+z.scrollTop),[T,E]}),null)},destroy:()=>{l.removeEventListener("keydown",d),l.removeEventListener("mousedown",f),u.remove()}}}})},bI=(0,yy.default)(),yI=t=>!!t.children,xI=t=>!!t.value;function wI(t,e){return r(t,0,null)[0];function r(n,i,o){if(yI(n)){let a=[];for(let s=0,l=n.children.length;s<l;s++){let u=n.children[s];if(u){let c=r(u,s,n);if(c)for(let d=0,f=c.length;d<f;d++){let h=c[d];h&&a.push(h)}}}n.children=a}return e(n,i,o)}}var vI=()=>{function t(e){wI(e,r=>{if(!xI(r))return[r];let n=r.value,i=[],o,a=n;for(;o=bI.exec(a);){let{index:s}=o,l=o[0];l&&(s>0&&i.push(Op(Fp({},r),{value:a.slice(0,s)})),i.push(Op(Fp({},r),{value:Np(l),type:"emoji"})),a=a.slice(s+l.length))}return a.length&&i.push(Op(Fp({},r),{value:a})),i})}return t},kI=it((t,e)=>{let r=()=>t.getStyle(({css:n})=>n`
                .emoji {
                    height: 1em;
                    width: 1em;
                    margin: 0 0.05em 0 0.1em;
                    vertical-align: -0.1em;
                }
            `);return{id:"emoji",schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{html:{default:""}},parseDOM:[{tag:'span[data-type="emoji"]',getAttrs:n=>{if(!(n instanceof HTMLElement))throw new Error;return{html:n.innerHTML}}}],toDOM:n=>{let i=document.createElement("span");return i.classList.add("emoji-wrapper"),i.dataset.type="emoji",t.themeManager.onFlush(()=>{let o=r();o&&i.classList.add(o)}),i.innerHTML=n.attrs.html,{dom:i}},parseMarkdown:{match:({type:n})=>n==="emoji",runner:(n,i,o)=>{n.addNode(o,{html:i.value})}},toMarkdown:{match:n=>n.type.name==="emoji",runner:(n,i)=>{let o=document.createElement("span");o.innerHTML=i.attrs.html;let a=o.querySelector("img"),s=a?.title;o.remove(),n.addNode("text",void 0,s)}}}),inputRules:n=>[new Ye(cI,(i,o,a,s)=>{let l=o[0];if(!l)return null;let u=zp.default.get(l);if(!u||l.includes(u))return null;let c=Np(u);return i.tr.setMeta("emoji",!0).replaceRangeWith(a,s,n.create({html:c})).scrollIntoView()})],remarkPlugins:()=>[Tp,vI],prosePlugins:()=>{var n;return[gI(t,(n=e?.maxListSize)!=null?n:6)]}}}),xy=Mt.create([kI()]);var wy,DI=["Roboto","HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue","Helvetica","Arial","Lucida Grande","sans-serif"],CI=["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"],vy={h1:{label:"h1",icon:"looks_one"},h2:{label:"h2",icon:"looks_two"},h3:{label:"h3",icon:"looks_3"},loading:{label:"loading",icon:"hourglass_empty"},quote:{label:"quote",icon:"format_quote"},code:{label:"code",icon:"code"},table:{label:"table",icon:"table_chart"},divider:{label:"divider",icon:"horizontal_rule"},image:{label:"image",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"bullet list",icon:"format_list_bulleted"},orderedList:{label:"ordered list",icon:"format_list_numbered"},taskList:{label:"task list",icon:"checklist"},bold:{label:"bold",icon:"format_bold"},italic:{label:"italic",icon:"format_italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"strike through",icon:"strikethrough_s"},link:{label:"link",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron_left"},rightArrow:{label:"right arrow",icon:"chevron_right"},upArrow:{label:"up arrow",icon:"expand_less"},downArrow:{label:"down arrow",icon:"expand_more"},alignLeft:{label:"align left",icon:"format_align_left"},alignRight:{label:"align right",icon:"format_align_right"},alignCenter:{label:"align center",icon:"format_align_center"},delete:{label:"delete",icon:"delete"},select:{label:"select",icon:"select_all"},unchecked:{label:"unchecked",icon:"check_box_outline_blank"},checked:{label:"checked",icon:"check_box"},undo:{label:"undo",icon:"turn_left"},redo:{label:"redo",icon:"turn_right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"}},SI=t=>{let e=vy[t];if(!e)return;let r=document.createElement("span");return r.className="icon material-icons material-icons-outlined",r.textContent=vy[t].icon,{dom:r,label:e.label}},_I=(t,e)=>{let{injectGlobal:r,css:n}=e,i=gr(t),o=t.get(we,"radius"),a=i("neutral",.87),s=i("surface"),l=i("line"),u=i("secondary",.38),c=n`
        .ProseMirror-selectednode {
            outline: ${t.get(we,"lineWidth")} solid ${l};
        }

        li.ProseMirror-selectednode {
            outline: none;
        }

        li.ProseMirror-selectednode::after {
            ${t.get(Ge,void 0)};
        }

        & ::selection {
            background: ${u};
        }
    `,d=n`
        padding: 3.125em 1.25em;
        outline: none;
        & > * {
            margin: 1.875em 0;
        }
    `,f=n`
        p {
            font-size: 1em;
            line-height: 1.5;
            letter-spacing: 0.5px;
        }
    `,h=n`
        blockquote {
            padding-left: 1.875em;
            line-height: 1.75em;
            border-left: 4px solid ${i("primary")};
            margin-left: 0;
            margin-right: 0;
            * {
                font-size: 1em;
                line-height: 1.5em;
            }
        }
    `,p=n`
        h1 {
            font-size: 3em;
            line-height: 1.167;
        }
        h2 {
            font-size: 2.5em;
            line-height: 1.2;
        }
        h3 {
            font-size: 2.125em;
            line-height: 1.05;
        }
        h4 {
            font-size: 1.75em;
            line-height: 1.14;
        }
        h5 {
            font-size: 1.5em;
            line-height: 1;
        }
        h6 {
            font-size: 1.25em;
            line-height: 1;
        }
        .heading {
            margin: 40px 0;
            font-weight: 400;
        }
    `,m=n`
        hr {
            height: ${t.get(we,"lineWidth")};
            background-color: ${l};
            border-width: 0;
        }
    `,b=n`
        .list-item,
        .list-item > * {
            margin: 0.5em 0;
        }

        li {
            &::marker {
                color: ${i("primary")};
            }
        }

        .task-list-item {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            &_checkbox {
                margin: 0.5em 0.5em 0.5em 0;
                height: 1em;
            }
        }
    `,x=n`
        .code-fence {
            pre {
                font-family: ${t.get(_t,"code")};
                margin: 0 1.2em !important;
                white-space: pre;
                overflow: auto;
                ${t.get(Gt,["x"])}

                background-color: ${i("background")};
                color: ${i("neutral")};
                font-size: 0.875em;
                border-radius: ${o};

                code {
                    line-height: 1.5;
                    font-family: ${t.get(_t,"code")};
                }
            }
        }
    `,k=n`
        .image {
            display: inline-block;
            margin: 0 auto;
            object-fit: contain;
            width: 100%;
            position: relative;
            height: auto;
            text-align: center;
        }
    `,D=n`
        .code-inline {
            background-color: ${i("background")};
            color: ${i("secondary")};
            border-radius: ${o};
            font-weight: 500;
            font-family: ${x};
            padding: 0 0.2em;
            font-size: 1.2em;
        }

        .strong {
            font-weight: 600;
        }

        .link,
        a {
            color: ${i("secondary")};
            cursor: pointer;
            transition: all 0.4s ease-in-out;
            font-weight: 500;
            &:hover {
                background-color: ${i("shadow",.5)};
                box-shadow: 0 0.2em ${i("shadow",.5)}, 0 -0.2em ${i("shadow",.5)};
            }
        }

        .strike-through {
            text-decoration-color: ${i("secondary")};
        }
    `,z=n`
        .footnote-definition {
            ${t.get(Ge,void 0)};
            padding: 1em;
            display: flex;
            flex-direction: row;
            & > .footnote-definition_content {
                flex: 1;
                width: calc(100% - 1em);
                & > dd {
                    margin-inline-start: 1em;
                }
                & > dt {
                    color: ${i("secondary")};
                    font-weight: 500;
                }
            }
            & > .footnote-definition_anchor {
                width: 1em;
            }
        }
    `,O=n`
        /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
        .tableWrapper {
            overflow-x: auto;
            margin: 0;
            ${t.get(Gt,["x"])}
            width: 100%;
            * {
                margin: 0;
                box-sizing: border-box;
                font-size: 1em;
            }
        }
        table {
            border-collapse: collapse;
            table-layout: fixed;
            width: 100%;
            overflow: auto;
            border-radius: ${t.get(we,"radius")};
            p {
                line-height: unset;
            }
        }
        tr {
            ${t.get(Ge,"bottom")};
        }
        td,
        th {
            padding: 0 1em;
            vertical-align: top;
            box-sizing: border-box;
            position: relative;

            min-width: 100px;
            ${t.get(Ge,void 0)};
            text-align: left;
            line-height: 3;
            height: 3em;
        }
        th {
            background: ${i("background",.5)};
            font-weight: 400;
        }
        .column-resize-handle {
            position: absolute;
            right: -2px;
            top: 0;
            bottom: 0;
            z-index: 20;
            pointer-events: none;
            background: ${i("secondary")};
            width: ${t.get(we,"lineWidth")};
        }
        .resize-cursor {
            cursor: ew-resize;
            cursor: col-resize;
        }

        .selectedCell {
            &::after {
                z-index: 2;
                position: absolute;
                content: '';
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                background: ${i("secondary",.38)};
                pointer-events: none;
            }

            & ::selection {
                background: transparent;
            }
        }
    `;mc(e),r`
        .milkdown {
            .material-icons-outlined {
                font-size: 1.5em;
            }

            position: relative;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;


            color: ${a};
            background: ${s};
            font-family: ${t.get(_t,"typography")};

            ${t.get(It,void 0)}
            ${t.get(Gt,void 0)}
            ${c};

            .editor {
                ${d};

                ${f};
                ${p};
                ${h};
                ${m};
                ${b};
                ${x};
                ${k};

                ${O};
                ${z};

                ${D};
            }
        }
    `},EI={shadow:"#33635c",primary:"#8c4351",secondary:"#34548a",neutral:"#0f0f14",solid:"#343b58",line:"#8f5e15",background:"#dcdee3",surface:"#d5d6db"},MI={shadow:"#a9b1d6",primary:"#f7768e",secondary:"#e0af68",neutral:"#c0caf5",solid:"#7dcfff",line:"#bb9af7",background:"#1a1b26",surface:"#24283b"};var AI={typography:DI,code:CI},TI={radius:"4px",lineWidth:"1px"},Ip=(t=!1)=>cc((e,r)=>{let{css:n}=e,i=t?MI:EI;r.set(rt,o=>{if(!o)return;let[a,s]=o,l=i[a],u=ic(l);if(!!u)return`rgba(${u?.join(", ")}, ${s||1})`}),r.set(we,o=>{if(!!o)return TI[o]}),r.set(_t,o=>{if(!!o)return AI[o].join(", ")}),r.set(Gt,([o="y",a="normal"]=["y","normal"])=>{let s=r.get(rt,["secondary",.38]),l=r.get(rt,["secondary",.12]),u=r.get(rt,["secondary"]);return n`
                scrollbar-width: thin;
                scrollbar-color: ${s} ${l};
                -webkit-overflow-scrolling: touch;

                &::-webkit-scrollbar {
                    ${o==="y"?"width":"height"}: ${a==="thin"?2:12}px;
                    background-color: transparent;
                }

                &::-webkit-scrollbar-track {
                    border-radius: 999px;
                    background: transparent;
                    border: 4px solid transparent;
                }

                &::-webkit-scrollbar-thumb {
                    border-radius: 999px;
                    background-color: ${s};
                    border: ${a==="thin"?0:4}px solid transparent;
                    background-clip: content-box;
                }

                &::-webkit-scrollbar-thumb:hover {
                    background-color: ${u};
                }
            `}),r.set(It,()=>{let o=r.get(we,"lineWidth"),a=s=>r.get(rt,["shadow",s]);return n`
                box-shadow: 0 ${o} ${o} ${a(.14)}, 0 2px ${o} ${a(.12)},
                    0 ${o} 3px ${a(.2)};
            `}),r.set(Ge,o=>{let a=r.get(we,"lineWidth"),s=r.get(rt,["line"]);return o?n`
                ${`border-${o}`}: ${a} solid ${s};
            `:n`
                    border: ${a} solid ${s};
                `}),r.set(ut,o=>{if(!!o)return SI(o)}),r.set(So,()=>{_I(r,e)}),gc(r,e)}),eY=Ip(!0),tY=Ip(!1),ky=!1;typeof window<"u"&&(ky=Boolean((wy=window.matchMedia)==null?void 0:wy.call(window,"(prefers-color-scheme: dark)").matches));var Dy=Ip(ky);var FI={tokenize:II,partial:!0},Sy={tokenize:LI,partial:!0},_y={tokenize:BI,partial:!0},Ja={tokenize:RI,partial:!0},Ey={tokenize:$I,partial:!0},My={tokenize:zI,previous:Fy},Ay={tokenize:NI,previous:$p},hi={tokenize:OI,previous:Oy},Pn={},Lp={text:Pn},No=48;for(;No<123;)Pn[No]=hi,No++,No===58?No=65:No===91&&(No=97);Pn[43]=hi;Pn[45]=hi;Pn[46]=hi;Pn[95]=hi;Pn[72]=[hi,Ay];Pn[104]=[hi,Ay];Pn[87]=[hi,My];Pn[119]=[hi,My];function OI(t,e,r){let n=this,i,o;return a;function a(h){return!Cy(h)||!Oy(n.previous)||Rp(n.events)?r(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),s(h))}function s(h){return Cy(h)?(t.consume(h),s):h===64?(t.consume(h),l):r(h)}function l(h){return h===46?t.check(Ja,f,u)(h):h===45||h===95?t.check(Ja,r,c)(h):Dt(h)?(!o&&bo(h)&&(o=!0),t.consume(h),l):f(h)}function u(h){return t.consume(h),i=!0,o=void 0,l}function c(h){return t.consume(h),d}function d(h){return h===46?t.check(Ja,r,u)(h):l(h)}function f(h){return i&&!o?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):r(h)}}function zI(t,e,r){let n=this;return i;function i(a){return a!==87&&a!==119||!Fy(n.previous)||Rp(n.events)?r(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(FI,t.attempt(Sy,t.attempt(_y,o),r),r)(a))}function o(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function NI(t,e,r){let n=this;return i;function i(p){return p!==72&&p!==104||!$p(n.previous)||Rp(n.events)?r(p):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(p),o)}function o(p){return p===84||p===116?(t.consume(p),a):r(p)}function a(p){return p===84||p===116?(t.consume(p),s):r(p)}function s(p){return p===80||p===112?(t.consume(p),l):r(p)}function l(p){return p===83||p===115?(t.consume(p),u):u(p)}function u(p){return p===58?(t.consume(p),c):r(p)}function c(p){return p===47?(t.consume(p),d):r(p)}function d(p){return p===47?(t.consume(p),f):r(p)}function f(p){return p===null||Mi(p)||yo(p)||xo(p)?r(p):t.attempt(Sy,t.attempt(_y,h),r)(p)}function h(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function II(t,e,r){return n;function n(l){return t.consume(l),i}function i(l){return l===87||l===119?(t.consume(l),o):r(l)}function o(l){return l===87||l===119?(t.consume(l),a):r(l)}function a(l){return l===46?(t.consume(l),s):r(l)}function s(l){return l===null||W(l)?r(l):e(l)}}function LI(t,e,r){let n,i;return o;function o(l){return l===38?t.check(Ey,s,a)(l):l===46||l===95?t.check(Ja,s,a)(l):l===null||Mi(l)||yo(l)||l!==45&&xo(l)?s(l):(t.consume(l),o)}function a(l){return l===46?(i=n,n=void 0,t.consume(l),o):(l===95&&(n=!0),t.consume(l),o)}function s(l){return!i&&!n?e(l):r(l)}}function BI(t,e){let r=0;return n;function n(a){return a===38?t.check(Ey,e,i)(a):(a===40&&r++,a===41?t.check(Ja,o,i)(a):Bp(a)?e(a):Ty(a)?t.check(Ja,e,i)(a):(t.consume(a),n))}function i(a){return t.consume(a),n}function o(a){return r--,r<0?e(a):i(a)}}function $I(t,e,r){return n;function n(a){return t.consume(a),i}function i(a){return Vt(a)?(t.consume(a),i):a===59?(t.consume(a),o):r(a)}function o(a){return Bp(a)?e(a):r(a)}}function RI(t,e,r){return n;function n(o){return t.consume(o),i}function i(o){return Ty(o)?(t.consume(o),i):Bp(o)?e(o):r(o)}}function Ty(t){return t===33||t===34||t===39||t===41||t===42||t===44||t===46||t===58||t===59||t===60||t===63||t===95||t===126}function Bp(t){return t===null||t===60||$e(t)}function Cy(t){return t===43||t===45||t===46||t===95||Dt(t)}function Fy(t){return t===null||t===40||t===42||t===95||t===126||$e(t)}function $p(t){return t===null||!Vt(t)}function Oy(t){return t!==47&&$p(t)}function Rp(t){let e=t.length,r=!1;for(;e--;){let n=t[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}var PI={tokenize:GI,partial:!0};function Pp(){return{document:{[91]:{tokenize:VI,continuation:{tokenize:WI},exit:UI}},text:{[91]:{tokenize:HI},[93]:{add:"after",tokenize:jI,resolveTo:qI}}}}function jI(t,e,r){let n=this,i=n.events.length,o=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]),a;for(;i--;){let l=n.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return r(l);let u=Wt(n.sliceSerialize({start:a.end,end:n.now()}));return u.charCodeAt(0)!==94||!o.includes(u.slice(1))?r(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function qI(t,e){let r=t.length,n;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){n=t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";let i={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;let a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[t[r+1],t[r+2],["enter",i,e],t[r+3],t[r+4],["enter",o,e],["exit",o,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(r,t.length-r+1,...l),t}function HI(t,e,r){let n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]),o=0,a;return s;function s(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?r(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(f){let h;return f===null||f===91||o++>999?r(f):f===93?a?(t.exit("chunkString"),h=t.exit("gfmFootnoteCallString"),i.includes(Wt(n.sliceSerialize(h)))?d(f):r(f)):r(f):(t.consume(f),$e(f)||(a=!0),f===92?c:u)}function c(f){return f===91||f===92||f===93?(t.consume(f),o++,u):u(f)}function d(f){return t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e}}function VI(t,e,r){let n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]),o,a=0,s;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),c):r(m)}function c(m){let b;return m===null||m===91||a>999?r(m):m===93?s?(b=t.exit("gfmFootnoteDefinitionLabelString"),o=Wt(n.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h):r(m):W(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),a++,c):(t.enter("chunkString").contentType="string",d(m))}function d(m){return m===null||W(m)||m===91||m===93||a>999?(t.exit("chunkString"),c(m)):($e(m)||(s=!0),a++,t.consume(m),m===92?f:d)}function f(m){return m===91||m===92||m===93?(t.consume(m),a++,d):d(m)}function h(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),oe(t,p,"gfmFootnoteDefinitionWhitespace")):r(m)}function p(m){return i.includes(o)||i.push(o),e(m)}}function WI(t,e,r){return t.check(Dn,e,t.attempt(PI,e,r))}function UI(t){t.exit("gfmFootnoteDefinition")}function GI(t,e,r){let n=this;return oe(t,i,"gfmFootnoteDefinitionIndent",4+1);function i(o){let a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(o):r(o)}}function jp(t={}){let e=t.singleTilde,r={tokenize:i,resolveAll:n};return e==null&&(e=!0),{text:{[126]:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function n(o,a){let s=-1;for(;++s<o.length;)if(o[s][0]==="enter"&&o[s][1].type==="strikethroughSequenceTemporary"&&o[s][1]._close){let l=s;for(;l--;)if(o[l][0]==="exit"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._open&&o[s][1].end.offset-o[s][1].start.offset===o[l][1].end.offset-o[l][1].start.offset){o[s][1].type="strikethroughSequence",o[l][1].type="strikethroughSequence";let u={type:"strikethrough",start:Object.assign({},o[l][1].start),end:Object.assign({},o[s][1].end)},c={type:"strikethroughText",start:Object.assign({},o[l][1].end),end:Object.assign({},o[s][1].start)},d=[["enter",u,a],["enter",o[l][1],a],["exit",o[l][1],a],["enter",c,a]];ft(d,d.length,0,Ti(a.parser.constructs.insideSpan.null,o.slice(l+1,s),a)),ft(d,d.length,0,[["exit",c,a],["enter",o[s][1],a],["exit",o[s][1],a],["exit",u,a]]),ft(o,l-1,s-l+3,d),s=l+d.length-2;break}}for(s=-1;++s<o.length;)o[s][1].type==="strikethroughSequenceTemporary"&&(o[s][1].type="data");return o}function i(o,a,s){let l=this.previous,u=this.events,c=0;return d;function d(h){return l===126&&u[u.length-1][1].type!=="characterEscape"?s(h):(o.enter("strikethroughSequenceTemporary"),f(h))}function f(h){let p=fa(l);if(h===126)return c>1?s(h):(o.consume(h),c++,f);if(c<2&&!e)return s(h);let m=o.exit("strikethroughSequenceTemporary"),b=fa(h);return m._open=!b||b===2&&Boolean(p),m._close=!p||p===2&&Boolean(b),a(h)}}}var qp={flow:{null:{tokenize:JI,resolve:KI}}},zy={tokenize:ZI,partial:!0};function KI(t,e){let r=-1,n,i,o,a,s,l,u;for(;++r<t.length;){let c=t[r][1];if(o&&(c.type==="temporaryTableCellContent"&&(a=a||r,s=r),(c.type==="tableCellDivider"||c.type==="tableRow")&&s)){let d={type:"tableContent",start:t[a][1].start,end:t[s][1].end},f={type:"chunkText",start:d.start,end:d.end,contentType:"text"};t.splice(a,s-a+1,["enter",d,e],["enter",f,e],["exit",f,e],["exit",d,e]),r-=s-a-3,a=void 0,s=void 0}if(t[r][0]==="exit"&&l!==void 0&&l+(u?0:1)<r&&(c.type==="tableCellDivider"||c.type==="tableRow"&&(l+3<r||t[l][1].type!=="whitespace"))){let d={type:i?"tableDelimiter":n?"tableHeader":"tableData",start:t[l][1].start,end:t[r][1].end};t.splice(r+(c.type==="tableCellDivider"?1:0),0,["exit",d,e]),t.splice(l,0,["enter",d,e]),r+=2,l=r+1,u=!0}c.type==="tableRow"&&(o=t[r][0]==="enter",o&&(l=r+1,u=!1)),c.type==="tableDelimiterRow"&&(i=t[r][0]==="enter",i&&(l=r+1,u=!1)),c.type==="tableHead"&&(n=t[r][0]==="enter")}return t}function JI(t,e,r){let n=this,i=[],o=0,a,s;return l;function l(L){return t.enter("table")._align=i,t.enter("tableHead"),t.enter("tableRow"),L===124?u(L):(o++,t.enter("temporaryTableCellContent"),f(L))}function u(L){return t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),a=!0,c}function c(L){return L===null||W(L)?p(L):Ee(L)?(t.enter("whitespace"),t.consume(L),d):(a&&(a=void 0,o++),L===124?u(L):(t.enter("temporaryTableCellContent"),f(L)))}function d(L){return Ee(L)?(t.consume(L),d):(t.exit("whitespace"),c(L))}function f(L){return L===null||L===124||$e(L)?(t.exit("temporaryTableCellContent"),c(L)):(t.consume(L),L===92?h:f)}function h(L){return L===92||L===124?(t.consume(L),f):f(L)}function p(L){if(L===null)return r(L);t.exit("tableRow"),t.exit("tableHead");let et=n.interrupt;return n.interrupt=!0,t.attempt({tokenize:ke,partial:!0},function(De){return n.interrupt=et,t.enter("tableDelimiterRow"),m(De)},function(De){return n.interrupt=et,r(De)})(L)}function m(L){return L===null||W(L)?z(L):Ee(L)?(t.enter("whitespace"),t.consume(L),b):L===45?(t.enter("tableDelimiterFiller"),t.consume(L),s=!0,i.push("none"),x):L===58?(t.enter("tableDelimiterAlignment"),t.consume(L),t.exit("tableDelimiterAlignment"),i.push("left"),k):L===124?(t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),m):r(L)}function b(L){return Ee(L)?(t.consume(L),b):(t.exit("whitespace"),m(L))}function x(L){return L===45?(t.consume(L),x):(t.exit("tableDelimiterFiller"),L===58?(t.enter("tableDelimiterAlignment"),t.consume(L),t.exit("tableDelimiterAlignment"),i[i.length-1]=i[i.length-1]==="left"?"center":"right",D):m(L))}function k(L){return L===45?(t.enter("tableDelimiterFiller"),t.consume(L),s=!0,x):r(L)}function D(L){return L===null||W(L)?z(L):Ee(L)?(t.enter("whitespace"),t.consume(L),b):L===124?(t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),m):r(L)}function z(L){return t.exit("tableDelimiterRow"),!s||o!==i.length?r(L):L===null?O(L):t.check(zy,O,t.attempt({tokenize:ke,partial:!0},oe(t,E,"linePrefix",4),O))(L)}function O(L){return t.exit("table"),e(L)}function E(L){return t.enter("tableBody"),T(L)}function T(L){return t.enter("tableRow"),L===124?N(L):(t.enter("temporaryTableCellContent"),K(L))}function N(L){return t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),R}function R(L){return L===null||W(L)?H(L):Ee(L)?(t.enter("whitespace"),t.consume(L),X):L===124?N(L):(t.enter("temporaryTableCellContent"),K(L))}function X(L){return Ee(L)?(t.consume(L),X):(t.exit("whitespace"),R(L))}function K(L){return L===null||L===124||$e(L)?(t.exit("temporaryTableCellContent"),R(L)):(t.consume(L),L===92?ne:K)}function ne(L){return L===92||L===124?(t.consume(L),K):K(L)}function H(L){return t.exit("tableRow"),L===null?re(L):t.check(zy,re,t.attempt({tokenize:ke,partial:!0},oe(t,T,"linePrefix",4),re))(L)}function re(L){return t.exit("tableBody"),O(L)}function ke(L,et,De){return tt;function tt(M){return L.enter("lineEnding"),L.consume(M),L.exit("lineEnding"),oe(L,xe,"linePrefix")}function xe(M){if(n.parser.lazy[n.now().line]||M===null||W(M))return De(M);let A=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&A&&A[1].type==="linePrefix"&&A[2].sliceSerialize(A[1],!0).length>=4?De(M):(n._gfmTableDynamicInterruptHack=!0,L.check(n.parser.constructs.flow,function(Pt){return n._gfmTableDynamicInterruptHack=!1,De(Pt)},function(Pt){return n._gfmTableDynamicInterruptHack=!1,et(Pt)})(M))}}}function ZI(t,e,r){let n=0;return i;function i(a){return t.enter("check"),t.consume(a),o}function o(a){return a===-1||a===32?(t.consume(a),n++,n===4?e:o):a===null||$e(a)?e(a):r(a)}}var XI={tokenize:YI},Hp={text:{[91]:XI}};function YI(t,e,r){let n=this;return i;function i(s){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(s):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),o)}function o(s){return $e(s)?(t.enter("taskListCheckValueUnchecked"),t.consume(s),t.exit("taskListCheckValueUnchecked"),a):s===88||s===120?(t.enter("taskListCheckValueChecked"),t.consume(s),t.exit("taskListCheckValueChecked"),a):r(s)}function a(s){return s===93?(t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:QI},e,r)):r(s)}}function QI(t,e,r){let n=this;return oe(t,i,"whitespace");function i(o){let a=n.events[n.events.length-1];return(a&&a[1].type==="whitespace"||W(o))&&o!==null?e(o):r(o)}}function Ny(t){return Du([Lp,Pp(),jp(t),qp,Hp])}function Vp(t,e){let r=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(e);for(;i!==-1;)n++,i=r.indexOf(e,i+e.length);return n}function Wp(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var eL={}.hasOwnProperty,Up=function(t,e,r,n){let i,o;typeof e=="string"||e instanceof RegExp?(o=[[e,r]],i=n):(o=e,i=r),i||(i={});let a=Bs(i.ignore||[]),s=tL(o),l=-1;for(;++l<s.length;)Ru(t,"text",u);return t;function u(d,f){let h=-1,p;for(;++h<f.length;){let m=f[h];if(a(m,p?p.children.indexOf(m):void 0,p))return;p=m}if(p)return c(d,f)}function c(d,f){let h=f[f.length-1],p=s[l][0],m=s[l][1],b=0,x=h.children.indexOf(d),k=[],D;p.lastIndex=0;let z=p.exec(d.value);for(;z;){D=z.index;let O={index:z.index,input:z.input,stack:[...f,d]},E=m(...z,O);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?D=void 0:(b!==D&&k.push({type:"text",value:d.value.slice(b,D)}),Array.isArray(E)?k.push(...E):E&&k.push(E),b=D+z[0].length),!p.global)break;z=p.exec(d.value)}return D===void 0?k=[d]:(b<d.value.length&&k.push({type:"text",value:d.value.slice(b)}),h.children.splice(x,1,...k)),x+k.length}};function tL(t){let e=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let r=-1;for(;++r<t.length;)e.push([Iy(t[r][0]),Ly(t[r][1])])}else{let r;for(r in t)eL.call(t,r)&&e.push([Iy(r),Ly(t[r])])}return e}function Iy(t){return typeof t=="string"?new RegExp(Wp(t),"g"):t}function Ly(t){return typeof t=="function"?t:()=>t}var Gp="phrasing",Kp=["autolink","link","image","label"],By={transforms:[sL],enter:{literalAutolink:rL,literalAutolinkEmail:Jp,literalAutolinkHttp:Jp,literalAutolinkWww:Jp},exit:{literalAutolink:aL,literalAutolinkEmail:oL,literalAutolinkHttp:nL,literalAutolinkWww:iL}},$y={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Gp,notInConstruct:Kp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Gp,notInConstruct:Kp},{character:":",before:"[ps]",after:"\\/",inConstruct:Gp,notInConstruct:Kp}]};function rL(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Jp(t){this.config.enter.autolinkProtocol.call(this,t)}function nL(t){this.config.exit.autolinkProtocol.call(this,t)}function iL(t){this.config.exit.data.call(this,t);let e=this.stack[this.stack.length-1];e.url="http://"+this.sliceSerialize(t)}function oL(t){this.config.exit.autolinkEmail.call(this,t)}function aL(t){this.exit(t)}function sL(t){Up(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,lL],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,uL]],{ignore:["link","linkReference"]})}function lL(t,e,r,n,i){let o="";if(!Ry(i)||(/^w/i.test(e)&&(r=e+r,e="",o="http://"),!cL(r)))return!1;let a=dL(r+n);if(!a[0])return!1;let s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function uL(t,e,r,n){return!Ry(n,!0)||/[_-\d]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}function cL(t){let e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function dL(t){let e=/[!"&'),.:;<>?\]}]+$/.exec(t),r,n,i,o;if(e)for(t=t.slice(0,e.index),o=e[0],r=o.indexOf(")"),n=Vp(t,"("),i=Vp(t,")");r!==-1&&n>i;)t+=o.slice(0,r+1),o=o.slice(r+1),r=o.indexOf(")"),i++;return[t,o]}function Ry(t,e){let r=t.input.charCodeAt(t.index-1);return(t.index===0||yo(r)||xo(r))&&(!e||r!==47)}function Py(){return{enter:{gfmFootnoteDefinition:t,gfmFootnoteDefinitionLabelString:e,gfmFootnoteCall:i,gfmFootnoteCallString:o},exit:{gfmFootnoteDefinition:n,gfmFootnoteDefinitionLabelString:r,gfmFootnoteCall:s,gfmFootnoteCallString:a}};function t(l){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},l)}function e(){this.buffer()}function r(l){let u=this.resume(),c=this.stack[this.stack.length-1];c.label=u,c.identifier=Wt(this.sliceSerialize(l)).toLowerCase()}function n(l){this.exit(l)}function i(l){this.enter({type:"footnoteReference",identifier:"",label:""},l)}function o(){this.buffer()}function a(l){let u=this.resume(),c=this.stack[this.stack.length-1];c.label=u,c.identifier=Wt(this.sliceSerialize(l)).toLowerCase()}function s(l){this.exit(l)}}function jy(){return t.peek=e,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:r,footnoteReference:t}};function t(n,i,o,a){let s=Oe(a),l=s.move("[^"),u=o.enter("footnoteReference"),c=o.enter("reference");return l+=s.move(Pe(o,ti(n),{...s.current(),before:l,after:"]"})),c(),u(),l+=s.move("]"),l}function e(){return"["}function r(n,i,o,a){let s=Oe(a),l=s.move("[^"),u=o.enter("footnoteDefinition"),c=o.enter("label");return l+=s.move(Pe(o,ti(n),{...s.current(),before:l,after:"]"})),c(),l+=s.move("]:"+(n.children&&n.children.length>0?" ":"")),s.shift(4),l+=s.move(Fi(Cn(n,o,s.current()),d)),u(),l;function d(f,h,p){return h?(p?"":"    ")+f:f}}}var qy={canContainEols:["delete"],enter:{strikethrough:fL},exit:{strikethrough:hL}},Hy={unsafe:[{character:"~",inConstruct:"phrasing"}],handlers:{delete:Vy}};Vy.peek=pL;function fL(t){this.enter({type:"delete",children:[]},t)}function hL(t){this.exit(t)}function Vy(t,e,r,n){let i=Oe(n),o=r.enter("emphasis"),a=i.move("~~");return a+=Ct(t,r,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function pL(){return"~"}function Uy(t,e={}){let r=(e.align||[]).concat(),n=e.stringLength||gL,i=[],o=[],a=[],s=[],l=0,u=-1;for(;++u<t.length;){let p=[],m=[],b=-1;for(t[u].length>l&&(l=t[u].length);++b<t[u].length;){let x=mL(t[u][b]);if(e.alignDelimiters!==!1){let k=n(x);m[b]=k,(s[b]===void 0||k>s[b])&&(s[b]=k)}p.push(x)}o[u]=p,a[u]=m}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<l;)i[c]=Wy(r[c]);else{let p=Wy(r);for(;++c<l;)i[c]=p}c=-1;let d=[],f=[];for(;++c<l;){let p=i[c],m="",b="";p===99?(m=":",b=":"):p===108?m=":":p===114&&(b=":");let x=e.alignDelimiters===!1?1:Math.max(1,s[c]-m.length-b.length),k=m+"-".repeat(x)+b;e.alignDelimiters!==!1&&(x=m.length+x+b.length,x>s[c]&&(s[c]=x),f[c]=x),d[c]=k}o.splice(1,0,d),a.splice(1,0,f),u=-1;let h=[];for(;++u<o.length;){let p=o[u],m=a[u];c=-1;let b=[];for(;++c<l;){let x=p[c]||"",k="",D="";if(e.alignDelimiters!==!1){let z=s[c]-(m[c]||0),O=i[c];O===114?k=" ".repeat(z):O===99?z%2?(k=" ".repeat(z/2+.5),D=" ".repeat(z/2-.5)):(k=" ".repeat(z/2),D=k):D=" ".repeat(z)}e.delimiterStart!==!1&&!c&&b.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&x==="")&&(e.delimiterStart!==!1||c)&&b.push(" "),e.alignDelimiters!==!1&&b.push(k),b.push(x),e.alignDelimiters!==!1&&b.push(D),e.padding!==!1&&b.push(" "),(e.delimiterEnd!==!1||c!==l-1)&&b.push("|")}h.push(e.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return h.join(`
`)}function mL(t){return t==null?"":String(t)}function gL(t){return t.length}function Wy(t){let e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}var Xp={enter:{table:bL,tableData:Gy,tableHeader:Gy,tableRow:xL},exit:{codeText:wL,table:yL,tableData:Zp,tableHeader:Zp,tableRow:Zp}};function bL(t){let e=t._align;this.enter({type:"table",align:e.map(r=>r==="none"?null:r),children:[]},t),this.setData("inTable",!0)}function yL(t){this.exit(t),this.setData("inTable")}function xL(t){this.enter({type:"tableRow",children:[]},t)}function Zp(t){this.exit(t)}function Gy(t){this.enter({type:"tableCell",children:[]},t)}function wL(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,vL));let r=this.stack[this.stack.length-1];r.value=e,this.exit(t)}function vL(t,e){return e==="|"?e:t}function Yp(t){let e=t||{},r=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:a,tableRow:s,tableCell:l,inlineCode:f}};function a(h,p,m,b){return u(c(h,m,b),h.align)}function s(h,p,m,b){let x=d(h,m,b),k=u([x]);return k.slice(0,k.indexOf(`
`))}function l(h,p,m,b){let x=m.enter("tableCell"),k=m.enter("phrasing"),D=Ct(h,m,{...b,before:o,after:o});return k(),x(),D}function u(h,p){return Uy(h,{align:p,alignDelimiters:n,padding:r,stringLength:i})}function c(h,p,m){let b=h.children,x=-1,k=[],D=p.enter("table");for(;++x<b.length;)k[x]=d(b[x],p,m);return D(),k}function d(h,p,m){let b=h.children,x=-1,k=[],D=p.enter("tableRow");for(;++x<b.length;)k[x]=l(b[x],h,p,m);return D(),k}function f(h,p,m){let b=Ps(h,p,m);return m.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}var Jy={exit:{taskListCheckValueChecked:Ky,taskListCheckValueUnchecked:Ky,paragraph:kL}},Zy={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:DL}};function Ky(t){let e=this.stack[this.stack.length-2];e.checked=t.type==="taskListCheckValueChecked"}function kL(t){let e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],n=e.children,i=r.children[0],o=-1,a;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++o<n.length;){let s=n[o];if(s.type==="paragraph"){a=s;break}}a===r&&(i.value=i.value.slice(1),i.value.length===0?r.children.shift():r.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}this.exit(t)}function DL(t,e,r,n){let i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=Oe(n);o&&s.move(a);let l=Hu(t,e,r,{...n,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function Qp(){return[By,Py(),qy,Xp,Jy]}function em(t){return{extensions:[$y,jy(),Hy,Yp(t),Zy]}}function tm(t={}){let e=this.data();r("micromarkExtensions",Ny(t)),r("fromMarkdownExtensions",Qp()),r("toMarkdownExtensions",em(t));function r(n,i){(e[n]?e[n]:e[n]=[]).push(i)}}var CL=Object.defineProperty,SL=Object.defineProperties,_L=Object.getOwnPropertyDescriptors,Xy=Object.getOwnPropertySymbols,EL=Object.prototype.hasOwnProperty,ML=Object.prototype.propertyIsEnumerable,Yy=(t,e,r)=>e in t?CL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dn=(t,e)=>{for(var r in e||(e={}))EL.call(e,r)&&Yy(t,r,e[r]);if(Xy)for(var r of Xy(e))ML.call(e,r)&&Yy(t,r,e[r]);return t},qn=(t,e)=>SL(t,_L(e)),AL=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)$/,TL=()=>j2({rules:[new Ye(AL,(t,e,r,n)=>{var i;let{schema:o}=t,[a]=e;if(!a)return null;let s=(i=o.marks.link)==null?void 0:i.create({href:a});return s?t.tr.replaceWith(r,n,o.text(a)).addMark(r,a.length+r,s):null})]}),FL=P6(()=>TL()),bx=t=>`footnote-ref-${t}`,yx=t=>`footnote-def-${t}`,OL=new ze("MILKDOWN_FOOTNOTE_DEF_INPUT"),Qy=be("ModifyFootnoteDef"),zL=it(t=>{let e="footnote_definition",r="footnoteDefinition";return{id:e,schema:n=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:""}},parseDOM:[{tag:`div[data-type="${e}"]`,getAttrs:i=>{if(!(i instanceof HTMLElement))throw new Error;return{label:i.dataset.label}}}],toDOM:i=>{let o=i.attrs.label,a=t.getClassName(i.attrs,"footnote-definition"),s=document.createElement("dt");s.textContent=`[${o}]:`,s.onclick=()=>{let u=n.get(Vr),c=ie.create(u.state.doc,u.state.selection.from-2);u.dispatch(u.state.tr.setSelection(c))};let l=document.createElement("a");return l.href=`#${bx(o)}`,l.contentEditable="false",l.textContent="↩",l.onmousedown=u=>{u.preventDefault()},["div",{class:a,"data-label":o,"data-type":e,id:yx(o)},["div",{class:"footnote-definition_content"},s,["dd",0]],["div",{class:"footnote-definition_anchor"},l]]},parseMarkdown:{match:({type:i})=>i===r,runner:(i,o,a)=>{i.openNode(a,{label:o.label}).next(o.children).closeNode()}},toMarkdown:{match:i=>i.type.name===e,runner:(i,o)=>{i.openNode(r,void 0,{label:o.attrs.label,identifier:o.attrs.label}).next(o.content).closeNode()}}}),commands:n=>[ve(Qy,(i="")=>(o,a)=>{let s=tr(o.selection,n);if(!s)return!1;let{tr:l}=o,u=l.setNodeMarkup(s.pos,void 0,qn(dn({},s.node.attrs),{label:i}));return a?.(u.setSelection(ie.create(u.doc,s.pos))),!0})],inputRules:n=>[Ei(/(?:\[\^)([^:]+)(?::)$/,n,i=>{var o;return{label:(o=i[1])!=null?o:"footnote"}},()=>!1)],prosePlugins:(n,i)=>[new _e({key:OL,view:o=>{let a=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:c=>{i.get(Kt).call(Qy,c)},isBindMode:!0});if(!a)return{};let s=c=>Boolean(n&&tr(c.state.selection,n)),l=c=>{let d=tr(c.state.selection,n);return d?d.node.attrs.label:void 0},u=c=>{if(!c.editable)return;s(c)?(a.show(c),a.update(l(c))):a.hide()};return a.init(o),u(o),{update:(c,d)=>{d?.doc.eq(c.state.doc)&&d.selection.eq(c.state.selection)||u(c)},destroy:()=>{a.destroy()}}}})]}}),ex=be("ModifyFootnoteRef"),NL=new ze("MILKDOWN_FOOTNOTE_REF_INPUT"),IL=it(t=>{let e="footnote_reference";return{id:e,schema:r=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:""}},parseDOM:[{tag:`sup[data-type="${e}"]`,getAttrs:n=>{if(!(n instanceof HTMLElement))throw new Error;return{label:n.dataset.label}}}],toDOM:n=>{let i=n.attrs.label,o=document.createElement("a"),a=`#${yx(i)}`;return o.href=a,o.textContent=`[${i}]`,o.onclick=s=>{r.get(Vr).editable&&s.preventDefault()},o.ondblclick=()=>{r.get(Vr).editable&&(window.location.href=a)},["sup",{"data-label":i,"data-type":e,id:bx(i)},o]},parseMarkdown:{match:({type:n})=>n==="footnoteReference",runner:(n,i,o)=>{n.addNode(o,{label:i.label})}},toMarkdown:{match:n=>n.type.name===e,runner:(n,i)=>{n.addNode("footnoteReference",void 0,void 0,{label:i.attrs.label,identifier:i.attrs.label})}}}),commands:r=>[ve(ex,(n="")=>(i,o)=>{let a=tr(i.selection,r);if(!a)return!1;let{tr:s}=i,l=s.setNodeMarkup(a.pos,void 0,qn(dn({},a.node.attrs),{label:n}));return o?.(l.setSelection(ie.create(l.doc,a.pos))),!0})],inputRules:r=>[new Ye(/(?:\[\^)([^\]]+)(?:\])$/,(n,i,o,a)=>{let s=n.doc.resolve(o),l=s.index(),u=n.doc.resolve(a);if(!s.parent.canReplaceWith(l,u.index(),r))return null;let c=i[1];return n.tr.replaceRangeWith(o,a,r.create({label:c}))})],prosePlugins:(r,n)=>{let i=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:l=>{n.get(Kt).call(ex,l)},isBindMode:!0});if(!i)return[];let o=l=>Boolean(r&&tr(l.state.selection,r)),a=l=>{let u=tr(l.state.selection,r);return u?u.node.attrs.label:void 0},s=l=>{if(!l.editable)return;o(l)?(i.show(l),i.update(a(l))):i.hide()};return[new _e({key:NL,view:l=>(i.init(l),s(l),{update:(u,c)=>{c?.doc.eq(u.state.doc)&&c.selection.eq(u.state.selection)||s(u)},destroy:()=>{i.destroy()}})})]}}}),xx=new WeakMap,LL=t=>xx.get(t),BL=(t,e)=>(xx.set(t,e),e),n0=class{constructor(e,r,n,i){this.left=e,this.top=r,this.right=n,this.bottom=i}},qe=class{constructor(e,r,n,i){this.width=e,this.height=r,this.map=n,this.problems=i,this.width=e,this.height=r,this.map=n,this.problems=i}findCell(e){for(let r=0;r<this.map.length;r++){let n=this.map[r];if(n!=e)continue;let i=r%this.width,o=r/this.width|0,a=i+1,s=o+1;for(let l=1;a<this.width&&this.map[r+l]==n;l++)a++;for(let l=1;s<this.height&&this.map[r+this.width*l]==n;l++)s++;return new n0(i,o,a,s)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let r=0;r<this.map.length;r++)if(this.map[r]==e)return r%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,r,n){let{left:i,right:o,top:a,bottom:s}=this.findCell(e);return r=="horiz"?(n<0?i==0:o==this.width)?void 0:this.map[a*this.width+(n<0?i-1:o)]:(n<0?a==0:s==this.height)?void 0:this.map[i+this.width*(n<0?a-1:s)]}rectBetween(e,r){let{left:n,right:i,top:o,bottom:a}=this.findCell(e),{left:s,right:l,top:u,bottom:c}=this.findCell(r);return new n0(Math.min(n,s),Math.min(o,u),Math.max(i,l),Math.max(a,c))}cellsInRect(e){let r=[],n={};for(let i=e.top;i<e.bottom;i++)for(let o=e.left;o<e.right;o++){let a=i*this.width+o,s=this.map[a];n[s]||(n[s]=!0,(o!=e.left||!o||this.map[a-1]!=s)&&(i!=e.top||!i||this.map[a-this.width]!=s)&&r.push(s))}return r}positionAt(e,r,n){for(let i=0,o=0;;i++){let a=o+n.child(i).nodeSize;if(i==e){let s=r+e*this.width,l=(e+1)*this.width;for(;s<l&&this.map[s]<o;)s++;return s==l?a-1:this.map[s]}o=a}}static get(e){return LL(e)||BL(e,$L(e))}};function $L(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);let e=RL(t),r=t.childCount,n=[],i=[],o=0,a;for(let u=0,c=e*r;u<c;u++)n[u]=0;for(let u=0,c=0;u<r;u++){let d=t.child(u);c++;for(let p=0;;p++){for(;o<n.length&&n[o]!=0;)o++;if(p==d.childCount)break;let m=d.child(p),{colspan:b,rowspan:x,colwidth:k}=m.attrs;for(let D=0;D<x;D++){if(D+u>=r){(a||(a=[])).push({type:"overlong_rowspan",pos:c,n:x-D});break}let z=o+D*e;for(let O=0;O<b;O++){n[z+O]==0?n[z+O]=c:(a||(a=[])).push({type:"collision",row:u,pos:c,n:b-O});let E=k&&k[O];if(E){let T=(z+O)%e*2,N=i[T];N==null||N!=E&&i[T+1]==1?(i[T]=E,i[T+1]=1):N==E&&i[T+1]++}}}o+=b,c+=m.nodeSize}let f=(u+1)*e,h=0;for(;o<f;)n[o++]==0&&h++;h&&(a||(a=[])).push({type:"missing",row:u,n:h}),c++}let s=new qe(e,r,n,a),l=!1;for(let u=0;!l&&u<i.length;u+=2)i[u]!=null&&i[u+1]<r&&(l=!0);return l&&PL(s,i,t),s}function RL(t){let e=-1,r=!1;for(let n=0;n<t.childCount;n++){let i=t.child(n),o=0;if(r)for(let a=0;a<n;a++){let s=t.child(a);for(let l=0;l<s.childCount;l++){let u=s.child(l);a+u.attrs.rowspan>n&&(o+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){let s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(r=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function PL(t,e,r){t.problems||(t.problems=[]);for(let n=0,i={};n<t.map.length;n++){let o=t.map[n];if(i[o])continue;i[o]=!0;let a=r.nodeAt(o),s=null;for(let l=0;l<a.attrs.colspan;l++){let u=(n+l)%t.width,c=e[u*2];c!=null&&(!a.attrs.colwidth||a.attrs.colwidth[l]!=c)&&((s||(s=jL(a.attrs)))[l]=c)}s&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function jL(t){if(t.colwidth)return t.colwidth.slice();let e=[];for(let r=0;r<t.colspan;r++)e.push(0);return e}var Ne=class extends ce{constructor(e,r=e){let n=e.node(-1),i=qe.get(n),o=e.start(-1),a=i.rectBetween(e.pos-o,r.pos-o),s=e.node(0),l=i.cellsInRect(a).filter(c=>c!=r.pos-o);l.unshift(r.pos-o);let u=l.map(c=>{let d=n.nodeAt(c),f=c+o+1;return new ys(s.resolve(f),s.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=r,this.$anchorCell=e,this.$headCell=r}map(e,r){let n=e.resolve(r.map(this.$anchorCell.pos)),i=e.resolve(r.map(this.$headCell.pos));if(om(n)&&om(i)&&pm(n,i)){let o=this.$anchorCell.node(-1)!=n.node(-1);return o&&this.isRowSelection()?Ne.rowSelection(n,i):o&&this.isColSelection()?Ne.colSelection(n,i):new Ne(n,i)}return le.between(n,i)}content(){let e=this.$anchorCell.node(-1),r=qe.get(e),n=this.$anchorCell.start(-1),i=r.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},a=[];for(let l=i.top;l<i.bottom;l++){let u=[];for(let c=l*r.width+i.left,d=i.left;d<i.right;d++,c++){let f=r.map[c];if(!o[f]){o[f]=!0;let h=r.findCell(f),p=e.nodeAt(f),m=i.left-h.left,b=h.right-i.right;if(m>0||b>0){let x=p.attrs;m>0&&(x=Lo(x,0,m)),b>0&&(x=Lo(x,x.colspan-b,b)),h.left<i.left?p=p.type.createAndFill(x):p=p.type.create(x,p.content)}if(h.top<i.top||h.bottom>i.bottom){let x=Nr(p.attrs,"rowspan",Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top));h.top<i.top?p=p.type.createAndFill(x):p=p.type.create(x,p.content)}u.push(p)}}a.push(e.child(l).copy($.from(u)))}let s=this.isColSelection()&&this.isRowSelection()?e:a;return new G($.from(s),1,1)}replace(e,r=G.empty){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:l}=i[a],u=e.mapping.slice(n);e.replace(u.map(s.pos),u.map(l.pos),a?G.empty:r)}let o=ce.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,r){this.replace(e,new G($.from(r),0,0))}forEachCell(e){let r=this.$anchorCell.node(-1),n=qe.get(r),i=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)e(r.nodeAt(o[a]),i+o[a])}isColSelection(){let e=this.$anchorCell.index(-1),r=this.$headCell.index(-1);if(Math.min(e,r)>0)return!1;let n=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=r+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount}static colSelection(e,r=e){let n=qe.get(e.node(-1)),i=e.start(-1),o=n.findCell(e.pos-i),a=n.findCell(r.pos-i),s=e.node(0);if(o.top<=a.top){if(o.top>0){let l=n.map[o.left];e=s.resolve(i+l)}if(a.bottom<n.height){let l=n.map[n.width*(n.height-1)+a.right-1];r=s.resolve(i+l)}}else{if(a.top>0){let l=n.map[o.left];r=s.resolve(i+l)}if(o.bottom<n.height){let l=n.map[n.width*(n.height-1)+o.right-1];e=s.resolve(i+l)}}return new Ne(e,r)}isRowSelection(){let e=qe.get(this.$anchorCell.node(-1)),r=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-r),i=e.colCount(this.$headCell.pos-r);if(Math.min(n,i)>0)return!1;let o=n+this.$anchorCell.nodeAfter.attrs.colspan,a=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==e.width}eq(e){return e instanceof Ne&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,r=e){let n=qe.get(e.node(-1)),i=e.start(-1),o=n.findCell(e.pos-i),a=n.findCell(r.pos-i),s=e.node(0);if(o.left<=a.left){if(o.left>0){let l=n.map[o.top*n.width];e=s.resolve(i+l)}if(a.right<n.width){let l=n.map[n.width*(a.top+1)-1];r=s.resolve(i+l)}}else{if(a.left>0){let l=n.map[a.top*n.width];r=s.resolve(i+l)}if(o.right<n.width){let l=n.map[n.width*(o.top+1)-1];e=s.resolve(i+l)}}return new Ne(e,r)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,r){return new Ne(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){return new Ne(e.resolve(r),e.resolve(n))}getBookmark(){return new yl(this.$anchorCell.pos,this.$headCell.pos)}};Ne.prototype.visible=!1;ce.jsonID("cell",Ne);var yl=class{constructor(e,r){this.anchor=e,this.head=r,this.anchor=e,this.head=r}map(e){return new yl(e.map(this.anchor),e.map(this.head))}resolve(e){let r=e.resolve(this.anchor),n=e.resolve(this.head);return r.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&r.index()<r.parent.childCount&&n.index()<n.parent.childCount&&pm(r,n)?new Ne(r,n):ce.near(n,1)}};function qL(t){if(!(t.selection instanceof Ne))return null;let e=[];return t.selection.forEachCell((r,n)=>{e.push(mt.node(n,n+r.nodeSize,{class:"selectedCell"}))}),Xe.create(t.doc,e)}function HL({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let r=t.pos,n=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,n--);return r==n&&/row|table/.test(t.node(i).type.spec.tableRole)}function VL({$from:t,$to:e}){let r,n;for(let i=t.depth;i>0;i--){let o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}for(let i=e.depth;i>0;i--){let o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}return r!==n&&e.parentOffset===0}function WL(t,e,r){let n=(e||t).selection,i=(e||t).doc,o,a;if(n instanceof ie&&(a=n.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=Ne.create(i,n.from);else if(a=="row"){let s=i.resolve(n.from+1);o=Ne.rowSelection(s,s)}else if(!r){let s=qe.get(n.node),l=n.from+1,u=s.map[s.width*s.height-1],c=l+u;o=Ne.create(i,l+1,c)}}else n instanceof le&&HL(n)?o=le.create(i,n.from):n instanceof le&&VL(n)&&(o=le.create(i,n.$from.start(),n.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}function tx(t,e){let r=t.getAttribute("data-colwidth"),n=r&&/^\d+(,\d+)*$/.test(r)?r.split(",").map(a=>Number(a)):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:n&&n.length==i?n:null};for(let a in e){let s=e[a].getFromDOM,l=s&&s(t);l!=null&&(o[a]=l)}return o}function rx(t,e){let r={};t.attrs.colspan!=1&&(r.colspan=t.attrs.colspan),t.attrs.rowspan!=1&&(r.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(r["data-colwidth"]=t.attrs.colwidth.join(","));for(let n in e){let i=e[n].setDOMAttr;i&&i(t.attrs[n],r)}return r}function UL(t){let e=t.cellAttributes||{},r={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(let o in e)r[o]={default:e[o].default};let n=r;return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:o=>tx(o,e)}],toDOM(o){return["td",rx(o,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:o=>tx(o,e)}],toDOM(o){return["th",rx(o,e),0]}}}}function Jr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(let r in t.nodes){let n=t.nodes[r],i=n?.spec.tableRole;i&&(e[i]=n)}}return e}var Xc=UL({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}});function xl(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1))}function om(t){return t.parent.type.spec.tableRole=="row"?t.nodeAfter:null}function GL(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function pm(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function wx(t,e,r){let n=t.start(-1),o=qe.get(t.node(-1)).nextCell(t.pos-n,e,r);return o==null?null:t.node(0).resolve(n+o)}function Nr(t,e,r){let n={};for(let i in t)n[i]=t[i];return n[e]=r,n}function Lo(t,e,r=1){let n=Nr(t,"colspan",t.colspan-r);if(n.colwidth){let i=n.colwidth;n.colwidth=i.slice(),i.splice(e,r),i.some(o=>o>0)||(n.colwidth=null)}return n}function Hn(t){let e=t.selection.$head;for(let r=e.depth;r>0;r--)if(e.node(r).type.spec.tableRole=="row")return!0;return!1}function i0(t){let e=t.selection;return e instanceof Ne?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:xl(e.$head)||KL(e.$head)}function KL(t){for(let e=t.nodeAfter,r=t.pos;e;e=e.firstChild,r++){let n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r)}for(let e=t.nodeBefore,r=t.pos;e;e=e.lastChild,r--){let n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r-e.nodeSize)}}function JL(t,e,r=1){let n=Nr(t,"colspan",t.colspan+r);if(n.colwidth){let i=n.colwidth;n.colwidth=i.slice();for(let o=0;o<r;o++)i.splice(e,0,0)}return n}function ZL(t,e,r){let n=Jr(e.type.schema).header_cell;for(let i=0;i<t.height;i++){let o=t.map[r+i*t.width];if(e.nodeAt(o).type!=n)return!1}return!0}var XL=t=>(e,r)=>{if(!Hn(e))return!1;let{$head:n}=e.selection,i=n.after(),o=e.tr.replaceWith(i,i,t.createAndFill());return o.setSelection(ce.near(o.doc.resolve(i),1)),r?.(o.scrollIntoView()),!0},o0=t=>H2(e=>e.type.spec.tableRole==="table")(t),YL=t=>e=>{let r=o0(e);if(!r)return;let n=qe.get(r.node);if(!(t<0||t>=n.width))return n.cellsInRect({left:t,right:t+1,top:0,bottom:n.height}).map(i=>{let o=r.node.nodeAt(i);if(!o)throw new Error;let a=i+r.start;return{pos:a,start:a+1,node:o}})},QL=t=>e=>{let r=o0(e);if(!r)return;let n=qe.get(r.node);if(!(t<0||t>=n.height))return n.cellsInRect({left:0,right:n.width,top:t,bottom:t+1}).map(i=>{let o=r.node.nodeAt(i);if(!o)throw new Error;let a=i+r.start;return{pos:a,start:a+1,node:o}})},nx=(t,e=3,r=3)=>{let{cell:n,header_cell:i,row:o,table:a}=Jr(t),s=Array(r).fill(0).map(()=>n.createAndFill(null)),l=Array(r).fill(0).map(()=>i.createAndFill(null)),u=Array(e).fill(0).map((c,d)=>o.create(null,d===0?l:s));return a.create(null,u)},ix=t=>e=>r=>{let n=o0(r.selection),i=t==="row";if(n){let o=qe.get(n.node);if(e>=0&&e<(i?o.height:o.width)){let a=o.positionAt(i?e:o.height-1,i?o.width-1:e,n.node),s=r.doc.resolve(n.start+a),l=i?Ne.rowSelection:Ne.colSelection,u=o.positionAt(i?e:0,i?0:e,n.node),c=r.doc.resolve(n.start+u);return vd(r.setSelection(l(s,c)))}}return r},eB=t=>{let e=o0(t);if(!e)return;let r=qe.get(e.node);return r.cellsInRect({left:0,right:r.width,top:0,bottom:r.height}).map(i=>{let o=e.node.nodeAt(i),a=i+e.start;return{pos:a,start:a+1,node:o}})},tB=t=>{let e=eB(t.selection);if(e&&e[0]){let r=t.doc.resolve(e[0].pos),n=e[e.length-1];if(n){let i=t.doc.resolve(n.pos);return vd(t.setSelection(new Ne(i,r)))}}return t};function ox(t,{map:e,tableStart:r,table:n},i){let o=Array(i).fill(0).reduce((u,c,d)=>u+n.child(d).nodeSize,r),{cell:a,row:s}=Jr(n.type.schema),l=Array(e.width).fill(0).map((u,c)=>{let d=n.nodeAt(e.map[c]);return a.createAndFill({alignment:d?.attrs.alignment})});return t.insert(o,s.create(null,l)),t}var jn=t=>t.state.selection,rB=t=>{let e=qe.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),n=e.cellsInRect({left:0,right:e.width,top:0,bottom:1}),i=e.cellsInRect(e.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r));for(let o=0,a=n.length;o<a;o++)if(i.indexOf(n[o])===-1)return!1;return!0},nB=(t,e)=>{Object.values(t).forEach(r=>{var n;if((n=r.disable)==null?void 0:n.call(r,e)){r.$.classList.add("hide");return}r.$.classList.remove("hide")})},iB=t=>{var e,r,n,i,o,a,s,l;return{[0]:{$:(e=t.get(sr).get(ut,"leftArrow"))==null?void 0:e.dom,command:()=>xB,disable:u=>!jn(u).isColSelection()},[1]:{$:(r=t.get(sr).get(ut,"rightArrow"))==null?void 0:r.dom,command:()=>wB,disable:u=>!jn(u).isColSelection()},[2]:{$:(n=t.get(sr).get(ut,"upArrow"))==null?void 0:n.dom,command:()=>(u,c)=>{if(!Hn(u))return!1;if(c){let d=Za(u);c(ox(u.tr,d,d.top))}return!0},disable:u=>!jn(u).isRowSelection()||jn(u).$head.parent.type.name==="table_header"},[3]:{$:(i=t.get(sr).get(ut,"downArrow"))==null?void 0:i.dom,command:()=>(u,c)=>{if(!Hn(u))return!1;if(c){let d=Za(u);c(ox(u.tr,d,d.bottom))}return!0},disable:u=>!jn(u).isRowSelection()},[4]:{$:(o=t.get(sr).get(ut,"alignLeft"))==null?void 0:o.dom,command:()=>nm("alignment","left"),disable:u=>!jn(u).isColSelection()},[5]:{$:(a=t.get(sr).get(ut,"alignCenter"))==null?void 0:a.dom,command:()=>nm("alignment","center"),disable:u=>!jn(u).isColSelection()},[6]:{$:(s=t.get(sr).get(ut,"alignRight"))==null?void 0:s.dom,command:()=>nm("alignment","right"),disable:u=>!jn(u).isColSelection()},[7]:{$:(l=t.get(sr).get(ut,"delete"))==null?void 0:l.dom,command:(u,c)=>{let d=jn(c),f=d.isColSelection(),h=d.isRowSelection();return f&&h?_B:f?kB:CB},disable:u=>{let c=jn(u);return c.isRowSelection()?c.isColSelection()?!1:rB(c):!1}}}},oB=(t,e)=>{let{selection:r}=t.state,n=r.isColSelection(),i=r.isRowSelection();gu(t,e,(o,a,s)=>{let l=e.parentElement;if(!l)throw new Error;let u=i?o.left-s.left-a.width/2-8:o.left-s.left+(o.width-a.width)/2,c=o.top-s.top-a.height-(n?14:0)-14+l.scrollTop;return u<0&&(u=0),[c,u]})},fn=(t=>(t.Left="Left",t.Top="Top",t.Point="Point",t))(fn||{}),aB=(t,{css:e,injectGlobal:r})=>{let n=gr(t),i=t.get(we,"radius"),o=t.get(we,"lineWidth");return r`
        .milkdown {
            .tableWrapper {
                table {
                    width: calc(100% - 2em) !important;
                    margin: 1em 0 1em 1em !important;

                    .milkdown-cell-left,
                    .milkdown-cell-point,
                    .milkdown-cell-top {
                        position: absolute;

                        &::after {
                            cursor: pointer;
                            position: absolute;
                            top: 0;
                            left: 0;
                            height: 100%;
                            width: 100%;
                            display: block;
                            transition: all 0.2s ease-in-out;
                            background: ${n("secondary",.12)};
                            content: '';
                        }

                        &:hover::after {
                            background: ${n("secondary",.38)};
                        }
                    }

                    .milkdown-cell-left {
                        left: calc(-6px - 0.5em);
                        top: 0;
                        bottom: 0;
                        width: 0.5em;
                    }

                    .milkdown-cell-top {
                        left: 0;
                        right: 0;
                        top: calc(-6px - 0.5em);
                        height: 0.5em;
                    }

                    .milkdown-cell-point {
                        left: calc(-2px - 1em);
                        top: calc(-2px - 1em);
                        width: 1em;
                        height: 1em;

                        .icon {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            left: 0;
                            right: 0;
                        }
                    }
                }
            }
        }
    `,e`
        display: inline-flex;
        cursor: pointer;
        z-index: 2;

        justify-content: space-evenly;

        position: absolute;

        border-radius: ${i};

        ${t.get(Ge,void 0)};
        ${t.get(It,void 0)};

        overflow: hidden;
        background: ${n("surface")};

        .icon {
            position: relative;
            color: ${n("solid",.87)};

            width: 2em;
            line-height: 2em;
            text-align: center;
            transition: all 0.4s ease-in-out;

            &:hover {
                background-color: ${n("secondary",.12)};
            }

            &.active {
                color: ${n("primary")};
            }

            &:not(:last-child)::after {
                content: '';
                position: absolute;
                right: 0;
                top: 0;
                width: ${o};
                bottom: 0;
                background: ${n("line")};
            }
        }

        &.hide,
        .hide {
            display: none;
        }
    `},sB=t=>{switch(t){case fn.Left:return"milkdown-cell-left";case fn.Top:return"milkdown-cell-top";case fn.Point:default:return"milkdown-cell-point"}};function rm(t,e,r,n=0){return mt.widget(e.pos+1,i=>{var o;let a=document.createElement("div");return a.classList.add(sB(r)),r===fn.Point&&a.appendChild((o=t.get(sr).get(ut,"select"))==null?void 0:o.dom),a.addEventListener("mousedown",s=>{if(!!i)switch(s.preventDefault(),r){case fn.Point:{i.dispatch(tB(i.state.tr));return}case fn.Left:{i.dispatch(ix("row")(n)(i.state.tr));return}case fn.Top:{i.dispatch(ix("col")(n)(i.state.tr));return}}}),a})}var lB=(t,e)=>new _e({key:new ze("MILKDOWN_TABLE_OP"),props:{decorations:r=>{let n=[],i=YL(0)(r.selection);if(!i)return null;let o=QL(0)(r.selection);if(!o)return null;let[a]=i;return n.push(rm(t,a,fn.Point)),i.forEach((s,l)=>{n.push(rm(t,s,fn.Left,l))}),o.forEach((s,l)=>{n.push(rm(t,s,fn.Top,l))}),Xe.create(r.doc,n)}},view:r=>{var n;let i=Object.fromEntries(Object.entries(iB(t)).filter(([,l])=>l.$!=null)),o=document.createElement("div");e.themeManager.onFlush(()=>{let l=e.getStyle(u=>aB(e.themeManager,u));l&&o.classList.add(l)}),o.classList.add("table-tooltip","hide"),Object.values(i).forEach(({$:l})=>o.appendChild(l)),(n=r.dom.parentNode)==null||n.appendChild(o);let a=l=>{!r||(l.stopPropagation(),l.preventDefault(),Object.values(i).forEach(({$:u,command:c})=>{u.contains(l.target)&&c(l,r)(r.state,r.dispatch,r)}))},s=()=>{o.classList.add("hide")};return o.addEventListener("mousedown",a),{update:(l,u)=>{let c=l.state;if(u?.doc.eq(c.doc)&&u.selection.eq(c.selection))return;if(!(c.selection instanceof Ne)||!l.editable){s();return}if(nB(i,l),Object.values(i).every(({$:f})=>f.classList.contains("hide"))){s();return}o.classList.remove("hide"),oB(l,o)},destroy:()=>{o.removeEventListener("mousedown",a),o.remove()}}}}),am=class{constructor(e,r){this.node=e,this.cellMinWidth=r,this.node=e,this.cellMinWidth=r,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),sm(e,this.colgroup,this.table,r),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,sm(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function sm(t,e,r,n,i,o){var a;let s=0,l=!0,u=e.firstChild,c=t.firstChild;for(let d=0,f=0;d<c.childCount;d++){let{colspan:h,colwidth:p}=c.child(d).attrs;for(let m=0;m<h;m++,f++){let b=i==f?o:p&&p[m],x=b?b+"px":"";s+=b||n,b||(l=!1),u?(u.style.width!=x&&(u.style.width=x),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=x}}for(;u;){let d=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=d}l?(r.style.width=s+"px",r.style.minWidth=""):(r.style.width="",r.style.minWidth=s+"px")}var Kr=new ze("tableColumnResizing");function uB({handleWidth:t=5,cellMinWidth:e=25,View:r=am,lastColumnResizable:n=!0}={}){return new _e({key:Kr,state:{init(o,a){return this.spec.props.nodeViews[Jr(a.schema).table.name]=s=>new r(s,e),new Io(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes(o){return Kr.getState(o).activeHandle>-1?{class:"resize-cursor"}:void 0},handleDOMEvents:{mousemove(o,a){cB(o,a,t,n)},mouseleave(o){dB(o)},mousedown(o,a){fB(o,a,e)}},decorations(o){let a=Kr.getState(o);return a.activeHandle>-1?yB(o,a.activeHandle):null},nodeViews:{}}})}var Io=class{constructor(e,r){this.activeHandle=e,this.dragging=r,this.activeHandle=e,this.dragging=r}apply(e){let r=this,n=e.getMeta(Kr);if(n&&n.setHandle!=null)return new Io(n.setHandle,null);if(n&&n.setDragging!==void 0)return new Io(r.activeHandle,n.setDragging);if(r.activeHandle>-1&&e.docChanged){let i=e.mapping.map(r.activeHandle,-1);om(e.doc.resolve(i))||(i=0),r=new Io(i,r.dragging)}return r}};function cB(t,e,r,n){let i=Kr.getState(t.state);if(!i.dragging){let o=pB(e.target),a=-1;if(o){let{left:s,right:l}=o.getBoundingClientRect();e.clientX-s<=r?a=ax(t,e,"left"):l-e.clientX<=r&&(a=ax(t,e,"right"))}if(a!=i.activeHandle){if(!n&&a!==-1){let s=t.state.doc.resolve(a),l=s.node(-1),u=qe.get(l),c=s.start(-1);if(u.colCount(s.pos-c)+s.nodeAfter.attrs.colspan-1==u.width-1)return}vx(t,a)}}}function dB(t){let e=Kr.getState(t.state);e.activeHandle>-1&&!e.dragging&&vx(t,-1)}function fB(t,e,r){let n=Kr.getState(t.state);if(n.activeHandle==-1||n.dragging)return!1;let i=t.state.doc.nodeAt(n.activeHandle),o=hB(t,n.activeHandle,i.attrs);t.dispatch(t.state.tr.setMeta(Kr,{setDragging:{startX:e.clientX,startWidth:o}}));function a(l){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);let u=Kr.getState(t.state);u.dragging&&(mB(t,u.activeHandle,sx(u.dragging,l,r)),t.dispatch(t.state.tr.setMeta(Kr,{setDragging:null})))}function s(l){if(!l.which)return a(l);let u=Kr.getState(t.state),c=sx(u.dragging,l,r);gB(t,u.activeHandle,c,r)}return window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),e.preventDefault(),!0}function hB(t,e,{colspan:r,colwidth:n}){let i=n&&n[n.length-1];if(i)return i;let o=t.domAtPos(e),s=o.node.childNodes[o.offset].offsetWidth,l=r;if(n)for(let u=0;u<r;u++)n[u]&&(s-=n[u],l--);return s/l}function pB(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function ax(t,e,r){let n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return-1;let{pos:i}=n,o=xl(t.state.doc.resolve(i));if(!o)return-1;if(r=="right")return o.pos;let a=qe.get(o.node(-1)),s=o.start(-1),l=a.map.indexOf(o.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function sx(t,e,r){let n=e.clientX-t.startX;return Math.max(r,t.startWidth+n)}function vx(t,e){t.dispatch(t.state.tr.setMeta(Kr,{setHandle:e}))}function mB(t,e,r){let n=t.state.doc.resolve(e),i=n.node(-1),o=qe.get(i),a=n.start(-1),s=o.colCount(n.pos-a)+n.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let u=0;u<o.height;u++){let c=u*o.width+s;if(u&&o.map[c]==o.map[c-o.width])continue;let d=o.map[c],{attrs:f}=i.nodeAt(d),h=f.colspan==1?0:s-o.colCount(d);if(f.colwidth&&f.colwidth[h]==r)continue;let p=f.colwidth?f.colwidth.slice():bB(f.colspan);p[h]=r,l.setNodeMarkup(a+d,null,Nr(f,"colwidth",p))}l.docChanged&&t.dispatch(l)}function gB(t,e,r,n){let i=t.state.doc.resolve(e),o=i.node(-1),a=i.start(-1),s=qe.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,l=t.domAtPos(i.start(-1)).node;for(;l.nodeName!="TABLE";)l=l.parentNode;sm(o,l.firstChild,l,n,s,r)}function bB(t){let e=[];for(let r=0;r<t;r++)e.push(0);return e}function yB(t,e){let r=[],n=t.doc.resolve(e),i=n.node(-1),o=qe.get(i),a=n.start(-1),s=o.colCount(n.pos-a)+n.nodeAfter.attrs.colspan;for(let l=0;l<o.height;l++){let u=s+l*o.width-1;if((s==o.width||o.map[u]!=o.map[u+1])&&(l==0||o.map[u-1]!=o.map[u-1-o.width])){let c=o.map[u],d=a+c+i.nodeAt(c).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",r.push(mt.widget(d,f))}}return Xe.create(t.doc,r)}function Za(t){let e=t.selection,r=i0(t),n=r.node(-1),i=r.start(-1),o=qe.get(n),a;return e instanceof Ne?a=o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):a=o.findCell(r.pos-i),a.tableStart=i,a.map=o,a.table=n,a}function kx(t,{map:e,tableStart:r,table:n},i){e=e,n=n,r=r;let o=i>0?-1:0;ZL(e,n,i+o)&&(o=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){let s=a*e.width+i;if(i>0&&i<e.width&&e.map[s-1]==e.map[s]){let l=e.map[s],u=n.nodeAt(l);t.setNodeMarkup(t.mapping.map(r+l),null,JL(u.attrs,i-e.colCount(l))),a+=u.attrs.rowspan-1}else{let l=e.map[s+o],u=o==null?Jr(n.type.schema).cell:n.nodeAt(l).type,c=e.positionAt(a,i,n);t.insert(t.mapping.map(r+c),u.createAndFill())}}return t}var xB=(t,e)=>{if(!Hn(t))return!1;if(e){let r=Za(t);e(kx(t.tr,r,r.left))}return!0},wB=(t,e)=>{if(!Hn(t))return!1;if(e){let r=Za(t);e(kx(t.tr,r,r.right))}return!0};function vB(t,{map:e,table:r,tableStart:n},i){e=e,r=r,n=n;let o=t.mapping.maps.length;for(let a=0;a<e.height;){let s=a*e.width+i,l=e.map[s],u=r.nodeAt(l);if(i>0&&e.map[s-1]==l||i<e.width-1&&e.map[s+1]==l)t.setNodeMarkup(t.mapping.slice(o).map(n+l),null,Lo(u.attrs,i-e.colCount(l)));else{let c=t.mapping.slice(o).map(n+l);t.delete(c,c+u.nodeSize)}a+=u.attrs.rowspan}}var kB=(t,e)=>{if(!Hn(t))return!1;if(e){let r=Za(t),n=t.tr;if(r.left==0&&r.right==r.map.width)return!1;for(let i=r.right-1;vB(n,r,i),i!=r.left;i--)r.table=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc,r.map=qe.get(r.table);e(n)}return!0};function DB(t,{map:e,tableStart:r,table:n},i){e=e,n=n,r=r;let o=0;for(let l=0;l<i;l++)o+=n.child(l).nodeSize;let a=o+n.child(i).nodeSize,s=t.mapping.maps.length;t.delete(o+r,a+r);for(let l=0,u=i*e.width;l<e.width;l++,u++){let c=e.map[u];if(i>0&&c==e.map[u-e.width]){let d=n.nodeAt(c).attrs;t.setNodeMarkup(t.mapping.slice(s).map(c+r),null,Nr(d,"rowspan",d.rowspan-1)),l+=d.colspan-1}else if(i<e.width&&c==e.map[u+e.width]){let d=n.nodeAt(c),f=d.type.create(Nr(d.attrs,"rowspan",d.attrs.rowspan-1),d.content),h=e.positionAt(i+1,l,n);t.insert(t.mapping.slice(s).map(r+h),f),l+=d.attrs.colspan-1}}}var CB=(t,e)=>{if(!Hn(t))return!1;if(e){let r=Za(t),n=t.tr;if(r.top==0&&r.bottom==r.map.height)return!1;for(let i=r.bottom-1;DB(n,r,i),i!=r.top;i--)r.table=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc,r.map=qe.get(r.table);e(n)}return!0};function nm(t,e){return(r,n)=>{if(!Hn(r))return!1;let i=i0(r);if(i.nodeAfter.attrs[t]===e)return!1;if(n){let o=r.tr;r.selection instanceof Ne?r.selection.forEachCell((a,s)=>{a.attrs[t]!==e&&o.setNodeMarkup(s,null,Nr(a.attrs,t,e))}):o.setNodeMarkup(i.pos,null,Nr(i.nodeAfter.attrs,t,e)),n(o)}return!0}}function SB(t,e){if(e<0){let r=t.nodeBefore;if(r)return t.pos-r.nodeSize;for(let n=t.index(-1)-1,i=t.before();n>=0;n--){let o=t.node(-1).child(n);if(o.childCount)return i-1-o.lastChild.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;let r=t.node(-1);for(let n=t.indexAfter(-1),i=t.after();n<r.childCount;n++){let o=r.child(n);if(o.childCount)return i+1;i+=o.nodeSize}}}function lx(t){return(e,r)=>{if(!Hn(e))return!1;let n=SB(i0(e),t);if(n==null)return!1;if(r){let i=e.doc.resolve(n);r(e.tr.setSelection(le.between(i,GL(i))).scrollIntoView())}return!0}}var _B=(t,e)=>{let r=t.selection.$anchor;for(let n=r.depth;n>0;n--)if(r.node(n).type.spec.tableRole=="table")return e&&e(t.tr.delete(r.before(n),r.after(n)).scrollIntoView()),!0;return!1};function EB(t){if(!t.size)return null;let{content:e,openStart:r,openEnd:n}=t;for(;e.childCount==1&&(r>0&&n>0||e.firstChild.type.spec.tableRole=="table");)r--,n--,e=e.firstChild.content;let i=e.firstChild,o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content,c=l?0:Math.max(0,r-1),d=l<e.childCount-1?0:Math.max(0,n-1);(c||d)&&(u=lm(Jr(a).row,new G(u,c,d)).content),s.push(u)}else if(o=="cell"||o=="header_cell")s.push(r||n?lm(Jr(a).row,new G(e,r,n)).content:e);else return null;return MB(a,s)}function MB(t,e){let r=[];for(let i=0;i<e.length;i++){let o=e[i];for(let a=o.childCount-1;a>=0;a--){let{rowspan:s,colspan:l}=o.child(a).attrs;for(let u=i;u<i+s;u++)r[u]=(r[u]||0)+l}}let n=0;for(let i=0;i<r.length;i++)n=Math.max(n,r[i]);for(let i=0;i<r.length;i++)if(i>=e.length&&e.push($.empty),r[i]<n){let o=Jr(t).cell.createAndFill(),a=[];for(let s=r[i];s<n;s++)a.push(o);e[i]=e[i].append($.from(a))}return{height:e.length,width:n,rows:e}}function lm(t,e){let r=t.createAndFill();return new Jo(r).replace(0,r.content.size,e).doc}function AB({width:t,height:e,rows:r},n,i){if(t!=n){let o=[],a=[];for(let s=0;s<r.length;s++){let l=r[s],u=[];for(let c=o[s]||0,d=0;c<n;d++){let f=l.child(d%l.childCount);c+f.attrs.colspan>n&&(f=f.type.create(Lo(f.attrs,f.attrs.colspan,c+f.attrs.colspan-n),f.content)),u.push(f),c+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)o[s+h]=(o[s+h]||0)+f.attrs.colspan}a.push($.from(u))}r=a,t=n}if(e!=i){let o=[];for(let a=0,s=0;a<i;a++,s++){let l=[],u=r[s%e];for(let c=0;c<u.childCount;c++){let d=u.child(c);a+d.attrs.rowspan>i&&(d=d.type.create(Nr(d.attrs,"rowspan",Math.max(1,i-d.attrs.rowspan)),d.content)),l.push(d)}o.push($.from(l))}r=o,e=i}return{width:t,height:e,rows:r}}function TB(t,e,r,n,i,o,a){let s=t.doc.type.schema,l=Jr(s),u,c;if(i>e.width)for(let d=0,f=0;d<e.height;d++){let h=r.child(d);f+=h.nodeSize;let p=[],m;h.lastChild==null||h.lastChild.type==l.cell?m=u||(u=l.cell.createAndFill()):m=c||(c=l.header_cell.createAndFill());for(let b=e.width;b<i;b++)p.push(m);t.insert(t.mapping.slice(a).map(f-1+n),p)}if(o>e.height){let d=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,i);p++){let b=p>=e.width?!1:r.nodeAt(e.map[m+p]).type==l.header_cell;d.push(b?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}let f=l.row.create(null,$.from(d)),h=[];for(let p=e.height;p<o;p++)h.push(f);t.insert(t.mapping.slice(a).map(n+r.nodeSize-2),h)}return!!(u||c)}function ux(t,e,r,n,i,o,a,s){if(a==0||a==e.height)return!1;let l=!1;for(let u=i;u<o;u++){let c=a*e.width+u,d=e.map[c];if(e.map[c-e.width]==d){l=!0;let f=r.nodeAt(d),{top:h,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(s).map(d+n),null,Nr(f.attrs,"rowspan",a-h)),t.insert(t.mapping.slice(s).map(e.positionAt(a,p,r)),f.type.createAndFill(Nr(f.attrs,"rowspan",h+f.attrs.rowspan-a))),u+=f.attrs.colspan-1}}return l}function cx(t,e,r,n,i,o,a,s){if(a==0||a==e.width)return!1;let l=!1;for(let u=i;u<o;u++){let c=u*e.width+a,d=e.map[c];if(e.map[c-1]==d){l=!0;let f=r.nodeAt(d),h=e.colCount(d),p=t.mapping.slice(s).map(d+n);t.setNodeMarkup(p,null,Lo(f.attrs,a-h,f.attrs.colspan-(a-h))),t.insert(p+f.nodeSize,f.type.createAndFill(Lo(f.attrs,0,a-h))),u+=f.attrs.rowspan-1}}return l}function dx(t,e,r,n,i){let o=r?t.doc.nodeAt(r-1):t.doc,a=qe.get(o),{top:s,left:l}=n,u=l+i.width,c=s+i.height,d=t.tr,f=0;function h(){o=r?d.doc.nodeAt(r-1):d.doc,a=qe.get(o),f=d.mapping.maps.length}TB(d,a,o,r,u,c,f)&&h(),ux(d,a,o,r,l,u,s,f)&&h(),ux(d,a,o,r,l,u,c,f)&&h(),cx(d,a,o,r,s,c,l,f)&&h(),cx(d,a,o,r,s,c,u,f)&&h();for(let p=s;p<c;p++){let m=a.positionAt(p,l,o),b=a.positionAt(p,u,o);d.replace(d.mapping.slice(f).map(m+r),d.mapping.slice(f).map(b+r),new G(i.rows[p-s],0,0))}h(),d.setSelection(new Ne(d.doc.resolve(r+a.positionAt(s,l,o)),d.doc.resolve(r+a.positionAt(c-1,u-1,o)))),e(d)}var FB=new ze("fix-tables");function Dx(t,e,r,n){let i=t.childCount,o=e.childCount;e:for(let a=0,s=0;a<o;a++){let l=e.child(a);for(let u=s,c=Math.min(i,a+3);u<c;u++)if(t.child(u)==l){s=u+1,r+=l.nodeSize;continue e}n(l,r),s<i&&t.child(s).sameMarkup(l)?Dx(t.child(s),l,r+1,n):l.nodesBetween(0,l.content.size,n,r+1),r+=l.nodeSize}}function OB(t,e){let r,n=(i,o)=>{i.type.spec.tableRole=="table"&&(r=zB(t,i,o,r))};return e?e.doc!=t.doc&&Dx(e.doc,t.doc,0,n):t.doc.descendants(n),r}function zB(t,e,r,n){let i=qe.get(e);if(!i.problems)return n;n||(n=t.tr);let o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){let u=i.problems[l];if(u.type=="collision"){let c=e.nodeAt(u.pos);for(let d=0;d<c.attrs.rowspan;d++)o[u.row+d]+=u.n;n.setNodeMarkup(n.mapping.map(r+1+u.pos),null,Lo(c.attrs,c.attrs.colspan-u.n,u.n))}else if(u.type=="missing")o[u.row]+=u.n;else if(u.type=="overlong_rowspan"){let c=e.nodeAt(u.pos);n.setNodeMarkup(n.mapping.map(r+1+u.pos),null,Nr(c.attrs,"rowspan",c.attrs.rowspan-u.n))}else if(u.type=="colwidth mismatch"){let c=e.nodeAt(u.pos);n.setNodeMarkup(n.mapping.map(r+1+u.pos),null,Nr(c.attrs,"colwidth",u.colwidth))}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,u=r+1;l<i.height;l++){let c=e.child(l),d=u+c.nodeSize,f=o[l];if(f>0){let h="cell";c.firstChild&&(h=c.firstChild.type.spec.tableRole);let p=[];for(let b=0;b<f;b++)p.push(Jr(t.schema)[h].createAndFill());let m=(l==0||a==l-1)&&s==l?u+1:d-1;n.insert(n.mapping.map(m),p)}u=d}return n.setMeta(FB,{fixTables:!0})}var Zi=new ze("selectingCells");function fx(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function im(t,e){let r=t.posAtCoords({left:e.clientX,top:e.clientY});return r&&r?xl(t.state.doc.resolve(r.pos)):null}function NB(t,e){let r=e;if(r.ctrlKey||r.metaKey)return;let n=fx(t,r.target),i;if(r.shiftKey&&t.state.selection instanceof Ne)o(t.state.selection.$anchorCell,r),r.preventDefault();else if(r.shiftKey&&n&&(i=xl(t.state.selection.$anchor))!=null&&im(t,r).pos!=i.pos)o(i,r),r.preventDefault();else if(!n)return;function o(l,u){let c=im(t,u),d=Zi.getState(t.state)==null;if(!c||!pm(l,c))if(d)c=l;else return;let f=new Ne(l,c);if(d||!t.state.selection.eq(f)){let h=t.state.tr.setSelection(f);d&&h.setMeta(Zi,l.pos),t.dispatch(h)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",s),Zi.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Zi,-1))}function s(l){let u=Zi.getState(t.state),c;if(u!=null)c=t.state.doc.resolve(u);else if(fx(t,l.target)!=n&&(c=im(t,r),!c))return a();c&&o(c,l)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",s)}function IB(t,e){let r=t.state.doc,n=xl(r.resolve(e));return n?(t.dispatch(t.state.tr.setSelection(new Ne(n))),!0):!1}function t0(t,e,r){return r.eq(t.selection)?!1:(e&&e(t.tr.setSelection(r).scrollIntoView()),!0)}function Cx(t,e,r){if(!(t.state.selection instanceof le))return null;let{$head:n}=t.state.selection;for(let i=n.depth-1;i>=0;i--){let o=n.node(i);if((r<0?n.index(i):n.indexAfter(i))!=(r<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){let s=n.before(i),l=e=="vert"?r>0?"down":"up":r>0?"right":"left";return t.endOfTextblock(l)?s:null}}return null}function Yc(t,e){return(r,n,i)=>{let o=r.selection;if(o instanceof Ne)return t0(r,n,ce.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;let a=Cx(i,t,e);if(a==null)return!1;if(t=="horiz")return t0(r,n,ce.near(r.doc.resolve(o.head+e),e));{let s=r.doc.resolve(a),l=wx(s,t,e),u;return l?u=ce.near(l,1):e<0?u=ce.near(r.doc.resolve(s.before(-1)),-1):u=ce.near(r.doc.resolve(s.after(-1)),1),t0(r,n,u)}}}function Qc(t,e){return(r,n,i)=>{let o=r.selection;if(!(o instanceof Ne)){let s=Cx(i,t,e);if(s==null)return!1;o=new Ne(r.doc.resolve(s))}let a=wx(o.$headCell,t,e);return a?t0(r,n,new Ne(o.$anchorCell,a)):!1}}function e0(t,e){let r=t.selection;if(!(r instanceof Ne))return!1;if(e){let n=t.tr,i=Jr(t.schema).cell.createAndFill().content;r.forEachCell((o,a)=>{o.content.eq(i)||n.replace(n.mapping.map(a+1),n.mapping.map(a+o.nodeSize-1),new G(i,0,0))}),n.docChanged&&e(n)}return!0}var LB=Sd({ArrowLeft:Yc("horiz",-1),ArrowRight:Yc("horiz",1),ArrowUp:Yc("vert",-1),ArrowDown:Yc("vert",1),"Shift-ArrowLeft":Qc("horiz",-1),"Shift-ArrowRight":Qc("horiz",1),"Shift-ArrowUp":Qc("vert",-1),"Shift-ArrowDown":Qc("vert",1),Backspace:e0,"Mod-Backspace":e0,Delete:e0,"Mod-Delete":e0});function BB(t,e,r){if(!Hn(t.state))return!1;let n=EB(r),i=t.state.selection;if(i instanceof Ne){n||(n={width:1,height:1,rows:[$.from(lm(Jr(t.state.schema).cell,r))]});let o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=qe.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return n=AB(n,s.right-s.left,s.bottom-s.top),dx(t.state,t.dispatch,a,s,n),!0}else if(n){let o=i0(t.state),a=o.start(-1);return dx(t.state,t.dispatch,a,qe.get(o.node(-1)).findCell(o.pos-a),n),!0}else return!1}function $B({allowTableNodeSelection:t=!1}={}){return new _e({key:Zi,state:{init(){return null},apply(e,r){let n=e.getMeta(Zi);if(n!=null)return n==-1?null:n;if(r==null||!e.docChanged)return r;let{deleted:i,pos:o}=e.mapping.mapResult(r);return i?null:o}},props:{decorations:qL,handleDOMEvents:{mousedown:NB},createSelectionBetween(e){return Zi.getState(e.state)!=null?e.state.selection:null},handleTripleClick:IB,handleKeyDown:LB,handlePaste:BB},appendTransaction(e,r,n){return WL(n,OB(n,r),t)}})}var r0={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},hx=be("PrevCell"),px=be("NextCell"),mx=be("BreakTable"),RB=be("InsertTable"),PB=new ze("MILKDOWN_TABLE_CONTENT_FILTER"),jB=lr(t=>({schema:()=>({node:{table:qn(dn({},Xc.table),{parseMarkdown:{match:e=>e.type==="table",runner:(e,r,n)=>{let i=r.align,o=r.children.map((a,s)=>qn(dn({},a),{align:i,isHeader:s===0}));e.openNode(n),e.next(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table",runner:(e,r)=>{var n;let i=(n=r.content.firstChild)==null?void 0:n.content;if(!i)return;let o=[];i.forEach(a=>{o.push(a.attrs.alignment)}),e.openNode("table",void 0,{align:o}),e.next(r.content),e.closeNode()}}}),table_row:qn(dn({},Xc.table_row),{parseMarkdown:{match:e=>e.type==="tableRow",runner:(e,r,n)=>{let i=r.align,o=r.children.map((a,s)=>qn(dn({},a),{align:i[s],isHeader:r.isHeader}));e.openNode(n),e.next(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_row",runner:(e,r)=>{e.openNode("tableRow"),e.next(r.content),e.closeNode()}}}),table_cell:qn(dn({},Xc.table_cell),{parseMarkdown:{match:e=>e.type==="tableCell"&&!e.isHeader,runner:(e,r,n)=>{let i=r.align;e.openNode(n,{alignment:i}).openNode(e.schema.nodes.paragraph).next(r.children).closeNode().closeNode()}},toMarkdown:{match:e=>e.type.name==="table_cell",runner:(e,r)=>{e.openNode("tableCell").next(r.content).closeNode()}}}),table_header:qn(dn({},Xc.table_header),{parseMarkdown:{match:e=>e.type==="tableCell"&&!!e.isHeader,runner:(e,r,n)=>{let i=r.align;e.openNode(n,{alignment:i}),e.openNode(e.schema.nodes.paragraph),e.next(r.children),e.closeNode(),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_header",runner:(e,r)=>{e.openNode("tableCell"),e.next(r.content),e.closeNode()}}})}}),inputRules:(e,r)=>[new Ye(/^\|\|\s$/,(n,i,o,a)=>{let s=n.doc.resolve(o);if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.table))return null;let l=nx(r.get(Et)),u=n.tr.replaceRangeWith(o,a,l).scrollIntoView();return u.setSelection(le.create(u.doc,o+3))})],commands:(e,r)=>[ve(hx,()=>lx(-1)),ve(px,()=>lx(1)),ve(mx,()=>XL(r.get(Et).nodes.paragraph)),ve(RB,()=>(n,i)=>{let{selection:o,tr:a}=n,{from:s}=o,l=nx(r.get(Et)),u=a.replaceSelectionWith(l),c=ce.findFrom(u.doc.resolve(s),1,!0);return c&&i?.(u.setSelection(c)),!0})],shortcuts:{[r0.NextCell]:Ve(px,"Mod-]"),[r0.PrevCell]:Ve(hx,"Mod-["),[r0.ExitTable]:Ve(mx,"Mod-Enter")},prosePlugins:(e,r)=>[lB(r,t),uB({}),$B(),new _e({key:PB,filterTransaction:(n,i)=>{let o=n.getMeta("hardbreak"),[a]=n.steps;if(o&&a){let{from:s}=a,l=i.doc.resolve(s),u=l.depth,c=!0;for(;u>0;)l.node(u).type.name==="table"&&(c=!1),u--;return c}return!0}})]})),bl=qn(dn(dn({},yt),r0),{StrikeThrough:"StrikeThrough",TaskList:"TaskList"}),um=be("ToggleStrikeThrough"),gx="strike_through",qB=Hi(t=>({id:gx,schema:()=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",{class:t.getClassName(e.attrs,"strike-through")}],parseMarkdown:{match:e=>e.type==="delete",runner:(e,r,n)=>{e.openMark(n),e.next(r.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===gx,runner:(e,r)=>{e.withMark(r,"delete")}}}),inputRules:e=>[Yn(/(?:~~)([^~]+)(?:~~)$/,e),Yn(/(?:^|[^~])(~([^~]+)~)$/,e)],commands:e=>[ve(um,()=>mo(e))],shortcuts:{[bl.StrikeThrough]:Ve(um,"Mod-Alt-x")}})),cm=be("SplitTaskListItem"),dm=be("SinkTaskListItem"),fm=be("LiftTaskListItem"),hm=be("TurnIntoTaskList"),HB=it(t=>{let e="task_list_item";return{id:e,schema:r=>({group:"listItem",content:"paragraph block*",defining:!0,priority:60,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-item"]',getAttrs:n=>{if(!(n instanceof HTMLElement))throw new Error;return{checked:n.dataset.checked==="true"}}}],toDOM:n=>{let i=document.createElement("input");return i.type="checkbox",i.checked=n.attrs.checked,i.className=t.getClassName(n.attrs,"task-list-item_checkbox"),i.onchange=o=>{let a=o.target;if(!(a instanceof HTMLInputElement))return;let s=r.get(Vr);if(!s.editable){i.checked=!i.checked;return}let{top:l,left:u}=a.getBoundingClientRect(),c=s.posAtCoords({top:l,left:u});if(!c)return;let{tr:d}=s.state;s.dispatch(d.setNodeMarkup(c.inside,void 0,{checked:a.checked}))},["li",{"data-type":"task-item","data-checked":n.attrs.checked?"true":"false",class:t.getClassName(n.attrs,"task-list-item")},i,["span",{class:t.getClassName(n.attrs,"task-list-item_body")},0]]},parseMarkdown:{match:({type:n,checked:i})=>n==="listItem"&&i!==null,runner:(n,i,o)=>{n.openNode(o,{checked:i.checked}),n.next(i.children),n.closeNode()}},toMarkdown:{match:n=>n.type.name===e,runner:(n,i)=>{n.openNode("listItem",void 0,{checked:i.attrs.checked}),n.next(i.content),n.closeNode()}}}),inputRules:r=>[Ei(/^\s*(\[([ |x])\])\s$/,r,n=>({checked:n[n.length-1]==="x"}))],commands:r=>[ve(cm,()=>bc(r)),ve(dm,()=>La(r)),ve(fm,()=>Ia(r)),ve(hm,()=>kn(r))],shortcuts:{[bl.NextListItem]:Ve(cm,"Enter"),[bl.SinkListItem]:Ve(dm,"Mod-]"),[bl.LiftListItem]:Ve(fm,"Mod-["),[bl.TaskList]:Ve(hm,"Mod-Alt-9")},view:()=>(r,n,i)=>{let o=r,a=t.themeManager.get("task-list-item",{editable:()=>n.editable,onChange:c=>{let{tr:d}=n.state;n.dispatch(d.setNodeMarkup(i(),void 0,{checked:c}))}});if(!a)return{};let{dom:s,contentDOM:l,onUpdate:u}=a;return u(o),{dom:s,contentDOM:l,update:c=>c.type.name!==e?!1:(o=c,u(o),!0)}}}}),Sx=Mt.create([...vc,j6(()=>tm),jB(),FL,qB(),HB(),IL(),zL()]),WQ=qn(dn({},tb),{ToggleStrikeThrough:um,TurnIntoTaskList:hm,SinkTaskListItem:dm,LiftTaskListItem:fm,SplitTaskListItem:cm});var _x=!1;J.reg_v2({name:"milkdown",info:"Milkdown",path:["@/.*"],cate:"module"},{milkdown_enable:{ty:"boolean",dft:!1,info:["Enable","启用"],migration:!0},milkdown_theme:{ty:"enum",dft:"nord",vals:["nord","tokyo"],info:["Milkdown theme","主题"],migration:!0},milkdown_preset:{ty:"enum",dft:"commonmark",vals:["commonmark","gfm"],info:["Milkdown preset","预设"],migration:!0}},t=>{t.hook({name:"markdown-replace",info:"替换 markdown 编辑器"},null,({result:e,target:r,gsto:n})=>{!e||!n.milkdown_enable||(_x||(_x=!0,["roboto","material_icons","material_icons_outlined"].forEach(i=>{GM_addStyle(GM_getResourceText(i))})),r.each((i,o,a=C(o),s=a.parent())=>{a.removeClass("exlg-milkdown-before").addClass("exlg-milkdown-mp").css("display","none"),C('<div data-v-6d5597b1 class="exlg-milkdown mp-editor-container"></div>').appendTo(s);let l=E6.make().config(d=>{d.set(Na,document.querySelector(".exlg-milkdown"))}).config(d=>{d.get(Dc).markdownUpdated((f,h,p)=>{ye.markdownPalettes.content=h})}).use(J5.configure(up,{type:"space",size:2})),u=n.milkdown_preset;u==="commonmark"?l.use(vc):u==="gfm"&&l.use(Sx);let c=n.milkdown_theme;c==="nord"?l.use(B6):c==="tokyo"&&l.use(Dy),[ob,xy,rb,ab,P5,U5].forEach(d=>{l.use(d)}),l.create()}))},()=>{C(".mp-editor-container[data-v-6d5597b1][data-v-aa62436e]").each((n,i,o=C(i))=>{o.hasClass("exlg-milkdown-before")||o.hasClass("exlg-milkdown-mp")||o.addClass("exlg-milkdown-before")});let r=C(".exlg-milkdown-before");return r.length?{result:!0,target:r}:{result:!1}})});var Ex='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="door-open" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-door-open fa-w-20"><path data-v-450d4937="" data-v-303bbf52="" fill="currentColor" d="M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"></path></svg>';var Mx="a.sol-btn{transition:opacity 2s cubic-bezier(.8,0,.9,-.03);opacity:0}a.sol-btn:hover{opacity:1}.item-row{display:none}";var Ax=".exlg-back-to-contest{text-decoration:none;float:right;color:#e74c3c}.exlg-back-to-contest:hover{color:#e74c3c}";J.reg("dbc-jump","双击题号跳题","@/.*",null,()=>{C(document).on("dblclick",t=>{let e=window.getSelection().toString().trim().toUpperCase(),r=t.ctrlkey?`${C(".ops > a[href*=blog]").attr("href")}solution-`:"https://www.luogu.com.cn/problem/";Ho(e)&&window.open(r+e)})},null,"module");J.reg("hide-solution","隐藏题解",["@/problem/[A-Z0-9]+","@/problem/solution/.*"],{hidesolu:{ty:"boolean",dft:!1,priv:!0},on:{ty:"boolean",dft:!1}},()=>/@\/problem\/[A-Z0-9]+/g.test(location.href)&&C('a[href^="/problem/solution"]').addClass("sol-btn"),Mx,"module");J.reg_hook_new("back-to-contest","返回比赛列表",["@/problem/[A-Z0-9]+\\?contestId=[1-9][0-9]{0,}"],null,({args:t})=>{let{$info_rows:e}=t,r=C('<a class="exlg-back-to-contest"></a>'),{cid:n}=t,{pid:i}=t;!i||!n||e.children(".exlg-back-to-contest").length>0||r.attr("href",`/contest/${n}#problems`).html(`${Ex}返回列表`).appendTo(e)},t=>{let e=t.target,r=Ce.contest.id,{pid:n}=Ce.problem;return{args:{cid:r,pid:n,$info_rows:C(e.parentNode)},result:e.tagName.toLowerCase()==="a"&&(e.href||"").includes("/record/list")&&e.href.slice(e.href.indexOf("/record/list"))===`/record/list?pid=${n}&contestId=${r}`}},()=>({cid:Ce.contest.id,pid:Ce.problem.pid,$info_rows:C(".info-rows").parent()}),Ax,"module");J.reg_hook_new("submission-color","记录难度可视化","@/record/list.*",null,t=>{(t.pid_taglist??document.body.querySelectorAll(".pid")).forEach(e=>{C(e).addClass("exlg-difficulty-color").addClass(`color-${_feInstance.currentData.records.result.filter(r=>r.problem.pid===e.innerText.trim())[0].problem.difficulty}`)})},t=>t.target&&t.target.tagName.toLowerCase()==="a"&&/^\/problem\/[A-Z][A-Z0-9]+$/.exec(new URL(t.target.href).pathname)?{result:!0,args:{pid_taglist:[t.target.firstChild]}}:{result:!1},()=>null,null,"module");J.reg("mainpage-discuss-limit","主页讨论个数限制",["@/"],{max_discuss:{ty:"number",dft:12,min:4,max:16,step:1,info:["Max Discussions On Show","主页讨论显示上限"],strict:!0}},({msto:t})=>{let e;location.href.includes("blog")||(C(".lg-article").each((r,n,i=C(n))=>{let o=n.childNodes[1];o&&o.tagName.toLowerCase()==="h2"&&o.innerText.includes("讨论")&&(e=i.children(".am-panel"))}),e.each((r,n,i=C(n))=>{r>=t.max_discuss&&i.hide()}))},null,"module");J.reg("user-css","自定义样式表",".*",{css:{ty:"string"}},({msto:t})=>GM_addStyle(t.css),null,"module");J.reg_v2({name:"original-difficulty",info:"显示原始难度",path:["@/problem/CF.*","@/problem/AT.*"],cate:"module"},{cf_src:{ty:"enum",dft:"codeforces.com",vals:["codeforces.com","codeforces.ml","codeforc.es"],info:["Codeforces problem source","CF 题目源"],migration:!0},atdiff:{ty:"string",priv:!0}},t=>{t.chore({name:"atdiff-fetch",info:"获取 AtCoder 难度",period:"10D"},null,({gsto:n})=>{let i={};Yr({url:"https://kenkoooo.com/atcoder/resources/problem-models.json",onload:o=>{let a=JSON.parse(o.responseText);for(let s in a)i[s]=a[s].difficulty;n.atdiff=JSON.stringify(i)}})});let e=null;t.preload({name:"load-difficulty",info:"加载原始难度"},null,({gsto:n})=>e=new Promise((i,o)=>{let a=location.pathname.match(/(CF|AT)([0-9]|[A-Z])*$/g)[0].substring(2);if(location.pathname.includes("CF")){let s=a.match(/^[0-9]*/g)[0],l=a.substring(s.length);Yr({url:`https://${n.cf_src}/problemset/problem/${s}/${l}`,onload:u=>{let c=C(u.responseText).find("span[title=Difficulty]").text().trim();i(c?c.substring(1):null)},onerror:u=>{Ft(u),o(u)}})}else{let s=JSON.parse(n.atdiff),l=Ce.problem.description.match(/^.{22}[-./A-Za-z0-9_]*/g)[0].match(/[^/]*$/g)[0];l in s?i(Math.round(s[l]>=400?s[l]:400/Math.exp(1-s[l]/400))):i(null)}}));let r="";t.hook({name:"difficulty-display",info:"显示原始难度"},null,({result:n,target:i})=>{if(!n)return;let o=C(i[3]),a=o.clone(!0);o.after(a);let[s,l]=a.find("span").get().map(u=>C(u));s.text("原始难度"),l.text("获取中"),e.then(u=>l.text(u??"不可用"))},n=>{if(r===location.href)return!1;let i=n.target.querySelectorAll&&n.target.querySelectorAll("div.stat > div.field");return i?.length>0?(r=location.href,{result:!0,target:i}):{result:!1}})});var Tx=".exlg-rand-settings{display:inline-block;padding:1px 5px;background-color:#fff;border:1px solid #6495ED;color:#6495ed;border-radius:6px;font-size:12px;position:relative;top:-2px}.exlg-rand-settings.selected{background-color:#6495ed;border:1px solid #6495ED;color:#fff}.exlg-rand-settings:hover{box-shadow:0 0 7px #1e90ff}.exlg-smallbtn{position:relative;display:inline-block;padding:1px 5px;color:#fff;border-radius:6px;font-size:12px;margin-left:1px;margin-right:1px}.exrand-enabled{width:49%;float:left}.exrand-disabled{width:49%;float:right}#exlg-dash-0>#exlg-exrand-window{width:250px;height:300px;z-index:6;background:white;color:#000;border-radius:7px;box-shadow:#bbe3ff 0 0 7px;visibility:hidden;opacity:0;transition:.233s ease all;position:absolute;left:-100px;top:20px;z-index:9;font-weight:initial}#exlg-dash-0:hover>#exlg-exrand-window{visibility:visible;opacity:1;transition-delay:unset}";J.reg("rand-problem-ex","随机跳题_ex","@/",{exrand_difficulty:{ty:"tuple",lvs:y0(Array.from("11111111").map(t=>!!t),{ty:"boolean",strict:!0}),priv:!0},exrand_source:{ty:"tuple",lvs:y0(Array.from("10000").map(t=>!!t),{ty:"boolean",strict:!0}),priv:!0}},({msto:t})=>{let e=[["入门","red"],["普及-","orange"],["普及/提高-","yellow"],["普及 +/提高","green"],["提高 +/省选-","blue"],["省选/NOI-","purple"],["NOI/NOI+/CTSC","black"],["暂无评定","gray"]].map((b,x,k)=>({text:b[0],color:b[1],id:(x+1)%k.length})),r=[{text:"洛谷题库",color:"red",id:"P"},{text:"Codeforces",color:"orange",id:"CF"},{text:"SPOJ",color:"yellow",id:"SP"},{text:"AtCoder",color:"green",id:"AT"},{text:"UVA",color:"blue",id:"UVA"}],n=b=>{Ho(b)&&(b=b.toUpperCase()),b===""||typeof b>"u"?ye.show_alert("提示","请输入题号"):location.href=`https://www.luogu.com.cn/problemnew/show/${b}`},i=C("input[name='toproblem']");i.after(i.clone()).remove(),i=C("input[name='toproblem']");let o=C(".am-btn[name='goto']");o.after(o.clone()).remove(),o=C(".am-btn[name='goto']");let a=o.parent(),s=C('<div id="exlg-dash-0" class="exlg-rand-settings">ex 设置</div>');C(".am-btn[name='gotorandom']").text("随机");let l=C('<button class="am-btn am-btn-success am-btn-sm" name="gotorandomex">随机 ex</button>').appendTo(a);o.on("click",()=>{/^[0-9]+.?[0-9]*$/.test(i.val())&&i.val(`P${i.val()}`),n(i.val())}),i.on("keydown",b=>{b.keyCode===13&&o.click()});let u=C(`<span id="exlg-exrand-window" class="exlg-window" style="display: block;">
    <br>
    <ul></ul>
    </span>`).appendTo(s).css({position:"absolute",left:"-100px",top:"20px","z-index":9,"font-weight":"initial"});C(".lg-index-stat>h2").text("问题跳转 ").append(s);let c=u.children("ul").css("list-style-type","none"),d=C('<div id="exlg-exrand-menu"></div>').appendTo(c);C("<br>").appendTo(c);let f=C('<div id="exlg-exrand-diff" class="smallbtn-list"></div>').appendTo(c),h=C('<div id="exlg-exrand-srce" class="smallbtn-list"></div>').appendTo(c).hide(),p=C.double(b=>C(`<div class="exlg-rand-settings exlg-unselectable exrand-entry">${b}</div>`).appendTo(d),"题目难度","题目来源");p[0].after(C('<span class="exlg-unselectable">&nbsp;&nbsp;</span>')),p[0].addClass("selected").css("margin-right","38px"),C.double(([b,x])=>{b.on("click",()=>{C(".exrand-entry").removeClass("selected"),b.addClass("selected"),C(".smallbtn-list").hide(),x.show()})},[p[0],f],[p[1],h]),C.double(([b,x,k])=>{let D=C.double(([z,O])=>C(`<span class="${z}">
        <span class="lg-small lg-inline-up exlg-unselectable">${O}</span>
        <br>
        </span>`).appendTo(b),["exrand-enabled","已选择"],["exrand-disabled","未选择"]);x.forEach((z,O)=>{let E=C.double(T=>C(`<div class="exlg-smallbtn exlg-unselectable">${z.text}</div>`).css("background-color",`var(--lg-${z.color}-problem)`).appendTo(T),D[0],D[1]);C.double(T=>{E[T].on("click",()=>{E[T].hide(),E[1-T].show(),k[O]=!!T}),k[O]===!!T&&E[T].hide()},0,1)})},[f,e,t.exrand_difficulty],[h,r,t.exrand_source]),C("#exlg-dash-0").on("mouseenter",()=>{C.double(([b,x])=>{C.double(([k,D])=>{b.children(k).children(".exlg-smallbtn").each((z,O,E=C(O))=>x[z]===D?E.show():E.hide())},[".exrand-enabled",!0],[".exrand-disabled",!1])},[f,t.exrand_difficulty],[h,t.exrand_source])});let m=async()=>{let b=C.double(([N,R,X])=>{let K=[];return N.forEach((ne,H)=>{R[H]&&K.push(ne.id)}),K.length||(K=X,N.forEach((ne,H)=>R[H]=X.includes(ne.id))),K[Math.floor(Math.random()*K.length)]},[e,t.exrand_difficulty,[0,1,2,3,4,5,6,7]],[r,t.exrand_source,["P"]]),x=await Sr(`/problem/list?difficulty=${b[0]}&type=${b[1]}&page=1`),k=x.currentData.problems.count,D=Math.ceil(k/50),z=Math.floor(Math.random()*D)+1;x=await Sr(`/problem/list?difficulty=${b[0]}&type=${b[1]}&page=${z}`);let O=x.currentData.problems.result,E=Math.floor(Math.random()*O.length),{pid:T}=O[E];location.href=`/problem/${T}`};l.on("click",m)},Tx,"module");var Fx=".exlg-rand-training-problem-btn{border-color:#343434;background-color:#343434}";J.reg_hook_new("rand-training-problem","题单内随机跳题","@/training/[0-9]+(#.*)?",{mode:{ty:"enum",vals:["unac only","unac and new","new only"],dft:"unac and new",info:["Preferences about problem choosing","随机跳题的题目种类"]}},({msto:t,args:e})=>{let r=t.mode.startsWith("unac")+t.mode.endsWith("only")*-1+2;!e.length||C(e[0].firstChild).clone(!0).appendTo(e).text("随机跳题").addClass("exlg-rand-training-problem-btn").on("click",()=>{let n=Ce.training,i=[];for(let a of n.problems)if(n.userScore===null)i.push(a.problem.pid);else{let s=n.userScore.score[a.problem.pid];(s===null&&r&1||s<a.problem.fullScore&&r&2)&&i.push(a.problem.pid)}if(!n.problemCount)return Se("题单不能为空");if(!i.length)return r===1?Se("您已经做完所有新题啦！"):r===2?Se("您已经订完所有错题啦！"):Se("您已经切完所有题啦！");let o=~~(Math.random()*1e6)%i.length;location.href=`https://www.luogu.com.cn/problem/${i[o]}`})},t=>{let e=C(t.target).find("div.operation");return{result:e.length>0,args:e}},()=>C("div.operation"),Fx,"module");var Ox="iframe{border:none;display:block;width:100%;height:100%}iframe::-webkit-scrollbar{display:none}";J.reg_main("springboard","跨域跳板",["@bili/robots.txt?.*","@/robots.txt?.*"],null,()=>{let t=new URLSearchParams(location.search);switch(t.get("type")){case"update":ye.addEventListener("message",r=>{r.data.unshift("update"),ye.parent.postMessage(r.data,"*")});break;case"page":let e=t.get("url");(!t.get("confirm")||confirm(`是否加载来自 ${e} 的页面？`))&&(document.body.innerHTML=`<iframe src="${e}" exlg="exlg"></iframe>`);break;case"dash":break}},Ox);var zx=".exlg-rand-tasklist-problem-btn{margin-left:.5em}";J.reg("tasklist-ex","任务计划 ex","@/",{auto_clear:{ty:"boolean",dft:!0,info:["Hide accepted problems","隐藏已经 AC 的题目"]},rand_problem_in_tasklist:{ty:"boolean",dft:!0,info:["Random problem in tasklist","任务计划随机跳题"]}},({msto:t})=>{let e=[];C.each(C("div.tasklist-item"),(o,a,s=C(a))=>{let l=s.attr("data-pid");a.innerHTML.search(/check/g)===-1&&t.rand_problem_in_tasklist&&e.push(l),s.find("i").hasClass("am-icon-check")&&s.addClass("tasklist-ac-problem")});let r=C('<div>[<a id="toggle-button">隐藏已 AC</a>]</div>');C("button[name=task-edit]").parent().after(r);let n=C(".tasklist-ac-problem"),i=C("#toggle-button").on("click",()=>{n.toggle(),i.text(`${["隐藏","显示"][+(t.auto_clear=!t.auto_clear)]}已 AC`)});if(t.auto_clear&&i.click(),t.rand_problem_in_tasklist){let o=C('<button name="task-rand" class="am-btn am-btn-sm am-btn-success lg-right">随机</button>');C("button[name='task-edit']").before(o),o.addClass("exlg-rand-tasklist-problem-btn").click(()=>{let a=~~(Math.random()*1e6)%e.length;location.href+=`problem/${e[a]}`})}},zx,"module");J.reg_chore("token","exlg 令牌","10m","@/.*",{token:{ty:"string",priv:!0}},async({msto:t})=>{if(unsafeWindow._feInjection.currentUser){if(t.token){let r=(await Lr("https://exlg.piterator.com/token/ttl",{uid:unsafeWindow._feInjection.currentUser.uid,token:t.token})).data;if(r.status!==401&&r.data>=60*15)return!1}let e=(await Lr("https://www.luogu.com.cn/paste/new?_contentOnly",{data:(await b0("https://exlg.piterator.com/token/generate")).data.data,public:!0},{"x-csrf-token":C("[name='csrf-token']").attr("content"),referer:"https://www.luogu.com.cn/paste"})).data.id;t.token=(await b0(`https://exlg.piterator.com/token/verify/${e}`)).data.data.token,await Lr(`https://www.luogu.com.cn/paste/delete/${e}?_contentOnly`,{},{"x-csrf-token":C("[name='csrf-token']").attr("content"),referer:"https://www.luogu.com.cn/paste"})}else return!0});var Nx="*M 修改了保存站域名到 `lglg.top`\n : 短时间内不会再更新 legacy version 了。";var Ix=".exlg-update-log-text{overflow-x:auto;white-space:nowrap;text-align:left}";J.reg_chore("update","检查更新","1D",".*",null,async()=>{let[t,e]=await ql();e==="<<"&&Se(`<p>检测到新版本 ${t}，点击确定将安装。</p>`,"检测到新版本",()=>location.href="https://exlg.oss-cn-shanghai.aliyuncs.com/latest/dist/extend-luogu.min.user.js")});var QB=["$","#<@"].map(t=>t.split("")),Lx={Ty:{"-":"添加",x:"删减","!":"重大","*":"修改","^":"修复",$:"重构"},Op:{"-":"特性","?":"文档","#":"依赖","<":"代码风格",">":"命令",M:"模块",H:"钩子","@":"GitHub Action"}};J.reg("update-log","更新日志显示","@/.*",{last_version:{ty:"string",priv:!0},style:{ty:"enum",vals:["Commit Message","自然语言"],get:"id",info:["The way to display log","显示 Log 的方式"]},keep_dev:{ty:"boolean",dft:!0,info:["Keep developer messages","保留开发者更新信息"]}},({msto:t})=>{if(location.href.includes("blog"))return;let{version:e}=GM_info.script,r=!1,n=i=>{let o=`<div class="exlg-update-log-text" style="font-family: ${Re["code-block-ex"].copy_code_font};">`;return i.split(`
`).forEach(a=>{let s=a.trimStart();if(s.length){if(t.keep_dev)r=!1;else if(s[0]===":"){if(!r)return}else if(QB.some((l,u)=>l.includes(s[u]))){r=!1;return}else r=!0;t.style===1&&s[0]!==":"&&(a=" ".repeat(a.length-s.length)+Lx.Ty[s[0]]+Lx.Op[s[1]]+s.substring(2))}o+=`<div>${a.replace(/ /g,"&nbsp;")}</div>`}),`${o}</div>`};switch(yi(t.last_version,e)){case"==":break;case"<<":Se(n(Nx),`extend-luogu ver. ${e} 更新日志`);case">>":t.last_version=e}},Ix,"module");var Bx='<svg class="icon exlg-usercom-edit" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="942"><path d="M295.384615 708.923077h433.23077a19.692308 19.692308 0 1 1 0 39.384615h-433.23077a19.692308 19.692308 0 1 1 0-39.384615zM590.769231 303.576615L618.653538 275.692308l72.979693 73.019077-27.844923 27.844923L590.769231 303.576615z m-236.307693 196.923077L382.345846 472.615385l89.284923 89.324307-27.844923 27.844923L354.461538 500.499692zM401.329231 616.841846l308.342154-308.342154-55.689847-55.689846-308.381538 308.342154-8.152615 63.881846 63.881846-8.192z m-93.065846-74.043077l317.833846-317.833846a39.384615 39.384615 0 0 1 55.729231 0l55.689846 55.689846a39.384615 39.384615 0 0 1 0 55.689846l-317.833846 317.833847-127.763693 16.344615 16.344616-127.724308z" p-id="943"></path></svg>';var $x=".exlg-usercom-edit{transition:all .4s;opacity:0;border-radius:.2em;margin-left:.2em;width:1em;height:1em;vertical-align:middle;fill:currentColor;overflow:hidden}.exlg-usercom-edit:hover{transition:all .4s;opacity:.8;background:rgba(0,0,0,.1)}.exlg-usercom-tag{color:#8a7b7b;font-weight:lighter;font-size:.9em;margin-left:.3em;line-height:1em;font-family:Consolas}";var $t=null;J.reg_hook_new("user-comment","用户备注",".*",{comments:{ty:"string",dft:"{}",priv:!0},direct_display:{ty:"boolean",dft:!0,info:["Directly replace username","直接替换用户名"]}},({msto:t,result:e,args:r})=>{let n=(i,o,a=i.attr("exlg-usercom"))=>{if(!i||!i.length)return;if(i.length>1){i.each((l,u)=>n(C(u),o));return}let s=i;i.children("span[style]").length&&(s=i.children("span[style]")),t.direct_display?(s.css("white-space","pre"),s.text(o??a)):(s.children("span.exlg-usercom-tag").remove(),o&&s.append(`<span class="exlg-usercmt exlg-usercom-tag">(${o})</span>`))};if(!e){$t=JSON.parse(t.comments);for(let[i,o]of Object.entries($t))(o===null||o==="")&&delete $t[i];if(/^\/user\/[1-9][0-9]{0,}$/.test(location.pathname)){let i=C(".user-header-top > .user-info > div.user-name"),o=i[0].firstElementChild.innerText.trim(),a=+location.pathname.slice(6),s=C('<span id="exlg-name-text" style="font-size: medium;color: #ddd;" class="exlg-usercom-tag"></span>').appendTo(i);s.text(`(${a in $t?$t[a]:o})`),a in $t||s.hide();let l=C(`<span title="修改用户备注">${Bx}</span>`);i.append(l),l.on("click",()=>{Se(`<div>请设置用户 <span style="font-family: Consolas;">${o} (uid: ${a})</span> 的备注名。<br/><small>留空则清除备注。</small></div><input exlg-badge-register type="text" style="font-family: Consolas;line-height: 1.5;padding: .1em;" class="am-form-field exlg-badge-input" placeholder="${o}" name="username" id="exlg-user-com-input">`,"exlg 用户备注",()=>{let u=C("#exlg-user-com-input").val();return u.trim()===""?(delete $t[a],u=o,s.hide()):($t[a]=u.trim(),s.show()),n(C(`a[href="/user/${a}"][target=_blank]`),t.direct_display?$t[a]??o:$t[a],o),t.comments=JSON.stringify($t),s.text(`(${a in $t?$t[a]:o})`),!0}),C("#exlg-user-com-input").val(a in $t?$t[a]:o)})}}r.forEach(i=>{let o=C(i),a=i.href.split("/").at(-1);typeof o.attr("exlg-usercom")<"u"||(o.attr("exlg-usercom",o.text().trim()),(!a||a==="javascript:void 0")&&(a=C(i.parentNode.parentNode.previousElementSibling??i.parentNode.parentNode.parentNode.parentNode.parentNode.previousElementSibling).find("img").attr("src").replace(/[^0-9]/ig,"")),a in $t&&n(o,$t[a]))})},t=>{if(/^\/user\/[0-9]{0,}.*$/.test(location.pathname)&&(C(t.target).hasClass("feed")&&!C(t.target).hasClass("exlg-badge-feed")||/^#following/.test(location.hash)&&C(t.target).parent().hasClass("sub-body"))){let r=Array.from(t.target.querySelectorAll("a[target='_blank']")).filter(n=>!n.querySelectorAll("svg").length);return{result:r.length,args:r}}let e=t.target.querySelectorAll('a[href^="/user"][target=_blank]');return{result:e.length>0,args:e}},()=>{if(/^\/user\/[0-9]{0,}.*$/.test(location.pathname)){if(location.hash==="#activity")return Array.from(document.querySelectorAll(".feed .wrapper>a[target='_blank']")).filter(t=>!t.querySelectorAll("svg").length);if(/^#following/.test(location.hash))return Array.from(document.querySelectorAll(".follow-container .wrapper>a[target='_blank']")).filter(t=>!t.querySelectorAll("svg").length)}return document.querySelectorAll("a[target='_blank'][href^='/user/']")},$x,"module");var Rx="iframe{border:none;display:block}iframe::-webkit-scrollbar{display:none}";J.reg_user_tab("user-intro-ins","用户首页_HTML_显示","main",null,null,()=>{function t(){C(".introduction > *").each(async(r,n,i=C(n))=>{let o,a=i.children()[0];C(a).length!==0&&a.nodeName==="A"?o=C(a).attr("href"):o=i.text();let[,,s,l]=o.match(/^(exlg.|%)([a-z|-]+):([^]+)$/)??[];if(!s)return;let u=l.split(/(?<!!)%/g).map(d=>d.replace(/!%/g,"%")),c=C(C(".user-action").children()[0]);if(s==="html")i.replaceWith(C(`<p exlg="exlg">${eo.process(u[0])}</p>`));else if(s==="frame")i.replaceWith(zl({type:"page",url:encodeURI(u[0]),confirm:!0},`width: ${u[1]}; height: ${u[2]};`));else if(s==="blog"){if(c.text().trim()!=="个人博客")return;c.attr("href",u),i.remove()}else if(s==="html-paste"){if(u[0].trim()==="")return;let d=await Sr(`/paste/${u[0].trim()}`);i.replaceWith(C(`<p exlg="exlg">${eo.process(d.currentData.paste.data)}</p>`))}})}t();function e(r,n){return n===0?r:C(e(C(r.children()[0]),n-1))}e(C("section.main"),3).addClass("lg-editt"),C("button.lg-editt").on("click",()=>{let r=e(C("section.main"),2),n=C(r.children()[0]),i=C(r.children()[1]);n.addClass("lg-editt"),i.addClass("lg-editt"),t()})},Rx,"module");var mm={NOT_AT_PRACTICE_PAGE:-1,NONE:-2,COMMENT_TAG:-3,NOT_A_PROBLEM_ELEMENT:-4,PRIVATE_INFORMATION:-5,ADD_COMPARE:1};var Px=".main>.card>h3{display:inline-block}";J.reg_v2({name:"user-problem-color",info:"题目颜色数量和比较",path:"@/user/[0-9]{0,}.*",cate:"module"},{problem_compare:{ty:"boolean",strict:!0,dft:!0,info:["AC compare","AC 题目比较"],migration:!0}},t=>{let e={SUBMITTED_PROBLEMS:0,PASSED_PROBLEMS:1},r=[[191,191,191],[254,76,97],[243,156,17],[255,193,22],[82,196,26],[52,152,219],[157,61,207],[14,29,105]],n,i,o=-1,a=e.SUBMITTED_PROBLEMS,s=-1;t.preload({name:"compare-problem",info:"比较通过的题目"},null,({gsto:l})=>{n=typeof Ce.submittedProblems>"u"||typeof Ce.passedProblems>"u",l.problem_compare&&!n&&(i=new Promise(u=>{Sr(`/user/${pe.uid}`).then(c=>{u(new Set(c.currentData.passedProblems.map(d=>d.pid)))}).catch(c=>{Ft(c)})}))}),t.hook({name:"problem-color",info:"题目颜色"},null,({gsto:l,args:u})=>{if(n)return;let c=d=>`rgb(${r[d][0]},${r[d][1]},${r[d][2]})`;u.forEach(d=>{if(d.target.href!=="javascript:void 0"&&(d.target.style.setProperty("color",c([(d.board_id?Ce.passedProblems:Ce.submittedProblems)[d.position].difficulty]),"important"),d.board_id===e.PASSED_PROBLEMS&&d.position===Ce.passedProblems.length-1||Ce.passedProblems.length===0&&d.board_id===e.SUBMITTED_PROBLEMS&&d.position===Ce.submittedProblems.length-1)){C(".exlg-counter").remove();let f=d.target.parentNode.parentNode.parentNode.parentNode,h=[f.firstChild.childNodes[2],f.lastChild.childNodes[2]];for(let p=0;p<2;++p){let m=h[p],b=Ce[["submittedProblems","passedProblems"][p]];m.before(C(`<span id="exlg-problem-count-${p}" class="exlg-counter" exlg="exlg">${b.length}</span>`)[0])}if(!l.problem_compare||Ce.user.uid===pe.uid)return;i.then(p=>{let m=0,b=h[1],x=Ce.passedProblems;b.querySelectorAll("a").forEach((k,D)=>{D<x.length&&p.has(x[D].pid)&&(m++,k.style.backgroundColor="rgba(82, 196, 26, 0.3)")}),C("#exlg-problem-count-1").html(`<span class="exlg-counter" exlg="exlg">${x.length} <> ${p.size} : ${m}<i class="exlg-icon exlg-info" name="ta 的 &lt;&gt; 我的 : 相同"></i></span>`)})}})},l=>{if(location.hash!=="#practice")return{result:!1};if(!Ce.submittedProblems.length&&!Ce.passedProblems.length){if(l.target.className==="card padding-default")if(C(l.target).children(".problems").length){let f=Ce[["submittedProblems","passedProblems"][s]];if(C(l.target.firstChild).after(`<span id="exlg-problem-count-${s}" class="exlg-counter" exlg="exlg" style="margin-left: 5px">${f.length}</span>`),++s>1)return{result:!0,args:{message:mm.ADD_COMPARE}}}else C(l.target).children(".difficulty-tags").length&&(s=0);return{result:!1,args:{message:mm.NONE}}}if(l.target.tagName.toLowerCase()!=="a"||l.target.className!=="color-default"||!l.target.pathname.startsWith("/problem/"))return{result:!1};let u=l.target,c=[Ce.submittedProblems[0]?.pid,Ce.passedProblems[0]?.pid].indexOf(u.href.slice(33)),d=c!==-1;return d?(a=c,o=0):o++,{result:!0,args:[{onchange:d,board_id:a,position:o,target:u}]}})},Px);var jx="#exlg-vp{margin-right:.5em;display:inline-block;flex:none;outline:0;cursor:pointer;color:#fff;font-weight:inherit;line-height:1.5;text-align:center;vertical-align:middle;background:0 0;border-radius:3px;border:1px solid;border-color:#52c41a;background-color:#52c41a}";J.reg("virtual-participation","创建重现赛","@/contest/[0-9]*(#.*)?",{},()=>{if(Ce.contest.name.match("Virtual Participation")){let t=C(".items"),e=()=>{(location.hash||"#main")==="#problems"&&C(".pid").length!==0&&Ce.contest.startTime>Cr()&&(C("a.title.color-default").on("click",()=>{Se("比赛尚未开始，请开始后再查看题目")}),C("a.title.color-default").removeAttr("href"))};t.on("click",e),e();return}if(Ce.contest.endTime>Cr()){Dr("Contest has not started or ended.");return}C("<button id='exlg-vp' class='lfe-form-sz-middle'>重现比赛</button>").appendTo(C("div.operation")).click(async()=>{Se(`<div>
                <p>设置「${Ce.contest.name}」的重现赛</p>
                <p>开始时间：<input type="date" id="vpTmDt"/> <input type="time" id="vpTmClk"/></p>
            </div><br>`,"创建重现赛",async()=>{let t=C("#vpTmDt")[0].value.split("-"),e=C("#vpTmClk")[0].value.split(":"),r=new Date(t[0],t[1]-1,t[2],e[0],e[1],0,0);r=r.getTime()/1e3;let n=[],i={};C.each(Ce.contestProblems,(l,u)=>{n.push(String(u.problem.pid)),i[u.problem.pid]=u.problem.fullScore});let o=null;o=await qo("/fe/api/contest/new",JSON.stringify({settings:{name:`Virtual Participation for ${Ce.contest.name}`,description:Ce.contest.description,visibilityType:5,invitationCodeType:1,ruleType:Ce.contest.ruleType,startTime:r,endTime:r+Ce.contest.endTime-Ce.contest.startTime,rated:!1,ratingGroup:null},hostID:pe.uid}));let a=o.id.toString();(o.status??200)===200?a=o.id.toString():Ft(`Failed to modify contest ${a} with status code ${o.status}.`),o=null;try{o=await qo(`/fe/api/contest/editProblem/${a}`,JSON.stringify({pids:n,scores:i}))}catch{return setTimeout(Se("<p>本场比赛的题目不公开</p>","重现赛创建失败"),500),!1}let s=await Sr(`/contest/edit/${a}`);return await qo(`/fe/api/contest/join/${a}`,`{"code": "${s.currentData.contest.joinCode}"}`),Se(`<p>邀请码: ${s.currentData.contest.joinCode}</p>
                    <p>点确定自动跳转</p>`,"重现赛创建成功",()=>(location.href=`https://www.luogu.com.cn/contest/${a}`,!0)),!1})})},jx,"module");J.reg("meta-discussion-guiding","元讨论引导",["@/discuss/lists\\?forumname=(siteaffairs|problem|academics|relevantaffairs|service).*"],{},()=>{let t="432028",e=[/exlg/i,/ex(tend)?[- ]luogu/i,/badge/i],r=C("#newpost"),n=C(".lg-input-title"),i=C("#submitpost"),o=i.wrap("<div></div>").parent(),a=`<a href="/discuss/${t}"><b>专贴</b></a>`;r.after(`<p>exlg 相关问题请在 ${a} 讨论</p>`),o[0].addEventListener("click",s=>{let l=ye.markdownPalettes.content?.toLowerCase(),u=n.val(),c=e.map(d=>[l.match(d)?.[0],u.match(d)?.[0]]).flat().filter((d,f,h)=>d&&d!==h[f+1]);if(c.length){s.stopPropagation();let d;Se(`检测到您将要发送的讨论内容包含与 exlg 有关的关键词：<br />${c.map(f=>`“${f}”`).join(", ")}<br />建议前往 ${a} 讨论。<br />这是为了防止占用讨论资源，营造一个更高质量的社区。 <br />我们很担心 exlg 相关讨论霸占版面，造成负面影响。<br /><span style="color: orange"><b>洛谷管理员提醒您：发布无意义讨论可能导致禁言。</b> <br /><small>* 无意义讨论包括但不限于“大家看得到我的 badge 吗” 等等</small></span> <br />如果您确定要发送，请在下方输入框键入 “放心” 后确定。<br/><small comment>（输入框过一会才会出现）</small>`,"exlg 提醒您",{onconfirm:()=>!d||d.val()!=="放心"?!1:(setTimeout(i.trigger("click"),500),!0),onopen:async({dom:{$main:f}})=>{await e1(3e3),f.find("small[comment]").remove(),d=C('<input type="text" />').appendTo(f)}})}},!0)},"","module");J.reg_lfe("import-problem-to-cph","添加到 cph",["@/problem/[A-Z]+[0-9]+[A-Z]*(#.*)?(\\?contestId=[0-9]*)?","@/record/.*","@/contest/[0-9]+(#.*)?"],{auto_hide_button:{ty:"boolean",dft:!0,strict:!0,info:["Auto Hide Button","自动隐藏按钮"]},problem_template:{ty:"string",dft:"Luogu_${pid}",info:["Custom Problemname Template (Not Contest)","自定义题目名称格式（非比赛）"]},contest_template:{ty:"string",dft:"Luogu_${cid}_${pid}",info:["Custom Problemname Template (Contest)","自定义题目名称格式（比赛）"]}},async t=>{function e(o,a="problem",s=0){C.get(o,l=>{function u(h){return new DOMParser().parseFromString(h,"text/html").documentElement}let c;l=u(l);for(let h of l.querySelectorAll("script")){let p=h.textContent;if(p.startsWith("window._feInjection")){let m=p.indexOf('"'),b=p.substr(m+1).indexOf('"'),x=p.substr(m+1,b);c=JSON.parse(decodeURIComponent(x)).currentData.problem}}if(c==null)throw new Error("Failed to find problem data");let d=[];for(let h of c.samples)d.push({input:h[0],output:h[1]});let f=t.msto.problem_template;a==="contest"&&(f=t.msto.contest_template,f=f.replace("${cid}",`${s}`)),f=f.replace("${pid}",c.pid),GM_xmlhttpRequest({url:"http://localhost:27121/",method:"POST",data:JSON.stringify({batch:{id:"exlg",size:1},name:f,group:"Luogu",url:o,interactive:"false",memoryLimit:Math.floor(Math.max(...c.limits.memory)/1024),timeLimit:Math.max(...c.limits.time),tests:d,input:{type:"stdin"},output:{type:"stdout"},language:{java:{mainClass:"Main",taskClass:c.pid}},testType:"single"}),onload(h){h.status===502&&Se("未启动 cph，传输失败！")},onerror(){Se("未启动 cph，传输失败！")}})})}if(!C("div.operation").length||window.location.href.search("/record/")!==-1)return;let r=new Promise(o=>{GM_xmlhttpRequest({url:"http://localhost:27121/",method:"POST",onload(){o(!0)},onerror(){o(!1)}})});function n(){window.location.href.search("/contest/")!==-1?C("button.exlg-cph").click(async()=>{let{href:o}=window.location,a=o.search("#");a!==-1&&(o=o.substring(0,a));let s=await Sr(o);s.currentData.contestProblems===null&&Se("比赛未开始！");let l=s.currentData.contestProblems;for(let u=0;u<l.length;u++)e(`https://www.luogu.com.cn/problem/${l[u].problem.pid}`,"contest",s.currentData.contest.id)}):C("button.exlg-cph").click(()=>{e(window.location.href)})}!await r&&t.msto.auto_hide_button||(C("button.lfe-form-sz-middle").addClass("lg-btm"),window.location.href.search("#submit")===-1&&C("button.exlg-cph").length===0&&(C("div.operation").append('<button data-v-7ade990c="" data-v-43063e73="" type="button" class="exlg-cph lfe-form-sz-middle" data-v-2dfcfd35="" style="border-color: rgb(52, 152, 219); background-color: rgb(52, 152, 219);"> 传送至 cph </button>'),n()),C("button.lg-btm").click(()=>{window.location.href.search("#submit")===-1?C("button.exlg-cph").length===0&&(C("button.lfe-form-sz-middle").addClass("lg-btm"),C("div.operation").append('<button data-v-7ade990c="" data-v-43063e73="" type="button" class="exlg-cph lfe-form-sz-middle" data-v-2dfcfd35="" style="border-color: rgb(52, 152, 219); background-color: rgb(52, 152, 219);"> 传送至 cph </button>'),n()):C("button.exlg-cph").remove()}))},null,"module");var qx=t=>JSON.parse(JSON.stringify(t)),Rt=(t,e)=>{throw globalThis[t](`[ProxyData] ${e}`)},gm=()=>({get:GM_getValue,set:GM_setValue,del:GM_deleteValue,list:GM_listValues});var o$=t=>t?.__scm__?.ty?t.__scm__.ty:t===null?"null":Array.isArray(t)?"array":t instanceof RegExp?"regexp":typeof t,a$={string_number:t=>+t,string_regexp:t=>t,number_string:t=>""+t,number_boolean:t=>!!t},s$={object:{layer:1,container:()=>({})},tuple:{layer:1,container:()=>[]},array:{layer:2,container:()=>[],api:(t,e,r=e.__scm__,n=e.__tar__)=>({$new(i,o=1){for(let a=i+o;i<a;i++){let s=t.scm.lvs[a];s&&Rt("ReferenceError",`Leaf @ ${s.path} already exists, but was attempted to re-new.`),a0(t,a,e,n,!0)}},get $length(){return r.lvs.length},$push(...i){return i.forEach(o=>e[r.lvs.length]=o),r.lvs.length},$fill(i,o=0,a=r.lvs.length){for(;o<a;o++)e[o]=i;return e},$pop(){let i=r.lvs.length,o=e[i-1];return delete e[i-1],r.lvs.length--,o},$splice(i,o){let a=r.lvs.length;for(o??=a,o=Math.min(a-i,o);i<a;i++)e[i]=i+o<a?e[i+o]:void 0;r.lvs.length-=o},$swap(i,o){e.__tmp__=e[i],e[i]=e[o],e[o]=e.__tmp__,delete e.__tmp__},$reverse(){let i=r.lvs.length,o=Math.floor(i/2);for(let a=0;a<o;a++)a in r.lvs&&e.$swap(a,i-a-1);return e},$includes(i){let o=r.lvs.length;for(let a=0;a<o;a++)if(a in r.lvs&&i===e[a])return!0;return!1},$indexOf(i){let o=r.lvs.length;for(let a=0;a<o;a++)if(a in r.lvs&&i===e[a])return+a;return-1},$lastIndexOf(i){for(let o=r.lvs.length-1;o>=0;o--)if(o in r.lvs&&i===e[o])return+o;return-1},$find(i){let o=r.lvs.length;for(let a=0;a<o;a++)if(a in r.lvs){let s=e[a];if(i(s))return s}},$findIndex(i){let o=r.lvs.length;for(let a=0;a<o;a++)if(a in r.lvs){let s=e[a];if(i(s))return+a}},$forEach(i){let o=r.lvs.length;for(let a=0;a<o;a++)a in r.lvs&&i(e[a],+a,e)},$at(i){return i<0?e[r.lvs.length+i]:e[i]},*[Symbol.iterator](){for(let i in r.lvs)yield e[i]}})}},a0=(t,e,r,n,i)=>{let{data:o,map:a,scm:s,oldRoot:l,old:u,access:c}=t;i&&(s.lvs[e]=qx(s.itm));let d=s.lvs[e];d.path=(s.path??"")+"."+e;let f=s$[d.ty];d.layer=f?.layer??0,d.layer&&(o[e]=f.container(),d.layer>1&&(d.lvs=f.container()));let h=m=>JSON.stringify(m,null,2)+": ";d.ty==="enum"&&(d.get??="val",d.set??="val",d.fromOld=m=>{let b=d.set;d.set="id",r[e]=m,d.set=b},d.get!=="both"&&d.set==="both"&&Rt("SyntaxError",h(d)+"{ ty: 'enum' → ¬(get: 'both' ∧ set: ¬ 'both') }")),d.ty==="tuple"&&(d.lvs=d.lvs.flatMap(m=>{let b=1;return"repeat"in m&&(b=m.repeat,(typeof b!="number"||b<0||b%1)&&Rt("SyntaxError",h(d)+"{ ty: 'tuple' → itm: [ ∀ i: { repeat?: integer } } ]"),delete m.repeat),Array.from({length:b},()=>qx(m))})),a(d),d.pathRoot=d.root?"#"+d.path:s.pathRoot??e,d.raw=(d.root?null:s.raw)??(()=>o[e]);let p={data:o[e],map:a,scm:d,oldRoot:l,old:u?.[e],access:c};if(d.layer)n[e]=Hx(p);else{let m=d.root?l[d.pathRoot]:u?.[e];m!==void 0?d.ty==="enum"?d.fromOld(m):r[e]=m:"dft"in d&&(r[e]=d.dft)}f?.api&&(d.api=f.api(p,n[e]))},Hx=t=>{let{data:e,scm:r,oldRoot:n,old:i,access:o}=t,a={},s=`Parent ${r.ty} @ ${r.path}`,l=c=>{if(typeof c!="symbol"&&r.ty==="array"){let d=s+` requires the index to be in [ ${r.minIdx??=0}, ${r.maxIdx??=1/0} ], but got ${c}. `;(c<r.minIdx||c>r.maxIdx)&&Rt("RangeError",d)}},u=new Proxy(a,{get:(c,d)=>{if(d==="__scm__")return r;if(d==="__tar__")return a;if(r.api&&d in r.api)return r.api[d];if(l(d),!r.lvs[d])switch(r.layer){case 1:Rt("TypeError",s+` doesn't have leaf ${d}.`);break;case 2:return}let f=r.lvs[d];if(f.ty==="enum")switch(f.get){case"id":return a[d];case"val":return f.vals[a[d]];case"both":return{get id(){return a[d]},set id(h){let p=f.set;f.set="id",u[d]=h,f.set=p},get val(){return f.vals[a[d]]},set val(h){let p=f.set;f.set="val",u[d]=h,f.set=p}}}return a[d]},set:(c,d,f)=>{if(l(d),!r.lvs[d])switch(r.layer){case 1:Rt("TypeError",s+` doesn't have leaf ${d}.`);break;case 2:a0(t,d,u,a,!0);break}r.api&&d in r.api&&Rt("TypeError",s+` has API ${d}. Failed.`);let h=r.lvs[d],p=`Leaf @ ${h.path}`,m="Failed strictly.",b=p+` is ${["simple","fixed complex","flexible complex"][h.layer]} type, `;h.locked&&Rt("TypeError",p+" is locked, but was attempted to modify.");let x=o$(f);if(x==="undefined"){if(r.layer===1&&!r.del&&Rt("TypeError",b+"but its "+p+" was attempted to delete."),h.layer){h.del=!0;for(let k in h.lvs)delete a[d][k]}delete r.lvs[d]}else if(x==="array"&&h.lvs instanceof Array||x==="object"&&h.lvs&&!(h.lvs instanceof Array)){for(let k in h.lvs)a[d][k]=f[k];return!0}else if(!["any","enum"].includes(h.ty)&&x!==h.ty){let k=p+` requires type ${h.ty}, but got ${x}: ${f}. `;h.strict&&Rt("TypeError",k+m);let D=a$[`${x}_${h.ty}`];D?f=D(f):Rt("TypeError",k+"Failed to convert.")}if(h.ty==="number"){let k=p+` requires to be in [ ${h.min??-1/0}, ${h.max??1/0} ], but got ${f}. `;(f<h.min||f>h.max)&&Rt("RangeError",k),h.int&&f%1&&(h.strict&&Rt("RangeError",p+" requires to be an integer. "+m),f=Math.floor(f))}else if(h.ty==="enum")switch(h.set){case"id":(typeof f!="number"||!f in h.vals)&&Rt("RangeError",p+` requires to be an enum index in [ ${0}, ${h.vals.length} ], but got ${f}.`);break;case"val":f=h.vals.findIndex(k=>k===f),f<0&&Rt("RangeError",p+` requires to be in the enum { ${h.vals.join(", ")} }, but got ${f}.`);break;case"both":Rt("TypeError",p+" is an enum accepting both id and value ways of modification, but was attempted to modify without using any setter.")}if(a[d]=e[d]=f,h.quick||h.root){let k=h.raw();k===void 0?o.del(h.pathRoot):o.set(h.pathRoot,k)}return!0},deleteProperty:(c,d)=>(u[d]=void 0,!0),has:(c,d)=>d in r.lvs});switch(r.layer){case 1:for(let d in r.lvs)a0(t,d,u,a);break;case 2:(r.itmRoot?Object.keys(n).map(d=>d.match(String.raw`^#${r.path}\.([^.]+)`)?.[1]).filter(d=>d):Object.keys(i??{})).forEach(d=>a0(t,d,u,a,!0));break}return u},wl=class{loadData(e,{access:r,autoSave:n,old:i,map:o}){return this.raw&&Rt("Error","ProxyData cannot be loaded multiple times."),this.raw={},this.access=r,i??=r.list().reduce((a,s)=>(a[s]=r.get(s),a),{}),n&&window.addEventListener("beforeunload",()=>this.saveData()),Hx({data:this.raw,scm:{lvs:e,layer:1},map:o??(a=>a),old:i,oldRoot:i,access:r})}saveData(e=this.raw){Object.keys(e).forEach(r=>this.access.set(r,e[r]))}clearData(){this.raw=null,this.access.list().forEach(this.access.del)}};Me("Exposing");var Wx=new wl,Vx=Wx.loadData({settingVersion:{ty:"number",dft:0}},{access:gm()});Vx.settingVersion===0&&(GM_listValues().every(t=>typeof GM_getValue(t)=="string")&&GM_listValues().forEach(t=>GM_setValue(t,JSON.parse(GM_getValue(t)))),Vx.settingVersion=1,Wx.saveData());var Ux=new wl,Gx=Ux.loadData(Jt,{access:gm(),map:t=>{t.root=!t.rec,t.itmRoot=t.rec===2}});J.fake_sto=Qr.sto=Gx;Object.assign(ye,{exlg:{mod:J,compo:Qr,scm:Jt,log:Me,error:Ft,queues:pn,springboard:zl,version_cmp:yi,lg_alert:t1,lg_content:Sr,register_badge:jl,lg_post:qo,exlg_alert:Se,xss:eo,pd:Ux,sto:Gx},GM:{GM_info,GM_addStyle,GM_setClipboard,GM_xmlhttpRequest,GM_getValue,GM_setValue,GM_deleteValue,GM_listValues},$$:C});J.preload();J.execute_v2();pn.preload.apply();C(()=>{Me("Launching"),pn.onload.apply()});})();
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */
